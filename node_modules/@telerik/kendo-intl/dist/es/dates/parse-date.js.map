{"version":3,"file":"parse-date.js","sources":["parse-date.js"],"sourcesContent":["import { adjustDST, convertTimeZone } from './time-utils';\nimport { localeInfo } from '../cldr';\nimport { DEFAULT_LOCALE, EMPTY } from '../common/constants';\nimport { errors } from '../errors';\nimport formatNames from './format-names';\nimport datePattern from './date-pattern';\nimport round from '../common/round';\nimport isDate from '../common/is-date';\n\nconst timeZoneOffsetRegExp = /([+|\\-]\\d{1,2})(:?)(\\d{2})?/;\nconst dateRegExp = /^\\/Date\\((.*?)\\)\\/$/;\nconst offsetRegExp = /[+-]\\d*/;\nconst numberRegExp = {\n    2: /^\\d{1,2}/,\n    3: /^\\d{1,3}/,\n    4: /^\\d{4}/\n};\nconst numberRegex = /\\d+/;\nconst PLACEHOLDER = \"{0}\";\n\nconst standardDateFormats = [\n    \"yyyy/MM/dd HH:mm:ss\",\n    \"yyyy/MM/dd HH:mm\",\n    \"yyyy/MM/dd\",\n    \"E MMM dd yyyy HH:mm:ss\",\n    \"yyyy-MM-ddTHH:mm:ss.SSSSSSSXXX\",\n    \"yyyy-MM-ddTHH:mm:ss.SSSXXX\",\n    \"yyyy-MM-ddTHH:mm:ssXXX\",\n    \"yyyy-MM-ddTHH:mm:ss.SSSSSSS\",\n    \"yyyy-MM-ddTHH:mm:ss.SSS\",\n    \"yyyy-MM-ddTHH:mmXXX\",\n    \"yyyy-MM-ddTHH:mmX\",\n    \"yyyy-MM-ddTHH:mm:ss\",\n    \"yyyy-MM-ddTHH:mm\",\n    \"yyyy-MM-dd HH:mm:ss\",\n    \"yyyy-MM-dd HH:mm\",\n    \"yyyy-MM-dd\",\n    \"HH:mm:ss\",\n    \"HH:mm\"\n];\nconst FORMATS_SEQUENCE = [ \"G\", \"g\", \"F\", \"Y\", \"y\", \"M\", \"m\", \"D\", \"d\", \"y\", \"T\", \"t\" ];\nconst TWO_DIGIT_YEAR_MAX = 2029;\n\nfunction outOfRange(value, start, end) {\n    return !(value >= start && value <= end);\n}\n\nfunction lookAhead(match, state) {\n    let { format, idx } = state;\n    let i = 0;\n    while (format[idx] === match) {\n        i++;\n        idx++;\n    }\n    if (i > 0) {\n        idx -= 1;\n    }\n    state.idx = idx;\n    return i;\n}\n\nfunction getNumber(size, state) {\n    let regex = size ? (numberRegExp[size] || new RegExp('^\\\\d{1,' + size + '}')) : numberRegex,\n        match = state.value.substr(state.valueIdx, size).match(regex);\n\n    if (match) {\n        match = match[0];\n        state.valueIdx += match.length;\n        return parseInt(match, 10);\n    }\n    return null;\n}\n\nfunction getIndexByName(names, state, lower) {\n    let i = 0,\n        length = names.length,\n        name, nameLength,\n        matchLength = 0,\n        matchIdx = 0,\n        subValue;\n\n    for (; i < length; i++) {\n        name = names[i];\n        nameLength = name.length;\n        subValue = state.value.substr(state.valueIdx, nameLength);\n\n        if (lower) {\n            subValue = subValue.toLowerCase();\n        }\n\n        if (subValue === name && nameLength > matchLength) {\n            matchLength = nameLength;\n            matchIdx = i;\n        }\n    }\n\n    if (matchLength) {\n        state.valueIdx += matchLength;\n        return matchIdx + 1;\n    }\n\n    return null;\n}\n\nfunction checkLiteral(state) {\n    let result = false;\n    if (state.value.charAt(state.valueIdx) === state.format[state.idx]) {\n        state.valueIdx++;\n        result = true;\n    }\n    return result;\n}\n\nfunction calendarGmtFormats(calendar) {\n    const { gmtFormat, gmtZeroFormat } = calendar;\n    if (!gmtFormat) {\n        throw errors.NoGMTInfo.error();\n    }\n\n    return [ gmtFormat.replace(PLACEHOLDER, EMPTY).toLowerCase(), gmtZeroFormat.replace(PLACEHOLDER, EMPTY).toLowerCase() ];\n}\n\nfunction parseTimeZoneOffset(state, info, options) {\n    const { shortHours, noSeparator, optionalMinutes, localizedName, zLiteral } = options;\n    state.UTC = true;\n\n    if (zLiteral && state.value.charAt(state.valueIdx) === \"Z\") {\n        state.valueIdx++;\n        return false;\n    }\n\n    if (localizedName && !getIndexByName(calendarGmtFormats(info.calendar), state, true)) {\n        return true;\n    }\n\n    const matches = timeZoneOffsetRegExp.exec(state.value.substr(state.valueIdx, 6));\n    if (!matches) {\n        return !localizedName;\n    }\n\n    const hoursMatch = matches[1];\n    const minutesMatch = matches[3];\n    const hoursOffset = parseInt(hoursMatch, 10);\n    const separator = matches[2];\n    let minutesOffset = parseInt(minutesMatch, 10);\n\n    if (isNaN(hoursOffset) || (!shortHours && hoursMatch.length !== 3) || (!optionalMinutes && isNaN(minutesOffset)) || (noSeparator && separator)) {\n        return true;\n    }\n\n    if (isNaN(minutesOffset)) {\n        minutesOffset = null;\n    }\n\n    if (outOfRange(hoursOffset, -12, 13) || (minutesOffset && outOfRange(minutesOffset, 0, 59))) {\n        return true;\n    }\n\n    state.valueIdx += matches[0].length;\n    state.hoursOffset = hoursOffset;\n    state.minutesOffset = minutesOffset;\n}\n\nfunction parseMonth(ch, state, info) {\n    const count = lookAhead(ch, state);\n    const names = formatNames(info, \"months\", count, ch === \"L\", true);\n\n    const month = count < 3 ? getNumber(2, state) : getIndexByName(names, state, true);\n\n    if (month === null || outOfRange(month, 1, 12)) {\n        return true;\n    }\n    state.month = month - 1;\n}\n\nfunction parseDayOfWeek(ch, state, info) {\n    const count = lookAhead(ch, state);\n    const names = formatNames(info, \"days\", count, ch === \"c\", true);\n    let dayOfWeek = count < 3 ? getNumber(1, state) : getIndexByName(names, state, true);\n    if ((!dayOfWeek && dayOfWeek !== 0) || outOfRange(dayOfWeek, 1, 7)) {\n        return true;\n    }\n}\n\nconst parsers = {};\n\nparsers.d = function(state) {\n    lookAhead(\"d\", state);\n    const day = getNumber(2, state);\n\n    if (day === null || outOfRange(day, 1, 31)) {\n        return true;\n    }\n\n    if (state.day === null) {\n        state.day = day;\n    }\n};\n\nparsers.E = function(state, info) {\n    const count = lookAhead(\"E\", state);\n    //validate if it matches the day?\n    let dayOfWeek = getIndexByName(formatNames(info, \"days\", count, false, true), state, true);\n    if (dayOfWeek === null) {\n        return true;\n    }\n};\n\nparsers.M = function(state, info) {\n    return parseMonth(\"M\", state, info);\n};\n\nparsers.L = function(state, info) {\n    return parseMonth(\"L\", state, info);\n};\n\nparsers.y = function(state) {\n    const count = lookAhead(\"y\", state);\n    let year = getNumber(count === 1 ? undefined : count, state);\n\n    if (year === null) {\n        return true;\n    }\n\n    if (count === 2) {\n        const currentYear = new Date().getFullYear();\n        year = (currentYear - currentYear % 100) + year;\n        if (year > TWO_DIGIT_YEAR_MAX) {\n            year -= 100;\n        }\n    }\n\n    state.year = year;\n};\n\nparsers.h = function(state) {\n    lookAhead(\"h\", state);\n\n    let hours = getNumber(2, state);\n    if (hours === 12) {\n        hours = 0;\n    }\n\n    if (hours === null || outOfRange(hours, 0, 11)) {\n        return true;\n    }\n\n    state.hours = hours;\n};\n\nparsers.K = function(state) {\n    lookAhead(\"K\", state);\n\n    let hours = getNumber(2, state);\n\n    if (hours === null || outOfRange(hours, 0, 11)) {\n        return true;\n    }\n\n    state.hours = hours;\n};\n\nparsers.a = function(state, info) {\n    const count = lookAhead(\"a\", state);\n    let periodFormats = formatNames(info, \"dayPeriods\", count, false, true);\n\n    const pmHour = getIndexByName([ periodFormats.pm ], state, true);\n    if (!pmHour && !getIndexByName([ periodFormats.am ], state, true)) {\n        return true;\n    }\n\n    state.pmHour = pmHour;\n};\n\nparsers.H = function(state) {\n    lookAhead(\"H\", state);\n    const hours = getNumber(2, state);\n    if (hours === null || outOfRange(hours, 0, 23)) {\n        return true;\n    }\n    state.hours = hours;\n};\n\nparsers.k = function(state) {\n    lookAhead(\"k\", state);\n\n    let hours = getNumber(2, state);\n\n    if (hours === null || outOfRange(hours, 1, 24)) {\n        return true;\n    }\n\n    state.hours = hours === 24 ? 0 : hours;\n};\n\nparsers.m = function(state) {\n    lookAhead(\"m\", state);\n    const minutes = getNumber(2, state);\n\n    if (minutes === null || outOfRange(minutes, 0, 59)) {\n        return true;\n    }\n\n    state.minutes = minutes;\n};\n\nparsers.s = function(state) {\n    lookAhead(\"s\", state);\n    const seconds = getNumber(2, state);\n    if (seconds === null || outOfRange(seconds, 0, 59)) {\n        return true;\n    }\n    state.seconds = seconds;\n};\n\nparsers.S = function(state) {\n    const count = lookAhead(\"S\", state);\n    const match = state.value.substr(state.valueIdx, count);\n    let milliseconds = null;\n\n    if (!isNaN(parseInt(match, 10))) {\n        milliseconds = parseFloat(\"0.\" + match, 10);\n        milliseconds = round(milliseconds, 3);\n        milliseconds *= 1000;\n        state.valueIdx += count;\n    }\n\n    if (milliseconds === null || outOfRange(milliseconds, 0, 999)) {\n        return true;\n    }\n\n    state.milliseconds = milliseconds;\n};\n\nparsers.z = function(state, info) {\n    const count = lookAhead(\"z\", state);\n\n    const shortFormat = count < 4;\n\n    const invalid = parseTimeZoneOffset(state, info, {\n        shortHours: shortFormat,\n        optionalMinutes: shortFormat,\n        localizedName: true\n    });\n\n    if (invalid) {\n        return invalid;\n    }\n};\n\nparsers.Z = function(state, info) {\n    const count = lookAhead(\"Z\", state);\n\n    const invalid = parseTimeZoneOffset(state, info, {\n        noSeparator: count < 4,\n        zLiteral: count === 5,\n        localizedName: count === 4\n    });\n\n    if (invalid) {\n        return invalid;\n    }\n};\n\nparsers.x = function(state, info) {\n    const count = lookAhead(\"x\", state);\n\n    const invalid = parseTimeZoneOffset(state, info, {\n        noSeparator: count !== 3 && count !== 5,\n        optionalMinutes: count === 1\n    });\n    if (invalid) {\n        return invalid;\n    }\n};\n\nparsers.X = function(state, info) {\n    const count = lookAhead(\"X\", state);\n\n    const invalid = parseTimeZoneOffset(state, info, {\n        noSeparator: count !== 3 && count !== 5,\n        optionalMinutes: count === 1,\n        zLiteral: true\n    });\n    if (invalid) {\n        return invalid;\n    }\n};\n\nparsers.G = function(state, info) {\n    const count = lookAhead(\"G\", state);\n    const eras = formatNames(info, \"eras\", count, false, true);\n    const era = getIndexByName([ eras[0], eras[1] ], state, true);\n\n    if (era === null) {\n        return true;\n    }\n};\n\nparsers.e = function(state, info) {\n    return parseDayOfWeek(\"e\", state, info);\n};\n\nparsers.c = function(state, info) {\n    return parseDayOfWeek(\"c\", state, info);\n};\n\nfunction createDate(state) {\n    let { year, month, day, hours, minutes, seconds, milliseconds, pmHour, UTC, hoursOffset, minutesOffset } = state;\n    const hasTime = hours !== null || minutes !== null || seconds || null;\n    const date = new Date();\n    let result;\n\n    if (year === null && month === null && day === null && hasTime) {\n        year = date.getFullYear();\n        month = date.getMonth();\n        day = date.getDate();\n    } else {\n        if (year === null) {\n            year = date.getFullYear();\n        }\n\n        if (day === null) {\n            day = 1;\n        }\n    }\n\n    if (pmHour && hours < 12) {\n        hours += 12;\n    }\n\n    if (UTC) {\n        if (hoursOffset) {\n            hours += -hoursOffset;\n        }\n\n        if (minutesOffset) {\n            minutes += -minutesOffset * (hoursOffset < 0 ? -1 : 1);\n        }\n\n        result = new Date(Date.UTC(year, month, day, hours, minutes, seconds, milliseconds));\n    } else {\n        result = new Date(year, month, day, hours, minutes, seconds, milliseconds);\n        adjustDST(result, hours);\n    }\n\n    if (year < 100) {\n        result.setFullYear(year);\n    }\n\n    if (result.getDate() !== day && UTC === undefined) {\n        return null;\n    }\n\n    return result;\n}\n\nfunction parseExact(value, format, info) {\n    let pattern = datePattern(format, info).split(EMPTY);\n\n    const state = {\n        format: pattern,\n        idx: 0,\n        value: value,\n        valueIdx: 0,\n        year: null,\n        month: null,\n        day: null,\n        hours: null,\n        minutes: null,\n        seconds: null,\n        milliseconds: null\n    };\n    const length = pattern.length;\n    let literal = false;\n\n    for (; state.idx < length; state.idx++) {\n        let ch = pattern[state.idx];\n\n        if (literal) {\n            if (ch === \"'\") {\n                literal = false;\n            }\n\n            checkLiteral(state);\n        } else {\n            if (parsers[ch]) {\n                let invalid = parsers[ch](state, info);\n                if (invalid) {\n                    return null;\n                }\n            } else if (ch === \"'\") {\n                literal = true;\n                checkLiteral(state);\n            } else if (!checkLiteral(state)) {\n                return null;\n            }\n        }\n    }\n\n    if (state.valueIdx < value.length) {\n        return null;\n    }\n\n    return createDate(state) || null;\n}\n\nfunction parseMicrosoftDateOffset(offset) {\n    const sign = offset.substr(0, 1) === \"-\" ? -1 : 1;\n\n    let result = offset.substring(1);\n    result = (parseInt(result.substr(0, 2), 10) * 60) + parseInt(result.substring(2), 10);\n\n    return sign * result;\n}\n\nfunction parseMicrosoftDateFormat(value) {\n    if (value && value.indexOf(\"/D\") === 0) {\n        let date = dateRegExp.exec(value);\n        if (date) {\n            date = date[1];\n            let tzoffset = offsetRegExp.exec(date.substring(1));\n\n            date = new Date(parseInt(date, 10));\n\n            if (tzoffset) {\n                tzoffset = parseMicrosoftDateOffset(tzoffset[0]);\n                date = convertTimeZone(date, date.getTimezoneOffset(), 0);\n                date = convertTimeZone(date, 0, -1 * tzoffset);\n            }\n\n            return date;\n        }\n    }\n}\n\nfunction defaultFormats(calendar) {\n    const formats = [];\n    const patterns = calendar.patterns;\n    const length = FORMATS_SEQUENCE.length;\n\n    for (let idx = 0; idx < length; idx++) {\n        formats.push(patterns[FORMATS_SEQUENCE[idx]]);\n    }\n\n    return formats.concat(standardDateFormats);\n}\n\nexport default function parseDate(value, formats, locale = DEFAULT_LOCALE) {\n    if (!value) {\n        return null;\n    }\n\n    if (isDate(value)) {\n        return value;\n    }\n\n    let parseValue = String(value).trim();\n    let date = parseMicrosoftDateFormat(parseValue);\n    if (date) {\n        return date;\n    }\n\n    const info = localeInfo(locale);\n    let parseFormats = formats || defaultFormats(info.calendar);\n    parseFormats = Array.isArray(parseFormats) ? parseFormats : [ parseFormats ];\n\n    const length = parseFormats.length;\n\n    for (let idx = 0; idx < length; idx++) {\n        date = parseExact(parseValue, parseFormats[idx], info);\n        if (date) {\n            return date;\n        }\n    }\n\n    return date;\n}\n"],"names":["const","let"],"mappings":"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"}