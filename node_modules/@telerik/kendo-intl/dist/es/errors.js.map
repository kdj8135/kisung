{"version":3,"file":"errors.js","sources":["errors.js"],"sourcesContent":["import errorDetails from './error-details';\n\nconst formatRegExp = /\\{(\\d+)}?\\}/g;\n\nclass IntlError {\n    constructor({ name, message }) {\n        if (!name || !message) {\n            throw new Error(\"{ name: string, message: string } object is required!\");\n        }\n\n        this.name = name;\n        this.message = message;\n    }\n\n    formatMessage(...values) {\n        const flattenValues = flatten(values);\n\n        const formattedMessage = this.message.replace(formatRegExp, function(match, index) {\n            return flattenValues[parseInt(index, 10)];\n        });\n\n        return `${this.name}: ${formattedMessage}`;\n    }\n\n    error(...values) {\n        return new Error(this.formatMessage(values));\n    }\n}\n\nconst flatten = function(arr) {\n    return arr.reduce((a, b) => a.concat(b), []);\n};\n\nconst toIntlErrors = function(errors) {\n    const predicate = function(prev, name) {\n        prev[name] = new IntlError({ name, message: errors[name] });\n        return prev;\n    };\n\n    return Object.keys(errors).reduce(predicate, {});\n};\n\nconst errors = toIntlErrors(errorDetails);\n\nexport {\n    errors,\n    IntlError,\n    toIntlErrors\n};\n"],"names":["const"],"mappings":"AAAA,OAAO,YAAY,MAAM,iBAAiB,CAAC;;AAE3CA,GAAK,CAAC,YAAY,GAAG,cAAc,CAAC;;AAEpC,IAAM,SAAS,GAAC,AAChB,AAAI,kBAAW,CAAC,GAAA,AAAM,AAAS,AAAE,EAAE,CAAjB;QAAA,IAAI,YAAE;QAAA,OAAO;AAAK;IAChC,AAAI,IAAI,CAAC,IAAI,IAAI,CAAC,OAAO,EAAE;QACvB,AAAI,MAAM,IAAI,KAAK,CAAC,uDAAuD,CAAC,CAAC;IACjF,AAAI,CAAC;;IAEL,AAAI,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;IACrB,AAAI,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;AAC/B,AAAI,CAAC,CAAA;;AAEL,AAAI,oBAAA,aAAa,0BAAA,CAAC,AAAS,EAAE,CAAC;;;AAAA;IAC1B,AAAIA,GAAK,CAAC,aAAa,GAAG,OAAO,CAAC,MAAM,CAAC,CAAC;;IAE1C,AAAIA,GAAK,CAAC,gBAAgB,GAAG,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,YAAY,EAAE,SAAS,KAAK,EAAE,KAAK,EAAE;QACnF,AAAI,OAAO,aAAa,CAAC,QAAQ,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC,CAAC;IAClD,AAAI,CAAC,CAAC,CAAC;;IAEP,AAAI,OAAO,CAAA,CAAG,IAAI,CAAC,IAAI,CAAA,OAAG,GAAE,gBAAgB,CAAE,CAAC;AACnD,AAAI,CAAC,CAAA;;AAEL,AAAI,oBAAA,KAAK,kBAAA,CAAC,AAAS,EAAE,CAAC;;;AAAA;IAClB,AAAI,OAAO,IAAI,KAAK,CAAC,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC,CAAC;AACrD,AAAI,CAAC,CAAA,AACJ;;AAEDA,GAAK,CAAC,OAAO,GAAG,SAAS,GAAG,EAAE;IAC1B,OAAO,GAAG,CAAC,MAAM,CAAC,SAAA,CAAC,CAAC,EAAE,CAAC,EAAE,AAAG,SAAA,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,GAAA,EAAE,EAAE,CAAC,CAAC;CAChD,CAAC;;AAEFA,GAAK,CAAC,YAAY,GAAG,SAAS,MAAM,EAAE;IAClCA,GAAK,CAAC,SAAS,GAAG,SAAS,IAAI,EAAE,IAAI,EAAE;QACnC,IAAI,CAAC,IAAI,CAAC,GAAG,IAAI,SAAS,CAAC,EAAE,MAAA,IAAI,EAAE,OAAO,EAAE,MAAM,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;QAC5D,OAAO,IAAI,CAAC;KACf,CAAC;;IAEF,OAAO,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,MAAM,CAAC,SAAS,EAAE,EAAE,CAAC,CAAC;CACpD,CAAC;;AAEFA,GAAK,CAAC,MAAM,GAAG,YAAY,CAAC,YAAY,CAAC,CAAC;;AAE1C;IACI,MAAM;IACN,SAAS;IACT,YAAY;EACd;"}