{"version":3,"file":"territory.js","sources":["territory.js"],"sourcesContent":["import { cldr } from './info';\n\nfunction territoryFromName(name) {\n    const parts = name.split(\"-\");\n    const length = parts.length;\n\n    if (length > 1) {\n        const territory = parts[ length - 1 ];\n        return territory.toUpperCase();\n    }\n}\n\nfunction territoryFromName(name, identity) {\n    const likelySubtags = cldr.supplemental.likelySubtags;\n    let parts = name.split(\"-\");\n    if (likelySubtags) {\n        const likelyName = likelySubtags[name] || likelySubtags[parts[0]];\n        if (likelyName) {\n            parts = likelyName.split(\"-\");\n        }\n    }\n\n    if (identity) {\n        for (let idx = parts.length - 1; idx >= 1; idx--) {\n            const part = parts[idx];\n            if (part === identity.variant || part === identity.script) {\n                parts.splice(idx, 1);\n            }\n        }\n    }\n\n    const length = parts.length;\n\n    if (length > 1) {\n        const territory = parts[length - 1];\n        return territory.toUpperCase();\n    }\n}\n\nexport default function localeTerritory(info) {\n    if (info.territory) {\n        return info.territory;\n    }\n\n    const name = info.name;\n    const identity = info.identity;\n    let territory;\n\n    if (identity && identity.territory) {\n        territory = identity.territory;\n    } else {\n        territory = territoryFromName(name, identity);\n    }\n\n    info.territory = territory;\n\n    return territory;\n}\n"],"names":["const","let"],"mappings":"AAAA,SAAS,IAAI,QAAQ,QAAQ,CAAC;;AAE9B,SAAS,iBAAiB,CAAC,IAAI,EAAE;IAC7BA,GAAK,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;IAC9BA,GAAK,CAAC,MAAM,GAAG,KAAK,CAAC,MAAM,CAAC;;IAE5B,IAAI,MAAM,GAAG,CAAC,EAAE;QACZA,GAAK,CAAC,SAAS,GAAG,KAAK,EAAE,MAAM,GAAG,CAAC,EAAE,CAAC;QACtC,OAAO,SAAS,CAAC,WAAW,EAAE,CAAC;KAClC;CACJ;;AAED,SAAS,iBAAiB,CAAC,IAAI,EAAE,QAAQ,EAAE;IACvCA,GAAK,CAAC,aAAa,GAAG,IAAI,CAAC,YAAY,CAAC,aAAa,CAAC;IACtDC,GAAG,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;IAC5B,IAAI,aAAa,EAAE;QACfD,GAAK,CAAC,UAAU,GAAG,aAAa,CAAC,IAAI,CAAC,IAAI,aAAa,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;QAClE,IAAI,UAAU,EAAE;YACZ,KAAK,GAAG,UAAU,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;SACjC;KACJ;;IAED,IAAI,QAAQ,EAAE;QACV,KAAKC,GAAG,CAAC,GAAG,GAAG,KAAK,CAAC,MAAM,GAAG,CAAC,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,EAAE,EAAE;YAC9CD,GAAK,CAAC,IAAI,GAAG,KAAK,CAAC,GAAG,CAAC,CAAC;YACxB,IAAI,IAAI,KAAK,QAAQ,CAAC,OAAO,IAAI,IAAI,KAAK,QAAQ,CAAC,MAAM,EAAE;gBACvD,KAAK,CAAC,MAAM,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;aACxB;SACJ;KACJ;;IAEDA,GAAK,CAAC,MAAM,GAAG,KAAK,CAAC,MAAM,CAAC;;IAE5B,IAAI,MAAM,GAAG,CAAC,EAAE;QACZA,GAAK,CAAC,SAAS,GAAG,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;QACpC,OAAO,SAAS,CAAC,WAAW,EAAE,CAAC;KAClC;CACJ;;AAED,eAAe,SAAS,eAAe,CAAC,IAAI,EAAE;IAC1C,IAAI,IAAI,CAAC,SAAS,EAAE;QAChB,OAAO,IAAI,CAAC,SAAS,CAAC;KACzB;;IAEDA,GAAK,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC;IACvBA,GAAK,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC;IAC/BC,GAAG,CAAC,SAAS,CAAC;;IAEd,IAAI,QAAQ,IAAI,QAAQ,CAAC,SAAS,EAAE;QAChC,SAAS,GAAG,QAAQ,CAAC,SAAS,CAAC;KAClC,MAAM;QACH,SAAS,GAAG,iBAAiB,CAAC,IAAI,EAAE,QAAQ,CAAC,CAAC;KACjD;;IAED,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;;IAE3B,OAAO,SAAS,CAAC;CACpB;"}