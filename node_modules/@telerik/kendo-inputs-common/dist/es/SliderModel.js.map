{"version":3,"file":"SliderModel.js","sources":["SliderModel.js"],"sourcesContent":["import SliderUtil from './SliderUtil';\n\nclass SliderModel {\n    constructor(props, wrapper, track) {\n        this.props = props;\n        this.wrapper = wrapper;\n        this.track = track;\n        this.tickSizes = this.getTickSizes();\n    }\n\n    getTickSizes() {\n        const { max, min, smallStep } = this.props;\n        const trackWidth = this.trackWidth();\n\n        return SliderUtil.calculateTickSizes(trackWidth, min, max, smallStep);\n    }\n\n    trackWidth() {\n        if (this.props.fixedTickWidth) {\n            return SliderUtil.calculateFixedTrackSize(this.props);\n        }\n\n        return SliderUtil.calculateTrackSize(\n            this.elementSize(this.wrapper),\n            this.elementOffset(this.track),\n            this.props.buttons\n        );\n    }\n\n    resizeTrack() {\n        const orientation = this.props.vertical ? 'height' : 'width';\n        const trackWidth = this.trackWidth();\n\n        this.track.style[orientation] = `${trackWidth}px`;\n    }\n\n    resizeTicks(ticksContainer, ticks) {\n        const dimension = this.props.vertical ? \"height\" : \"width\";\n\n        Array.prototype.slice.call(ticks).map((tick, index) => tick.style[dimension] = `${this.tickSizes[index]}px`);\n\n        if (this.props.vertical) {\n            this.adjustPadding(ticksContainer);\n        }\n    }\n\n    resizeWrapper() {\n        const dimension = this.props.vertical ? \"height\" : \"width\";\n        const wrapperSize = this.elementSize(this.wrapper);\n        const trackWidth = SliderUtil.calculateTrackSize(wrapperSize, this.elementOffset(this.track));\n        const fixedTrackWidth = SliderUtil.calculateFixedTrackSize(this.props);\n\n        if (trackWidth > fixedTrackWidth) {\n            this.wrapper.parentElement.style[dimension] = `${ wrapperSize - (trackWidth - fixedTrackWidth)}px`;\n        } else {\n            this.wrapper.parentElement.style[dimension] = `${ wrapperSize + (fixedTrackWidth - trackWidth)}px`;\n        }\n    }\n\n    positionHandle(dragHandle) {\n        const { max, min, reverse, vertical } = this.props;\n        const position = vertical ? 'bottom' : 'left';\n        const trackWidth = this.trackWidth();\n        const value = SliderUtil.trimValue(max, min, this.props.value);\n\n        this.handlePosition = SliderUtil.calculateHandlePosition({\n            min,\n            max,\n            reverse,\n            value,\n            trackWidth,\n            handleWidth: dragHandle.offsetWidth\n        });\n\n        dragHandle.style[position] = `${this.handlePosition}px`;\n    }\n\n    positionSelection(dragHandle, selection) {\n        const { reverse, vertical } = this.props;\n        const dimension = vertical ? 'height' : 'width';\n        const handleWidth = Math.floor(dragHandle.offsetWidth / 2);\n        let size = this.handlePosition + handleWidth;\n\n        if (reverse) {\n            size = this.trackWidth() - size;\n        }\n\n        selection.style[dimension] = `${size}px`;\n    }\n\n    adjustPadding(ticksContainer) {\n        const totalTickSize = this.tickSizes.reduce((prev, curr) => prev + curr, 0);\n        const trackWidth = this.trackWidth();\n        const reminder = trackWidth - totalTickSize;\n\n        if (reminder !== 0) {\n            const padding = reminder + this.elementOffset(this.track);\n            ticksContainer.style.paddingTop = `${padding}px`;\n        }\n    }\n\n    elementOffset(element) {\n        const { vertical } = this.props;\n        const style = getComputedStyle(element);\n\n        return parseInt(vertical ? style.bottom : style.left, 10);\n    }\n\n    elementSize(element) {\n        const { vertical } = this.props;\n\n        return vertical ? element.clientHeight : element.clientWidth;\n    }\n}\n\nexport default SliderModel;\n"],"names":["const","this","let"],"mappings":"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"}