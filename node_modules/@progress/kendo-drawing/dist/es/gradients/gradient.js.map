{"version":3,"file":"gradient.js","sources":["gradient.js"],"sourcesContent":["import ObserversMixin from '../mixins/observers-mixin';\nimport StopsArray from './stops-array';\nimport GradientStop from './gradient-stop';\nimport { Class } from '../common';\nimport { defined, definitionId } from '../util';\n\nclass Gradient extends Class {\n\n    constructor(options = {}) {\n        super();\n\n        this.stops = new StopsArray(this._createStops(options.stops));\n        this.stops.addObserver(this);\n        this._userSpace = options.userSpace;\n        this.id = definitionId();\n    }\n\n    userSpace(value) {\n        if (defined(value)) {\n            this._userSpace = value;\n            this.optionsChange();\n            return this;\n        }\n\n        return this._userSpace;\n    }\n\n    _createStops(stops = []) {\n        const result = [];\n        for (let idx = 0; idx < stops.length; idx++) {\n            result.push(GradientStop.create(stops[idx]));\n        }\n\n        return result;\n    }\n\n    addStop(offset, color, opacity) {\n        this.stops.push(new GradientStop(offset, color, opacity));\n    }\n\n    removeStop(stop) {\n        const index = this.stops.indexOf(stop);\n        if (index >= 0) {\n            this.stops.splice(index, 1);\n        }\n    }\n}\n\nGradient.prototype.nodeType = \"Gradient\";\n\nObserversMixin.extend(Gradient.prototype);\n\nObject.assign(Gradient.prototype, {\n    optionsChange: function(e) {\n        this.trigger(\"optionsChange\", {\n            field: \"gradient\" + (e ? \".\" + e.field : \"\"),\n            value: this\n        });\n    },\n\n    geometryChange: function() {\n        this.optionsChange();\n    }\n});\n\nexport default Gradient;"],"names":["super","const","let"],"mappings":"AAAA,OAAO,cAAc,MAAM,2BAA2B,CAAC;AACvD,OAAO,UAAU,MAAM,eAAe,CAAC;AACvC,OAAO,YAAY,MAAM,iBAAiB,CAAC;AAC3C,SAAS,KAAK,QAAQ,WAAW,CAAC;AAClC,SAAS,OAAO,EAAE,YAAY,QAAQ,SAAS,CAAC;;AAEhD,IAAM,QAAQ,GAAc;IAAC,AAEzB,iBAAW,CAAC,OAAY,EAAE,CAAP;yCAAA,GAAG,EAAE;AAAG;QACvBA,KAAK,KAAA,CAAC,IAAA,CAAC,CAAC;;QAER,IAAI,CAAC,KAAK,GAAG,IAAI,UAAU,CAAC,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC;QAC9D,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;QAC7B,IAAI,CAAC,UAAU,GAAG,OAAO,CAAC,SAAS,CAAC;QACpC,IAAI,CAAC,EAAE,GAAG,YAAY,EAAE,CAAC;KAC5B;;;;8CAAA;;IAED,mBAAA,SAAS,sBAAA,CAAC,KAAK,EAAE;QACb,IAAI,OAAO,CAAC,KAAK,CAAC,EAAE;YAChB,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;YACxB,IAAI,CAAC,aAAa,EAAE,CAAC;YACrB,OAAO,IAAI,CAAC;SACf;;QAED,OAAO,IAAI,CAAC,UAAU,CAAC;KAC1B,CAAA;;IAED,mBAAA,YAAY,yBAAA,CAAC,KAAU,EAAE,CAAP;qCAAA,GAAG,EAAE;AAAG;QACtBC,GAAK,CAAC,MAAM,GAAG,EAAE,CAAC;QAClB,KAAKC,GAAG,CAAC,GAAG,GAAG,CAAC,EAAE,GAAG,GAAG,KAAK,CAAC,MAAM,EAAE,GAAG,EAAE,EAAE;YACzC,MAAM,CAAC,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;SAChD;;QAED,OAAO,MAAM,CAAC;KACjB,CAAA;;IAED,mBAAA,OAAO,oBAAA,CAAC,MAAM,EAAE,KAAK,EAAE,OAAO,EAAE;QAC5B,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,YAAY,CAAC,MAAM,EAAE,KAAK,EAAE,OAAO,CAAC,CAAC,CAAC;KAC7D,CAAA;;IAED,mBAAA,UAAU,uBAAA,CAAC,IAAI,EAAE;QACbD,GAAK,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;QACvC,IAAI,KAAK,IAAI,CAAC,EAAE;YACZ,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;SAC/B;KACJ,CAAA,AACJ;;;EAxCsB,KAwCtB,GAAA;;AAED,QAAQ,CAAC,SAAS,CAAC,QAAQ,GAAG,UAAU,CAAC;;AAEzC,cAAc,CAAC,MAAM,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC;;AAE1C,MAAM,CAAC,MAAM,CAAC,QAAQ,CAAC,SAAS,EAAE;IAC9B,aAAa,EAAE,SAAS,CAAC,EAAE;QACvB,IAAI,CAAC,OAAO,CAAC,eAAe,EAAE;YAC1B,KAAK,EAAE,UAAU,GAAG,CAAC,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC,KAAK,GAAG,EAAE,CAAC;YAC5C,KAAK,EAAE,IAAI;SACd,CAAC,CAAC;KACN;;IAED,cAAc,EAAE,WAAW;QACvB,IAAI,CAAC,aAAa,EAAE,CAAC;KACxB;CACJ,CAAC,CAAC;;AAEH,eAAe,QAAQ"}