{"version":3,"file":"gradient-node.js","sources":["gradient-node.js"],"sourcesContent":["import GradientStopNode from './gradient-stop-node';\nimport BaseNode from '../core/base-node';\nimport Node from './node';\nimport renderAllAttr from './utils/render-all-attributes';\n\nclass GradientNode extends Node {\n    constructor(srcElement) {\n        super(srcElement);\n\n        this.id = srcElement.id;\n\n        this.loadStops();\n    }\n\n    loadStops() {\n        const stops = this.srcElement.stops;\n        const element = this.element;\n\n        for (let idx = 0; idx < stops.length; idx++) {\n            let stopNode = new GradientStopNode(stops[idx]);\n            this.append(stopNode);\n            if (element) {\n                stopNode.attachTo(element);\n            }\n        }\n    }\n\n    optionsChange(e) {\n        if (e.field === \"gradient.stops\") {\n            BaseNode.prototype.clear.call(this);\n            this.loadStops();\n        } else if (e.field === \"gradient\") {\n            this.allAttr(this.mapCoordinates());\n        }\n    }\n\n    renderCoordinates() {\n        return renderAllAttr(this.mapCoordinates());\n    }\n\n    mapSpace() {\n        return [ \"gradientUnits\", this.srcElement.userSpace() ? \"userSpaceOnUse\" : \"objectBoundingBox\" ];\n    }\n}\n\nexport default GradientNode;"],"names":["super","const","let","this"],"mappings":"AAAA,OAAO,gBAAgB,MAAM,sBAAsB,CAAC;AACpD,OAAO,QAAQ,MAAM,mBAAmB,CAAC;AACzC,OAAO,IAAI,MAAM,QAAQ,CAAC;AAC1B,OAAO,aAAa,MAAM,+BAA+B,CAAC;;AAE1D,IAAM,YAAY,GAAa;IAAC,AAC5B,qBAAW,CAAC,UAAU,EAAE;QACpBA,IAAK,KAAA,CAAC,MAAA,UAAU,CAAC,CAAC;;QAElB,IAAI,CAAC,EAAE,GAAG,UAAU,CAAC,EAAE,CAAC;;QAExB,IAAI,CAAC,SAAS,EAAE,CAAC;KACpB;;;;sDAAA;;IAED,uBAAA,SAAS,sBAAA,GAAG,CAAC;;AAAA;QACTC,GAAK,CAAC,KAAK,GAAG,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC;QACpCA,GAAK,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC;;QAE7B,KAAKC,GAAG,CAAC,GAAG,GAAG,CAAC,EAAE,GAAG,GAAG,KAAK,CAAC,MAAM,EAAE,GAAG,EAAE,EAAE;YACzCA,GAAG,CAAC,QAAQ,GAAG,IAAI,gBAAgB,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC;YAChDC,MAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;YACtB,IAAI,OAAO,EAAE;gBACT,QAAQ,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;aAC9B;SACJ;KACJ,CAAA;;IAED,uBAAA,aAAa,0BAAA,CAAC,CAAC,EAAE;QACb,IAAI,CAAC,CAAC,KAAK,KAAK,gBAAgB,EAAE;YAC9B,QAAQ,CAAC,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YACpC,IAAI,CAAC,SAAS,EAAE,CAAC;SACpB,MAAM,IAAI,CAAC,CAAC,KAAK,KAAK,UAAU,EAAE;YAC/B,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,cAAc,EAAE,CAAC,CAAC;SACvC;KACJ,CAAA;;IAED,uBAAA,iBAAiB,8BAAA,GAAG;QAChB,OAAO,aAAa,CAAC,IAAI,CAAC,cAAc,EAAE,CAAC,CAAC;KAC/C,CAAA;;IAED,uBAAA,QAAQ,qBAAA,GAAG;QACP,OAAO,EAAE,eAAe,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,EAAE,GAAG,gBAAgB,GAAG,mBAAmB,EAAE,CAAC;KACpG,CAAA,AACJ;;;EAtC0B,IAsC1B,GAAA;;AAED,eAAe,YAAY"}