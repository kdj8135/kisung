{"version":3,"file":"node.js","sources":["node.js"],"sourcesContent":["import BaseNode from '../core/base-node';\nimport renderAllAttr from './utils/render-all-attributes';\nimport renderAttr from './utils/render-attribute';\nimport renderStyle from './utils/render-style';\nimport NODE_MAP from './node-map';\nimport renderSVG from './utils/render-svg';\nimport { SVG_NS, NONE } from './constants';\nimport { support } from '../common';\nimport { defined } from '../util';\n\nconst TRANSFORM = \"transform\";\nconst DefinitionMap = {\n    clip: \"clip-path\",\n    fill: \"fill\"\n};\n\nfunction isDefinition(type, value) {\n    return type === \"clip\" || (type === \"fill\" && (!value || value.nodeType === \"Gradient\"));\n}\n\nfunction baseUrl() {\n    const base = document.getElementsByTagName(\"base\")[0];\n    let href = document.location.href;\n    const hashIndex = href.indexOf(\"#\");\n    let url = \"\";\n\n    if (base && !support.browser.msie) {\n        if (hashIndex !== -1) {\n            href = href.substring(0, hashIndex);\n        }\n\n        url = href;\n    }\n\n    return url;\n}\n\nfunction refUrl(id, skipBaseHref) {\n    const base = skipBaseHref ? '' : baseUrl();\n    return `url(${ base }#${ id })`;\n}\n\nclass Node extends BaseNode {\n\n    constructor(srcElement, options) {\n        super(srcElement);\n        this.definitions = {};\n\n        this.options = options;\n    }\n\n    destroy() {\n        if (this.element) {\n            this.element._kendoNode = null;\n            this.element = null;\n        }\n\n        this.clearDefinitions();\n        super.destroy();\n    }\n\n    load(elements, pos) {\n        for (let i = 0; i < elements.length; i++) {\n            const srcElement = elements[i];\n            const children = srcElement.children;\n\n            const childNode = new NODE_MAP[srcElement.nodeType](srcElement, this.options);\n\n            if (defined(pos)) {\n                this.insertAt(childNode, pos);\n            } else {\n                this.append(childNode);\n            }\n\n            childNode.createDefinitions();\n\n            if (children && children.length > 0) {\n                childNode.load(children);\n            }\n\n            const element = this.element;\n            if (element) {\n                childNode.attachTo(element, pos);\n            }\n        }\n    }\n\n    root() {\n        let root = this;\n\n        while (root.parent) {\n            root = root.parent;\n        }\n\n        return root;\n    }\n\n    attachTo(domElement, pos) {\n        const container = document.createElement(\"div\");\n        renderSVG(container,\n            \"<svg xmlns='\" + SVG_NS + \"' version='1.1'>\" +\n                this.render() +\n            \"</svg>\"\n        );\n\n        const element = container.firstChild.firstChild;\n        if (element) {\n            if (defined(pos)) {\n                domElement.insertBefore(element, domElement.childNodes[pos] || null);\n            } else {\n                domElement.appendChild(element);\n            }\n            this.setElement(element);\n        }\n    }\n\n    setElement(element) {\n        if (this.element) {\n            this.element._kendoNode = null;\n        }\n\n        this.element = element;\n        this.element._kendoNode = this;\n\n        const nodes = this.childNodes;\n        for (let i = 0; i < nodes.length; i++) {\n            let childElement = element.childNodes[i];\n            nodes[i].setElement(childElement);\n        }\n    }\n\n    clear() {\n        this.clearDefinitions();\n\n        if (this.element) {\n            this.element.innerHTML = \"\";\n        }\n\n        const children = this.childNodes;\n        for (let i = 0; i < children.length; i++) {\n            children[i].destroy();\n        }\n\n        this.childNodes = [];\n    }\n\n    removeSelf() {\n        if (this.element) {\n            const parentNode = this.element.parentNode;\n            if (parentNode) {\n                parentNode.removeChild(this.element);\n            }\n            this.element = null;\n        }\n\n        super.removeSelf();\n    }\n\n    template() {\n        return this.renderChildren();\n    }\n\n    render() {\n        return this.template();\n    }\n\n    renderChildren() {\n        const nodes = this.childNodes;\n        let output = \"\";\n\n        for (let i = 0; i < nodes.length; i++) {\n            output += nodes[i].render();\n        }\n\n        return output;\n    }\n\n    optionsChange(e) {\n        const { field, value } = e;\n\n        if (field === \"visible\") {\n            this.css(\"display\", value ? \"\" : NONE);\n        } else if (DefinitionMap[field] && isDefinition(field, value)) {\n            this.updateDefinition(field, value);\n        } else if (field === \"opacity\") {\n            this.attr(\"opacity\", value);\n        } else if (field === \"cursor\") {\n            this.css(\"cursor\", value);\n        } else if (field === \"id\") {\n            if (value) {\n                this.attr(\"id\", value);\n            } else {\n                this.removeAttr(\"id\");\n            }\n        }\n\n        super.optionsChange(e);\n    }\n\n    attr(name, value) {\n        if (this.element) {\n            this.element.setAttribute(name, value);\n        }\n    }\n\n    allAttr(attrs) {\n        for (let i = 0; i < attrs.length; i++) {\n            this.attr(attrs[i][0], attrs[i][1]);\n        }\n    }\n\n    css(name, value) {\n        if (this.element) {\n            this.element.style[name] = value;\n        }\n    }\n\n    allCss(styles) {\n        for (let i = 0; i < styles.length; i++) {\n            this.css(styles[i][0], styles[i][1]);\n        }\n    }\n\n    removeAttr(name) {\n        if (this.element) {\n            this.element.removeAttribute(name);\n        }\n    }\n\n    mapTransform(transform) {\n        const attrs = [];\n        if (transform) {\n            attrs.push([\n                TRANSFORM,\n                \"matrix(\" + transform.matrix().toString(6) + \")\"\n            ]);\n        }\n\n        return attrs;\n    }\n\n    renderTransform() {\n        return renderAllAttr(\n            this.mapTransform(this.srcElement.transform())\n        );\n    }\n\n    transformChange(value) {\n        if (value) {\n            this.allAttr(this.mapTransform(value));\n        } else {\n            this.removeAttr(TRANSFORM);\n        }\n    }\n\n    mapStyle() {\n        const options = this.srcElement.options;\n        const style = [ [ \"cursor\", options.cursor ] ];\n\n        if (options.visible === false) {\n            style.push([ \"display\", NONE ]);\n        }\n\n        return style;\n    }\n\n    renderStyle() {\n        return renderAttr(\"style\", renderStyle(this.mapStyle(true)));\n    }\n\n    renderOpacity() {\n        return renderAttr(\"opacity\", this.srcElement.options.opacity);\n    }\n\n    renderId() {\n        return renderAttr(\"id\", this.srcElement.options.id);\n    }\n\n    createDefinitions() {\n        const srcElement = this.srcElement;\n        const definitions = this.definitions;\n        if (srcElement) {\n            const options = srcElement.options;\n            let hasDefinitions;\n\n            for (let field in DefinitionMap) {\n                let definition = options.get(field);\n                if (definition && isDefinition(field, definition)) {\n                    definitions[field] = definition;\n                    hasDefinitions = true;\n                }\n            }\n            if (hasDefinitions) {\n                this.definitionChange({\n                    action: \"add\",\n                    definitions: definitions\n                });\n            }\n        }\n    }\n\n    definitionChange(e) {\n        if (this.parent) {\n            this.parent.definitionChange(e);\n        }\n    }\n\n    updateDefinition(type, value) {\n        const definitions = this.definitions;\n        const current = definitions[type];\n        const attr = DefinitionMap[type];\n        const definition = {};\n        if (current) {\n            definition[type] = current;\n            this.definitionChange({\n                action: \"remove\",\n                definitions: definition\n            });\n            delete definitions[type];\n        }\n\n        if (!value) {\n            if (current) {\n                this.removeAttr(attr);\n            }\n        } else {\n            definition[type] = value;\n            this.definitionChange({\n                action: \"add\",\n                definitions: definition\n            });\n            definitions[type] = value;\n            this.attr(attr, this.refUrl(value.id));\n        }\n    }\n\n    clearDefinitions() {\n        const definitions = this.definitions;\n\n        this.definitionChange({\n            action: \"remove\",\n            definitions: definitions\n        });\n        this.definitions = {};\n    }\n\n    renderDefinitions() {\n        return renderAllAttr(this.mapDefinitions());\n    }\n\n    mapDefinitions() {\n        const definitions = this.definitions;\n        const attrs = [];\n\n        for (let field in definitions) {\n            attrs.push([ DefinitionMap[field], this.refUrl(definitions[field].id) ]);\n        }\n\n        return attrs;\n    }\n\n    refUrl(id) {\n        const skipBaseHref = (this.options || {}).skipBaseHref;\n        return refUrl(id, skipBaseHref);\n    }\n}\n\nexport default Node;"],"names":["const","let","super","this"],"mappings":"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"}