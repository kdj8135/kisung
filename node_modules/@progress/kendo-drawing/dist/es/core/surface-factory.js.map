{"version":3,"file":"surface-factory.js","sources":["surface-factory.js"],"sourcesContent":["import { Class, logToConsole } from '../common';\n\nclass SurfaceFactory extends Class {\n    constructor() {\n        super();\n\n        this._items = [];\n    }\n\n    register(name, type, order) {\n        const items = this._items;\n        const first = items[0];\n        const entry = {\n            name: name,\n            type: type,\n            order: order\n        };\n\n        if (!first || order < first.order) {\n            items.unshift(entry);\n        } else {\n            items.push(entry);\n        }\n    }\n\n    create(element, options) {\n        const items = this._items;\n        let match = items[0];\n\n        if (options && options.type) {\n            const preferred = options.type.toLowerCase();\n            for (let i = 0; i < items.length; i++) {\n                if (items[i].name === preferred) {\n                    match = items[i];\n                    break;\n                }\n            }\n        }\n\n        if (match) {\n            return new match.type(element, options);\n        }\n\n        logToConsole(\n            \"Warning: Unable to create Kendo UI Drawing Surface. Possible causes:\\n\" +\n            `- The browser does not support SVG and Canvas. User agent: ${ navigator.userAgent }`);\n    }\n}\n\nSurfaceFactory.current = new SurfaceFactory();\n\nexport default SurfaceFactory;"],"names":["super","const","let"],"mappings":"AAAA,SAAS,KAAK,EAAE,YAAY,QAAQ,WAAW,CAAC;;AAEhD,IAAM,cAAc,GAAc;IAAC,AAC/B,uBAAW,GAAG;QACVA,KAAK,KAAA,CAAC,IAAA,CAAC,CAAC;;QAER,IAAI,CAAC,MAAM,GAAG,EAAE,CAAC;KACpB;;;;0DAAA;;IAED,yBAAA,QAAQ,qBAAA,CAAC,IAAI,EAAE,IAAI,EAAE,KAAK,EAAE;QACxBC,GAAK,CAAC,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC;QAC1BA,GAAK,CAAC,KAAK,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC;QACvBA,GAAK,CAAC,KAAK,GAAG;YACV,IAAI,EAAE,IAAI;YACV,IAAI,EAAE,IAAI;YACV,KAAK,EAAE,KAAK;SACf,CAAC;;QAEF,IAAI,CAAC,KAAK,IAAI,KAAK,GAAG,KAAK,CAAC,KAAK,EAAE;YAC/B,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;SACxB,MAAM;YACH,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;SACrB;KACJ,CAAA;;IAED,yBAAA,MAAM,mBAAA,CAAC,OAAO,EAAE,OAAO,EAAE;QACrBA,GAAK,CAAC,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC;QAC1BC,GAAG,CAAC,KAAK,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC;;QAErB,IAAI,OAAO,IAAI,OAAO,CAAC,IAAI,EAAE;YACzBD,GAAK,CAAC,SAAS,GAAG,OAAO,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC;YAC7C,KAAKC,GAAG,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;gBACnC,IAAI,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,KAAK,SAAS,EAAE;oBAC7B,KAAK,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC;oBACjB,MAAM;iBACT;aACJ;SACJ;;QAED,IAAI,KAAK,EAAE;YACP,OAAO,IAAI,KAAK,CAAC,IAAI,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC;SAC3C;;QAED,YAAY;YACR,wEAAwE;YACxE,6DAA4D,IAAG,SAAS,CAAC,SAAS,CAAA,AAAG,CAAC,CAAC;KAC9F,CAAA,AACJ;;;EA7C4B,KA6C5B,GAAA;;AAED,cAAc,CAAC,OAAO,GAAG,IAAI,cAAc,EAAE,CAAC;;AAE9C,eAAe,cAAc"}