{"version":3,"file":"text-node.js","sources":["text-node.js"],"sourcesContent":["import PathNode from './path-node';\nimport NODE_MAP from './node-map';\n\nclass TextNode extends PathNode {\n    renderTo(ctx) {\n        const text = this.srcElement;\n        const pos = text.position();\n        const size = text.measure();\n\n        ctx.save();\n\n        this.setTransform(ctx);\n        this.setClip(ctx);\n        this.setOpacity(ctx);\n\n        ctx.beginPath();\n\n        ctx.font = text.options.font;\n        ctx.textAlign = 'left';\n\n        if (this.setFill(ctx)) {\n            ctx.fillText(text.content(), pos.x, pos.y + size.baseline);\n        }\n\n        if (this.setStroke(ctx)) {\n            this.setLineDash(ctx);\n            ctx.strokeText(text.content(), pos.x, pos.y + size.baseline);\n        }\n\n        ctx.restore();\n    }\n}\n\n\nNODE_MAP.Text = TextNode;\n\nexport default TextNode;"],"names":["const"],"mappings":"AAAA,OAAO,QAAQ,MAAM,aAAa,CAAC;AACnC,OAAO,QAAQ,MAAM,YAAY,CAAC;;AAElC,IAAM,QAAQ,GAAiB;IAAC;;;;;;;;IAAA,AAC5B,mBAAA,QAAQ,qBAAA,CAAC,GAAG,EAAE;QACVA,GAAK,CAAC,IAAI,GAAG,IAAI,CAAC,UAAU,CAAC;QAC7BA,GAAK,CAAC,GAAG,GAAG,IAAI,CAAC,QAAQ,EAAE,CAAC;QAC5BA,GAAK,CAAC,IAAI,GAAG,IAAI,CAAC,OAAO,EAAE,CAAC;;QAE5B,GAAG,CAAC,IAAI,EAAE,CAAC;;QAEX,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC;QACvB,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;QAClB,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC;;QAErB,GAAG,CAAC,SAAS,EAAE,CAAC;;QAEhB,GAAG,CAAC,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC;QAC7B,GAAG,CAAC,SAAS,GAAG,MAAM,CAAC;;QAEvB,IAAI,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,EAAE;YACnB,GAAG,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,EAAE,EAAE,GAAG,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC;SAC9D;;QAED,IAAI,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,EAAE;YACrB,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC;YACtB,GAAG,CAAC,UAAU,CAAC,IAAI,CAAC,OAAO,EAAE,EAAE,GAAG,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC;SAChE;;QAED,GAAG,CAAC,OAAO,EAAE,CAAC;KACjB,CAAA,AACJ;;;EA5BsB,QA4BtB,GAAA;;;AAGD,QAAQ,CAAC,IAAI,GAAG,QAAQ,CAAC;;AAEzB,eAAe,QAAQ"}