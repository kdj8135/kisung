{"version":3,"file":"core.js","sources":["core.js"],"sourcesContent":["/* eslint-disable no-multi-spaces, key-spacing, indent, camelcase, space-before-blocks, eqeqeq, brace-style */\n/* eslint-disable space-infix-ops, space-before-function-paren, array-bracket-spacing, object-curly-spacing */\n/* eslint-disable no-nested-ternary, max-params, default-case, no-else-return, no-empty */\n/* eslint-disable no-param-reassign, no-var, block-scoped-var */\n\nimport { BinaryStream, ucs2encode } from \"./utils\";\nimport { support } from '../common';\nimport { TTFFont } from \"./ttf\";\nimport { deflate, supportsDeflate } from './deflate';\n\nconst browser = support.browser;\n// XXX: remove this junk (assume `true`) when we no longer have to support IE < 10\nconst HAS_TYPED_ARRAYS = typeof Uint8Array !== 'undefined';\n\nconst NL = \"\\n\";\n\nvar RESOURCE_COUNTER = 0;\n\nconst PAPER_SIZE = {\n    a0        : [ 2383.94 , 3370.39 ],\n    a1        : [ 1683.78 , 2383.94 ],\n    a2        : [ 1190.55 , 1683.78 ],\n    a3        : [ 841.89  , 1190.55 ],\n    a4        : [ 595.28  , 841.89  ],\n    a5        : [ 419.53  , 595.28  ],\n    a6        : [ 297.64  , 419.53  ],\n    a7        : [ 209.76  , 297.64  ],\n    a8        : [ 147.40  , 209.76  ],\n    a9        : [ 104.88  , 147.40  ],\n    a10       : [ 73.70   , 104.88  ],\n    b0        : [ 2834.65 , 4008.19 ],\n    b1        : [ 2004.09 , 2834.65 ],\n    b2        : [ 1417.32 , 2004.09 ],\n    b3        : [ 1000.63 , 1417.32 ],\n    b4        : [ 708.66  , 1000.63 ],\n    b5        : [ 498.90  , 708.66  ],\n    b6        : [ 354.33  , 498.90  ],\n    b7        : [ 249.45  , 354.33  ],\n    b8        : [ 175.75  , 249.45  ],\n    b9        : [ 124.72  , 175.75  ],\n    b10       : [ 87.87   , 124.72  ],\n    c0        : [ 2599.37 , 3676.54 ],\n    c1        : [ 1836.85 , 2599.37 ],\n    c2        : [ 1298.27 , 1836.85 ],\n    c3        : [ 918.43  , 1298.27 ],\n    c4        : [ 649.13  , 918.43  ],\n    c5        : [ 459.21  , 649.13  ],\n    c6        : [ 323.15  , 459.21  ],\n    c7        : [ 229.61  , 323.15  ],\n    c8        : [ 161.57  , 229.61  ],\n    c9        : [ 113.39  , 161.57  ],\n    c10       : [ 79.37   , 113.39  ],\n    executive : [ 521.86  , 756.00  ],\n    folio     : [ 612.00  , 936.00  ],\n    legal     : [ 612.00  , 1008.00 ],\n    letter    : [ 612.00  , 792.00  ],\n    tabloid   : [ 792.00  , 1224.00 ]\n};\n\nfunction makeOutput() {\n    var indentLevel = 0, output = BinaryStream();\n    function out() {\n        for (var i = 0; i < arguments.length; ++i) {\n            var x = arguments[i];\n            if (x === undefined) {\n                throw new Error(\"Cannot output undefined to PDF\");\n            }\n            else if (x instanceof PDFValue) {\n                x.beforeRender(out);\n                x.render(out);\n            }\n            else if (isArray(x)) {\n                renderArray(x, out);\n            }\n            else if (isDate(x)) {\n                renderDate(x, out);\n            }\n            else if (typeof x == \"number\") {\n                if (isNaN(x)) {\n                    throw new Error(\"Cannot output NaN to PDF\");\n                }\n                // make sure it doesn't end up in exponent notation\n                var num = x.toFixed(7);\n                if (num.indexOf(\".\") >= 0) {\n                    num = num.replace(/\\.?0+$/, \"\");\n                }\n                if (num == \"-0\") {\n                    num = \"0\";\n                }\n                output.writeString(num);\n            }\n            else if (/string|boolean/.test(typeof x)) {\n                output.writeString(String(x));\n            }\n            else if (typeof x.get == \"function\") {\n                output.write(x.get());\n            }\n            else if (typeof x == \"object\") {\n                if (!x) {\n                    output.writeString(\"null\");\n                } else {\n                    out(new PDFDictionary(x));\n                }\n            }\n        }\n    }\n    out.writeData = function(data) {\n        output.write(data);\n    };\n    out.withIndent = function(f) {\n        ++indentLevel;\n        f(out);\n        --indentLevel;\n    };\n    out.indent = function() {\n        out(NL, pad(\"\", indentLevel * 2, \"  \"));\n        out.apply(null, arguments);\n    };\n    out.offset = function() {\n        return output.offset();\n    };\n    out.toString = function() {\n        throw new Error(\"FIX CALLER\");\n    };\n    out.get = function() {\n        return output.get();\n    };\n    out.stream = function() {\n        return output;\n    };\n    return out;\n}\n\nfunction wrapObject(value, id) {\n    var beforeRender = value.beforeRender;\n    var renderValue = value.render;\n\n    value.beforeRender = function(){};\n\n    value.render = function(out) {\n        out(id, \" 0 R\");\n    };\n\n    value.renderFull = function(out) {\n        value._offset = out.offset();\n        out(id, \" 0 obj \");\n        beforeRender.call(value, out);\n        renderValue.call(value, out);\n        out(\" endobj\");\n    };\n}\n\nfunction getPaperOptions(getOption) {\n    if (typeof getOption != \"function\") {\n        var options = getOption;\n        getOption = function(key, def) {\n            return key in options ? options[key] : def;\n        };\n    }\n    var paperSize = getOption(\"paperSize\", PAPER_SIZE.a4);\n    if (!paperSize) {\n        return {};\n    }\n    if (typeof paperSize == \"string\") {\n        paperSize = PAPER_SIZE[paperSize.toLowerCase()];\n        if (paperSize == null) {\n            throw new Error(\"Unknown paper size\");\n        }\n    }\n\n    paperSize[0] = unitsToPoints(paperSize[0]);\n    paperSize[1] = unitsToPoints(paperSize[1]);\n\n    if (getOption(\"landscape\", false)) {\n        paperSize = [\n            Math.max(paperSize[0], paperSize[1]),\n            Math.min(paperSize[0], paperSize[1])\n        ];\n    }\n\n    var margin = getOption(\"margin\");\n    if (margin) {\n        if (typeof margin == \"string\" || typeof margin == \"number\") {\n            margin = unitsToPoints(margin, 0);\n            margin = { left: margin, top: margin, right: margin, bottom: margin };\n        } else {\n            margin = {\n                left   : unitsToPoints(margin.left, 0),\n                top    : unitsToPoints(margin.top, 0),\n                right  : unitsToPoints(margin.right, 0),\n                bottom : unitsToPoints(margin.bottom, 0)\n            };\n        }\n        if (getOption(\"addMargin\")) {\n            paperSize[0] += margin.left + margin.right;\n            paperSize[1] += margin.top + margin.bottom;\n        }\n    }\n    return { paperSize: paperSize, margin: margin };\n}\n\nfunction PDFDocument(options) {\n    var self = this;\n    var out = makeOutput();\n    var objcount = 0;\n    var objects = [];\n\n    function getOption(name, defval) {\n        return (options && options[name] != null) ? options[name] : defval;\n    }\n\n    self.getOption = getOption;\n\n    self.attach = function(value) {\n        if (objects.indexOf(value) < 0) {\n            wrapObject(value, ++objcount);\n            objects.push(value);\n        }\n        return value;\n    };\n\n    self.pages = [];\n\n    self.FONTS = {};\n    self.IMAGES = {};\n    self.GRAD_COL_FUNCTIONS = {}; // cache for color gradient functions\n    self.GRAD_OPC_FUNCTIONS = {}; // cache for opacity gradient functions\n    self.GRAD_COL = {};     // cache for whole color gradient objects\n    self.GRAD_OPC = {};     // cache for whole opacity gradient objects\n\n    var catalog = self.attach(new PDFCatalog());\n    var pageTree = self.attach(new PDFPageTree());\n    catalog.setPages(pageTree);\n\n    var info = self.attach(new PDFDictionary({\n        Producer     : new PDFString(getOption(\"producer\", \"Kendo UI PDF Generator\")), // XXX: kendo.version?\n        Title        : new PDFString(getOption(\"title\", \"\")),\n        Author       : new PDFString(getOption(\"author\", \"\")),\n        Subject      : new PDFString(getOption(\"subject\", \"\")),\n        Keywords     : new PDFString(getOption(\"keywords\", \"\")),\n        Creator      : new PDFString(getOption(\"creator\", \"Kendo UI PDF Generator\")),\n        CreationDate : getOption(\"date\", new Date())\n    }));\n\n    self.addPage = function(options) {\n        var paperOptions  = getPaperOptions(function(name, defval){\n            return (options && options[name] != null) ? options[name] : defval;\n        });\n        var paperSize     = paperOptions.paperSize;\n        var margin        = paperOptions.margin;\n        var contentWidth  = paperSize[0];\n        var contentHeight = paperSize[1];\n        if (margin) {\n            contentWidth -= margin.left + margin.right;\n            contentHeight -= margin.top + margin.bottom;\n        }\n        var content = new PDFStream(makeOutput(), null, true);\n        var props = {\n            Contents : self.attach(content),\n            Parent   : pageTree,\n            MediaBox : [ 0, 0, paperSize[0], paperSize[1] ]\n        };\n        var page = new PDFPage(self, props);\n        page._content = content;\n        pageTree.addPage(self.attach(page));\n\n        // canvas-like coord. system.  (0,0) is upper-left.\n        // text must be vertically mirorred before drawing.\n        page.transform(1, 0, 0, -1, 0, paperSize[1]);\n\n        if (margin) {\n            page.translate(margin.left, margin.top);\n            // XXX: clip to right/bottom margin.  Make this optional?\n            page.rect(0, 0, contentWidth, contentHeight);\n            page.clip();\n        }\n\n        self.pages.push(page);\n        return page;\n    };\n\n    self.render = function() {\n        var i;\n        /// file header\n        out(\"%PDF-1.4\", NL, \"%\\xc2\\xc1\\xda\\xcf\\xce\", NL, NL);\n\n        /// file body\n        for (i = 0; i < objects.length; ++i) {\n            objects[i].renderFull(out);\n            out(NL, NL);\n        }\n\n        /// cross-reference table\n        var xrefOffset = out.offset();\n        out(\"xref\", NL, 0, \" \", objects.length + 1, NL);\n        out(\"0000000000 65535 f \", NL);\n        for (i = 0; i < objects.length; ++i) {\n            out(zeropad(objects[i]._offset, 10), \" 00000 n \", NL);\n        }\n        out(NL);\n\n        /// trailer\n        out(\"trailer\", NL);\n        out(new PDFDictionary({\n            Size: objects.length + 1,\n            Root: catalog,\n            Info: info\n        }), NL, NL);\n\n        /// end\n        out(\"startxref\", NL, xrefOffset, NL);\n        out(\"%%EOF\", NL);\n\n        return out.stream().offset(0);\n    };\n}\n\nvar FONT_CACHE = {\n    \"Times-Roman\"           : true,\n    \"Times-Bold\"            : true,\n    \"Times-Italic\"          : true,\n    \"Times-BoldItalic\"      : true,\n    \"Helvetica\"             : true,\n    \"Helvetica-Bold\"        : true,\n    \"Helvetica-Oblique\"     : true,\n    \"Helvetica-BoldOblique\" : true,\n    \"Courier\"               : true,\n    \"Courier-Bold\"          : true,\n    \"Courier-Oblique\"       : true,\n    \"Courier-BoldOblique\"   : true,\n    \"Symbol\"                : true,\n    \"ZapfDingbats\"          : true\n};\n\nfunction loadBinary(url, cont) {\n    function error() {\n        if (window.console) {\n            if (window.console.error) {\n                window.console.error(\"Cannot load URL: %s\", url);\n            } else {\n                window.console.log(\"Cannot load URL: %s\", url);\n            }\n        }\n        cont(null);\n    }\n    var req = new XMLHttpRequest();\n    req.open('GET', url, true);\n    if (HAS_TYPED_ARRAYS) {\n        req.responseType = \"arraybuffer\";\n    }\n    req.onload = function() {\n        if (req.status == 200 || req.status == 304) {\n            if (HAS_TYPED_ARRAYS) {\n                cont(new Uint8Array(req.response));\n            } else {\n                cont(new window.VBArray(req.responseBody).toArray()); // IE9 only\n            }\n        } else {\n            error();\n        }\n    };\n    req.onerror = error;\n    req.send(null);\n}\n\nfunction loadFont(url, cont) {\n    var font = FONT_CACHE[url];\n    if (font) {\n        cont(font);\n    } else {\n        loadBinary(url, function(data){\n            if (data == null) {\n                throw new Error(\"Cannot load font from \" + url);\n            } else {\n                var font = new TTFFont(data);\n                FONT_CACHE[url] = font;\n                cont(font);\n            }\n        });\n    }\n}\n\nvar IMAGE_CACHE = {};\n\nfunction clearImageCache() {\n    IMAGE_CACHE = {};\n}\n\nfunction loadImage(url, size, cont) {\n    var img = IMAGE_CACHE[url], bloburl, blob;\n    if (img) {\n        cont(img);\n    } else {\n        img = new Image();\n        if (!(/^data:/i.test(url))) {\n            img.crossOrigin = \"Anonymous\";\n        }\n        if (HAS_TYPED_ARRAYS && !(/^data:/i.test(url))) {\n            // IE10 fails to load images from another domain even when the server sends the\n            // proper CORS headers.  a XHR, however, will be able to load the data.\n            // http://stackoverflow.com/a/19734516/154985\n            //\n            // On the other hand, it's worth doing it this way for all browsers which support\n            // responseType = \"blob\" (HAS_TYPED_ARRAYS will be true), because we can inspect the\n            // mime type and if it's a JPEG (very common case) we can save a lot of time in\n            // _load below.\n            var xhr = new XMLHttpRequest();\n            xhr.onload = function() {\n                blob = xhr.response;\n                bloburl = URL.createObjectURL(blob);\n                _load(bloburl);\n            };\n            xhr.onerror = _onerror;\n            xhr.open(\"GET\", url, true);\n            xhr.responseType = \"blob\";\n            xhr.send();\n        } else {\n            _load(url);\n        }\n    }\n\n    function _load(url) {\n        img.src = url;\n        if (img.complete && !browser.msie) {\n            // IE, bless it's little heart, says img.complete == true even though the image is\n            // not loaded (width=0), therefore we must go the onload route (ticket 929635).\n            _onload();\n        } else {\n            img.onload = _onload;\n            img.onerror = _onerror;\n        }\n    }\n\n    function _onerror() {\n        cont(IMAGE_CACHE[url] = \"TAINTED\");\n    }\n\n    function _onload() {\n        if (size) {\n            // but if requested size is bigger than the image, just use the original image.\n            if (size.width >= img.width || size.height >= img.height) {\n                size = null;\n            }\n        }\n        if (!size && blob && /^image\\/jpe?g$/i.test(blob.type)) {\n            // If we know we got a JPEG, we can skip the process of rendering it to a\n            // canvas, getting the pixel data, searching for transparency we know we won't\n            // find, getting back a data URI and then decoding the BASE64 to finally get the\n            // binary we already have.  Also, we avoid downgrading the image quality, with\n            // the possible drawback of making a bigger PDF; still, seems legit.\n            //\n            // Besides saving a lot of work, this also reuses the buffer memory\n            // (BinaryStream does not create a copy), potentially saving some GC cycles.\n            var reader = new FileReader();\n            reader.onload = function() {\n                var img = new PDFJpegImage(BinaryStream(new Uint8Array(this.result)));\n                URL.revokeObjectURL(bloburl);\n                cont(IMAGE_CACHE[url] = img);\n            };\n            reader.readAsArrayBuffer(blob);\n            return;\n        }\n\n        if (!size) {\n            size = { width: img.width, height: img.height };\n        }\n\n        var canvas = document.createElement(\"canvas\");\n        canvas.width = size.width;\n        canvas.height = size.height;\n\n        var ctx = canvas.getContext(\"2d\");\n        ctx.drawImage(img, 0, 0, size.width, size.height);\n\n        var imgdata;\n        try {\n            imgdata = ctx.getImageData(0, 0, size.width, size.height);\n        } catch (ex) {\n            // it tainted the canvas -- can't draw it.\n            _onerror();\n            return;\n        } finally {\n            if (bloburl) {\n                URL.revokeObjectURL(bloburl);\n            }\n        }\n\n        // in case it contains transparency, we must separate rgb data from the alpha\n        // channel and create a PDFRawImage image with opacity.  otherwise we can use a\n        // PDFJpegImage.\n        //\n        // to do this in one step, we create the rgb and alpha streams anyway, even if\n        // we might end up not using them if hasAlpha remains false.\n\n        var hasAlpha = false, rgb = BinaryStream(), alpha = BinaryStream();\n        var rawbytes = imgdata.data;\n        var i = 0;\n        while (i < rawbytes.length) {\n            rgb.writeByte(rawbytes[i++]);\n            rgb.writeByte(rawbytes[i++]);\n            rgb.writeByte(rawbytes[i++]);\n            var a = rawbytes[i++];\n            if (a < 255) {\n                hasAlpha = true;\n            }\n            alpha.writeByte(a);\n        }\n\n        if (hasAlpha) {\n            img = new PDFRawImage(size.width, size.height, rgb, alpha);\n        } else {\n            // no transparency, encode as JPEG.\n            var data = canvas.toDataURL(\"image/jpeg\");\n            data = data.substr(data.indexOf(\";base64,\") + 8);\n\n            var stream = BinaryStream();\n            stream.writeBase64(data);\n            img = new PDFJpegImage(stream);\n        }\n\n        cont(IMAGE_CACHE[url] = img);\n    }\n}\n\nfunction manyLoader(loadOne) {\n    return function(urls, callback) {\n        var n = urls.length, i = n;\n        if (n === 0) {\n            return callback();\n        }\n        function next() {\n            if (--n === 0) {\n                callback();\n            }\n        }\n        while (i-- > 0) {\n            loadOne(urls[i], next);\n        }\n    };\n}\n\nvar loadFonts = manyLoader(loadFont);\nvar loadImages = function(images, callback) {\n    var urls = Object.keys(images), n = urls.length;\n    if (n === 0) {\n        return callback();\n    }\n    function next() {\n        if (--n === 0) {\n            callback();\n        }\n    }\n    urls.forEach(function(url){\n        loadImage(url, images[url], next);\n    });\n};\n\nPDFDocument.prototype = {\n    loadFonts: loadFonts,\n    loadImages: loadImages,\n\n    getFont: function(url) {\n        var font = this.FONTS[url];\n        if (!font) {\n            font = FONT_CACHE[url];\n            if (!font) {\n                throw new Error(\"Font \" + url + \" has not been loaded\");\n            }\n            if (font === true) {\n                font = this.attach(new PDFStandardFont(url));\n            } else {\n                font = this.attach(new PDFFont(this, font));\n            }\n            this.FONTS[url] = font;\n        }\n        return font;\n    },\n\n    getImage: function(url) {\n        var img = this.IMAGES[url];\n        if (!img) {\n            img = IMAGE_CACHE[url];\n            if (!img) {\n                throw new Error(\"Image \" + url + \" has not been loaded\");\n            }\n            if (img === \"TAINTED\") {\n                return null;\n            }\n            img = this.IMAGES[url] = this.attach(img.asStream(this));\n        }\n        return img;\n    },\n\n    getOpacityGS: function(opacity, forStroke) {\n        var id = parseFloat(opacity).toFixed(3);\n        opacity = parseFloat(id);\n        id += forStroke ? \"S\" : \"F\";\n        var cache = this._opacityGSCache || (this._opacityGSCache = {});\n        var gs = cache[id];\n        if (!gs) {\n            var props = {\n                Type: _(\"ExtGState\")\n            };\n            if (forStroke) {\n                props.CA = opacity;\n            } else {\n                props.ca = opacity;\n            }\n            gs = this.attach(new PDFDictionary(props));\n            gs._resourceName = _(\"GS\" + (++RESOURCE_COUNTER));\n            cache[id] = gs;\n        }\n        return gs;\n    },\n\n    dict: function(props) {\n        return new PDFDictionary(props);\n    },\n\n    name: function(str) {\n        return _(str);\n    },\n\n    stream: function(props, content) {\n        return new PDFStream(content, props);\n    }\n};\n\n/* -----[ utils ]----- */\n\nfunction pad(str, len, ch) {\n    while (str.length < len) {\n        str = ch + str;\n    }\n    return str;\n}\n\nfunction zeropad(n, len) {\n    return pad(String(n), len, \"0\");\n}\n\nfunction hasOwnProperty(obj, key) {\n    return Object.prototype.hasOwnProperty.call(obj, key);\n}\n\nvar isArray = Array.isArray || function(obj) {\n    return obj instanceof Array;\n};\n\nfunction isDate(obj) {\n    return obj instanceof Date;\n}\n\nfunction renderArray(a, out) {\n    out(\"[\");\n    if (a.length > 0) {\n        out.withIndent(function(){\n            for (var i = 0; i < a.length; ++i) {\n                if (i > 0 && i % 8 === 0) {\n                    out.indent(a[i]);\n                } else {\n                    out(\" \", a[i]);\n                }\n            }\n        });\n        //out.indent();\n    }\n    out(\" ]\");\n}\n\nfunction renderDate(date, out) {\n    out(\"(D:\",\n        zeropad(date.getUTCFullYear(), 4),\n        zeropad(date.getUTCMonth() + 1, 2),\n        zeropad(date.getUTCDate(), 2),\n        zeropad(date.getUTCHours(), 2),\n        zeropad(date.getUTCMinutes(), 2),\n        zeropad(date.getUTCSeconds(), 2),\n        \"Z)\");\n}\n\nfunction mm2pt(mm) {\n    return mm * (72/25.4);\n}\n\nfunction cm2pt(cm) {\n    return mm2pt(cm * 10);\n}\n\nfunction in2pt(inch)  {\n    return inch * 72;\n}\n\n\nfunction unitsToPoints(x, def) {\n    if (typeof x == \"number\") {\n        return x;\n    }\n    if (typeof x == \"string\") {\n        var m;\n        m = /^\\s*([0-9.]+)\\s*(mm|cm|in|pt)\\s*$/.exec(x);\n        if (m) {\n            var num = parseFloat(m[1]);\n            if (!isNaN(num)) {\n                if (m[2] == \"pt\") {\n                    return num;\n                }\n                return {\n                    \"mm\": mm2pt,\n                    \"cm\": cm2pt,\n                    \"in\": in2pt\n                }[m[2]](num);\n            }\n        }\n    }\n    if (def != null) {\n        return def;\n    }\n    throw new Error(\"Can't parse unit: \" + x);\n}\n\n/* -----[ PDF basic objects ]----- */\n\nfunction PDFValue(){}\n\nPDFValue.prototype.beforeRender = function(){};\n\nfunction defclass(Ctor, proto, Base) {\n    if (!Base) {\n        Base = PDFValue;\n    }\n    Ctor.prototype = new Base();\n    for (var i in proto) {\n        if (hasOwnProperty(proto, i)) {\n            Ctor.prototype[i] = proto[i];\n        }\n    }\n    return Ctor;\n}\n\n/// strings\n\nvar PDFString = defclass(function PDFString(value){\n    this.value = value;\n}, {\n    render: function(out) {\n        var txt = \"\", val = this.value;\n        for (var i = 0; i < val.length; ++i) {\n            txt += String.fromCharCode(val.charCodeAt(i) & 0xFF);\n        }\n        out(\"(\", txt.replace(/([\\(\\)\\\\])/g, \"\\\\$1\"), \")\");\n    },\n    toString: function() {\n        return this.value;\n    }\n});\n\nvar PDFHexString = defclass(function PDFHexString(value){\n    this.value = value;\n}, {\n    render: function(out) {\n        out(\"<\");\n        for (var i = 0; i < this.value.length; ++i) {\n            out(zeropad(this.value.charCodeAt(i).toString(16), 4));\n        }\n        out(\">\");\n    }\n}, PDFString);\n\n/// names\n\nvar PDFName = defclass(function PDFName(name) {\n    this.name = name;\n}, {\n    render: function(out) {\n        out(\"/\" + this.escape());\n    },\n    escape: function() {\n        return this.name.replace(/[^\\x21-\\x7E]/g, function(c){\n            return \"#\" + zeropad(c.charCodeAt(0).toString(16), 2);\n        });\n    },\n    toString: function() {\n        return this.name;\n    }\n});\n\nvar PDFName_cache = {};\nPDFName.get = _;\n\nfunction _(name) {\n    if (hasOwnProperty(PDFName_cache, name)) {\n        return PDFName_cache[name];\n    }\n    return (PDFName_cache[name] = new PDFName(name));\n}\n\n/// dictionary\n\nvar PDFDictionary = defclass(function PDFDictionary(props) {\n    this.props = props;\n}, {\n    render: function(out) {\n        var props = this.props, empty = true;\n        out(\"<<\");\n        out.withIndent(function(){\n            for (var i in props) {\n                if (hasOwnProperty(props, i) && !/^_/.test(i)) {\n                    empty = false;\n                    out.indent(_(i), \" \", props[i]);\n                }\n            }\n        });\n        if (!empty) {\n            out.indent();\n        }\n        out(\">>\");\n    }\n});\n\n/// streams\n\nvar PDFStream = defclass(function PDFStream(data, props, compress) {\n    if (typeof data == \"string\") {\n        var tmp = BinaryStream();\n        tmp.write(data);\n        data = tmp;\n    }\n    this.data = data;\n    this.props = props || {};\n    this.compress = compress;\n}, {\n    render: function(out) {\n        var data = this.data.get(), props = this.props;\n        if (this.compress && supportsDeflate()) {\n            if (!props.Filter) {\n                props.Filter = [];\n            } else if (!(props.Filter instanceof Array)) {\n                props.Filter = [ props.Filter ];\n            }\n            props.Filter.unshift(_(\"FlateDecode\"));\n            data = deflate(data);\n        }\n        props.Length = data.length;\n        out(new PDFDictionary(props), \" stream\", NL);\n        out.writeData(data);\n        out(NL, \"endstream\");\n    }\n});\n\n/// catalog\n\nvar PDFCatalog = defclass(function PDFCatalog(props){\n    props = this.props = props || {};\n    props.Type = _(\"Catalog\");\n}, {\n    setPages: function(pagesObj) {\n        this.props.Pages = pagesObj;\n    }\n}, PDFDictionary);\n\n/// page tree\n\nvar PDFPageTree = defclass(function PDFPageTree(){\n    this.props = {\n        Type  : _(\"Pages\"),\n        Kids  : [],\n        Count : 0\n    };\n}, {\n    addPage: function(pageObj) {\n        this.props.Kids.push(pageObj);\n        this.props.Count++;\n    }\n}, PDFDictionary);\n\n/// images\n\n// JPEG\n\nvar SOF_CODES = [0xc0, 0xc1, 0xc2, 0xc3, 0xc5, 0xc6, 0xc7, 0xc9, 0xca, 0xcb, 0xcd, 0xce, 0xcf];\n\nfunction PDFJpegImage(data) {\n    // we must determine the correct color space.  we'll parse a bit\n    // of the JPEG stream for this, it's still better than going\n    // through the canvas.\n    // https://github.com/telerik/kendo-ui-core/issues/2845\n    data.offset(0);\n    var width, height, colorSpace, bitsPerComponent;\n    var soi = data.readShort();\n    if (soi != 0xFFD8) {\n        // XXX: do we have some better options here?\n        throw new Error(\"Invalid JPEG image\");\n    }\n    while (!data.eof()) {\n        var ff = data.readByte();\n        if (ff != 0xFF) {\n            throw new Error(\"Invalid JPEG image\");\n        }\n        var marker = data.readByte();\n        var length = data.readShort();\n        if (SOF_CODES.indexOf(marker) >= 0) {\n            // \"start of frame\" marker\n            bitsPerComponent = data.readByte();\n            height = data.readShort();\n            width = data.readShort();\n            colorSpace = data.readByte();\n            break;\n        }\n        data.skip(length - 2);\n    }\n\n    if (colorSpace == null) {\n        throw new Error(\"Invalid JPEG image\");\n    }\n\n    var props = {\n        Type             : _(\"XObject\"),\n        Subtype          : _(\"Image\"),\n        Width            : width,\n        Height           : height,\n        BitsPerComponent : bitsPerComponent,\n        Filter           : _(\"DCTDecode\")\n    };\n\n    switch (colorSpace) {\n      case 1:\n        props.ColorSpace = _(\"DeviceGray\");\n        break;\n      case 3:\n        props.ColorSpace = _(\"DeviceRGB\");\n        break;\n      case 4:\n        props.ColorSpace = _(\"DeviceCMYK\");\n        props.Decode = [ 1, 0, 1, 0, 1, 0, 1, 0 ]; // invert colors\n        break;\n    }\n\n    this.asStream = function() {\n        data.offset(0);\n        var stream = new PDFStream(data, props);\n        stream._resourceName = _(\"I\" + (++RESOURCE_COUNTER));\n        return stream;\n    };\n}\n\n// PDFRawImage will be used for images with transparency (PNG)\n\nfunction PDFRawImage(width, height, rgb, alpha) {\n    this.asStream = function(pdf) {\n        var mask = new PDFStream(alpha, {\n            Type             : _(\"XObject\"),\n            Subtype          : _(\"Image\"),\n            Width            : width,\n            Height           : height,\n            BitsPerComponent : 8,\n            ColorSpace       : _(\"DeviceGray\")\n        }, true);\n        var stream = new PDFStream(rgb, {\n            Type             : _(\"XObject\"),\n            Subtype          : _(\"Image\"),\n            Width            : width,\n            Height           : height,\n            BitsPerComponent : 8,\n            ColorSpace       : _(\"DeviceRGB\"),\n            SMask            : pdf.attach(mask)\n        }, true);\n        stream._resourceName = _(\"I\" + (++RESOURCE_COUNTER));\n        return stream;\n    };\n}\n\n/// standard fonts\n\nvar PDFStandardFont = defclass(function PDFStandardFont(name){\n    this.props = {\n        Type     : _(\"Font\"),\n        Subtype  : _(\"Type1\"),\n        BaseFont : _(name)\n    };\n    this._resourceName = _(\"F\" + (++RESOURCE_COUNTER));\n}, {\n    encodeText: function(str) {\n        return new PDFString(String(str));\n    }\n}, PDFDictionary);\n\n/// TTF fonts\n\nvar PDFFont = defclass(function PDFFont(pdf, font, props){\n    props = this.props = props || {};\n    props.Type = _(\"Font\");\n    props.Subtype = _(\"Type0\");\n    props.Encoding = _(\"Identity-H\");\n\n    this._pdf = pdf;\n    this._font = font;\n    this._sub = font.makeSubset();\n    this._resourceName = _(\"F\" + (++RESOURCE_COUNTER));\n\n    var head = font.head;\n\n    this.name = font.psName;\n    var scale = this.scale = font.scale;\n    this.bbox = [\n        head.xMin * scale,\n        head.yMin * scale,\n        head.xMax * scale,\n        head.yMax * scale\n    ];\n\n    this.italicAngle = font.post.italicAngle;\n    this.ascent = font.ascent * scale;\n    this.descent = font.descent * scale;\n    this.lineGap = font.lineGap * scale;\n    this.capHeight = font.os2.capHeight || this.ascent;\n    this.xHeight = font.os2.xHeight || 0;\n    this.stemV = 0;\n\n    this.familyClass = (font.os2.familyClass || 0) >> 8;\n    this.isSerif = this.familyClass >= 1 && this.familyClass <= 7;\n    this.isScript = this.familyClass == 10;\n\n    this.flags = ((font.post.isFixedPitch ? 1 : 0) |\n                  (this.isSerif ? 1 << 1 : 0) |\n                  (this.isScript ? 1 << 3 : 0) |\n                  (this.italicAngle !== 0 ? 1 << 6 : 0) |\n                  (1 << 5));\n}, {\n    encodeText: function(text) {\n        return new PDFHexString(this._sub.encodeText(String(text)));\n    },\n    getTextWidth: function(fontSize, text) {\n        var width = 0, codeMap = this._font.cmap.codeMap;\n        for (var i = 0; i < text.length; ++i) {\n            var glyphId = codeMap[text.charCodeAt(i)];\n            width += this._font.widthOfGlyph(glyphId || 0);\n        }\n        return width * fontSize / 1000;\n    },\n    beforeRender: function() {\n        var self = this;\n        var sub = self._sub;\n\n        // write the TTF data\n        var data = sub.render();\n        var fontStream = new PDFStream(BinaryStream(data), {\n            Length1: data.length\n        }, true);\n\n        var descriptor = self._pdf.attach(new PDFDictionary({\n            Type         : _(\"FontDescriptor\"),\n            FontName     : _(self._sub.psName),\n            FontBBox     : self.bbox,\n            Flags        : self.flags,\n            StemV        : self.stemV,\n            ItalicAngle  : self.italicAngle,\n            Ascent       : self.ascent,\n            Descent      : self.descent,\n            CapHeight    : self.capHeight,\n            XHeight      : self.xHeight,\n            FontFile2    : self._pdf.attach(fontStream)\n        }));\n\n        var cmap = sub.ncid2ogid;\n        var firstChar = sub.firstChar;\n        var lastChar = sub.lastChar;\n        var charWidths = [];\n        (function loop(i, chunk){\n            if (i <= lastChar) {\n                var gid = cmap[i];\n                if (gid == null) {\n                    loop(i + 1);\n                } else {\n                    if (!chunk) {\n                        charWidths.push(i, chunk = []);\n                    }\n                    chunk.push(self._font.widthOfGlyph(gid));\n                    loop(i + 1, chunk);\n                }\n            }\n        })(firstChar);\n\n        // As if two dictionaries weren't enough, we need another\n        // one, the \"descendant font\".  Only that one can be of\n        // Subtype CIDFontType2.  PDF is the X11 of document\n        // formats: portable but full of legacy that nobody cares\n        // about anymore.\n\n        var descendant = new PDFDictionary({\n            Type: _(\"Font\"),\n            Subtype: _(\"CIDFontType2\"),\n            BaseFont: _(self._sub.psName),\n            CIDSystemInfo: new PDFDictionary({\n                Registry   : new PDFString(\"Adobe\"),\n                Ordering   : new PDFString(\"Identity\"),\n                Supplement : 0\n            }),\n            FontDescriptor: descriptor,\n            FirstChar: firstChar,\n            LastChar: lastChar,\n            DW: Math.round(self._font.widthOfGlyph(0)),\n            W: charWidths,\n            CIDToGIDMap: self._pdf.attach(self._makeCidToGidMap())\n        });\n\n        var dict = self.props;\n        dict.BaseFont = _(self._sub.psName);\n        dict.DescendantFonts = [ self._pdf.attach(descendant) ];\n\n        // Compute the ToUnicode map so that apps can extract\n        // meaningful text from the PDF.\n        var unimap = new PDFToUnicodeCmap(firstChar, lastChar, sub.subset);\n        var unimapStream = new PDFStream(makeOutput(), null, true);\n        unimapStream.data(unimap);\n        dict.ToUnicode = self._pdf.attach(unimapStream);\n    },\n    _makeCidToGidMap: function() {\n        return new PDFStream(BinaryStream(this._sub.cidToGidMap()), null, true);\n    }\n}, PDFDictionary);\n\nvar PDFToUnicodeCmap = defclass(function PDFUnicodeCMap(firstChar, lastChar, map){\n    this.firstChar = firstChar;\n    this.lastChar = lastChar;\n    this.map = map;\n}, {\n    render: function(out) {\n        out.indent(\"/CIDInit /ProcSet findresource begin\");\n        out.indent(\"12 dict begin\");\n        out.indent(\"begincmap\");\n        out.indent(\"/CIDSystemInfo <<\");\n        out.indent(\"  /Registry (Adobe)\");\n        out.indent(\"  /Ordering (UCS)\");\n        out.indent(\"  /Supplement 0\");\n        out.indent(\">> def\");\n        out.indent(\"/CMapName /Adobe-Identity-UCS def\");\n        out.indent(\"/CMapType 2 def\");\n        out.indent(\"1 begincodespacerange\");\n        out.indent(\"  <0000><ffff>\");\n        out.indent(\"endcodespacerange\");\n\n        var self = this;\n        out.indent(self.lastChar - self.firstChar + 1, \" beginbfchar\");\n        out.withIndent(function(){\n            for (var code = self.firstChar; code <= self.lastChar; ++code) {\n                var unicode = self.map[code];\n                var str = ucs2encode([ unicode ]);\n                out.indent(\"<\", zeropad(code.toString(16), 4), \">\", \"<\");\n                for (var i = 0; i < str.length; ++i) {\n                    out(zeropad(str.charCodeAt(i).toString(16), 4));\n                }\n                out(\">\");\n            }\n        });\n        out.indent(\"endbfchar\");\n\n        out.indent(\"endcmap\");\n        out.indent(\"CMapName currentdict /CMap defineresource pop\");\n        out.indent(\"end\");\n        out.indent(\"end\");\n    }\n});\n\n/// gradients\n\nfunction makeHash(a) {\n    return a.map(function(x){\n        return isArray(x) ? makeHash(x)\n            : typeof x == \"number\" ? (Math.round(x * 1000) / 1000).toFixed(3)\n            : x;\n    }).join(\" \");\n}\n\nfunction cacheColorGradientFunction(pdf, r1, g1, b1, r2, g2, b2) {\n    var hash = makeHash([ r1, g1, b1, r2, g2, b2 ]);\n    var func = pdf.GRAD_COL_FUNCTIONS[hash];\n    if (!func) {\n        func = pdf.GRAD_COL_FUNCTIONS[hash] = pdf.attach(new PDFDictionary({\n            FunctionType: 2,\n            Domain: [ 0, 1 ],\n            Range: [ 0, 1, 0, 1, 0, 1 ],\n            N: 1,\n            C0: [ r1 , g1 , b1 ],\n            C1: [ r2 , g2 , b2 ]\n        }));\n    }\n    return func;\n}\n\nfunction cacheOpacityGradientFunction(pdf, a1, a2) {\n    var hash = makeHash([ a1, a2 ]);\n    var func = pdf.GRAD_OPC_FUNCTIONS[hash];\n    if (!func) {\n        func = pdf.GRAD_OPC_FUNCTIONS[hash] = pdf.attach(new PDFDictionary({\n            FunctionType: 2,\n            Domain: [ 0, 1 ],\n            Range: [ 0, 1 ],\n            N: 1,\n            C0: [ a1 ],\n            C1: [ a2 ]\n        }));\n    }\n    return func;\n}\n\nfunction makeGradientFunctions(pdf, stops) {\n    var hasAlpha = false;\n    var opacities = [];\n    var colors = [];\n    var offsets = [];\n    var encode = [];\n    var i, prev, cur, prevColor, curColor;\n    for (i = 1; i < stops.length; ++i) {\n        prev = stops[i - 1];\n        cur = stops[i];\n        prevColor = prev.color;\n        curColor = cur.color;\n        colors.push(cacheColorGradientFunction(\n            pdf,\n            prevColor.r, prevColor.g, prevColor.b,\n            curColor.r,  curColor.g,  curColor.b\n        ));\n        if (prevColor.a < 1 || curColor.a < 1) {\n            hasAlpha = true;\n        }\n        offsets.push(cur.offset);\n        encode.push(0, 1);\n    }\n    if (hasAlpha) {\n        for (i = 1; i < stops.length; ++i) {\n            prev = stops[i - 1];\n            cur = stops[i];\n            prevColor = prev.color;\n            curColor = cur.color;\n            opacities.push(cacheOpacityGradientFunction(\n                pdf, prevColor.a, curColor.a\n            ));\n        }\n    }\n    offsets.pop();\n    return {\n        hasAlpha  : hasAlpha,\n        colors    : assemble(colors),\n        opacities : hasAlpha ? assemble(opacities) : null\n    };\n    function assemble(funcs) {\n        if (funcs.length == 1) {\n            return funcs[0];\n        }\n        return {\n            FunctionType: 3,\n            Functions: funcs,\n            Domain: [ 0, 1 ],\n            Bounds: offsets,\n            Encode: encode\n        };\n    }\n}\n\nfunction cacheColorGradient(pdf, isRadial, stops, coords, funcs, box) {\n    var shading, hash;\n    // if box is given then we have user-space coordinates, which\n    // means the gradient is designed for a certain position/size\n    // on page.  caching won't do any good.\n    if (!box) {\n        var a = [ isRadial ].concat(coords);\n        stops.forEach(function(x){\n            a.push(x.offset, x.color.r, x.color.g, x.color.b);\n        });\n        hash = makeHash(a);\n        shading = pdf.GRAD_COL[hash];\n    }\n    if (!shading) {\n        shading = new PDFDictionary({\n            Type: _(\"Shading\"),\n            ShadingType: isRadial ? 3 : 2,\n            ColorSpace: _(\"DeviceRGB\"),\n            Coords: coords,\n            Domain: [ 0, 1 ],\n            Function: funcs,\n            Extend: [ true, true ]\n        });\n        pdf.attach(shading);\n        shading._resourceName = \"S\" + (++RESOURCE_COUNTER);\n        if (hash) {\n            pdf.GRAD_COL[hash] = shading;\n        }\n    }\n    return shading;\n}\n\nfunction cacheOpacityGradient(pdf, isRadial, stops, coords, funcs, box) {\n    var opacity, hash;\n    // if box is given then we have user-space coordinates, which\n    // means the gradient is designed for a certain position/size\n    // on page.  caching won't do any good.\n    if (!box) {\n        var a = [ isRadial ].concat(coords);\n        stops.forEach(function(x){\n            a.push(x.offset, x.color.a);\n        });\n        hash = makeHash(a);\n        opacity = pdf.GRAD_OPC[hash];\n    }\n    if (!opacity) {\n        opacity = new PDFDictionary({\n            Type: _(\"ExtGState\"),\n            AIS: false,\n            CA: 1,\n            ca: 1,\n            SMask: {\n                Type: _(\"Mask\"),\n                S: _(\"Luminosity\"),\n                G: pdf.attach(new PDFStream(\"/a0 gs /s0 sh\", {\n                    Type: _(\"XObject\"),\n                    Subtype: _(\"Form\"),\n                    FormType: 1,\n                    BBox: (box ? [\n                        box.left, box.top + box.height, box.left + box.width, box.top\n                    ] : [ 0, 1, 1, 0 ]),\n                    Group: {\n                        Type: _(\"Group\"),\n                        S: _(\"Transparency\"),\n                        CS: _(\"DeviceGray\"),\n                        I: true\n                    },\n                    Resources: {\n                        ExtGState: {\n                            a0: { CA: 1, ca: 1 }\n                        },\n                        Shading: {\n                            s0: {\n                                ColorSpace: _(\"DeviceGray\"),\n                                Coords: coords,\n                                Domain: [ 0, 1 ],\n                                ShadingType: isRadial ? 3 : 2,\n                                Function: funcs,\n                                Extend: [ true, true ]\n                            }\n                        }\n                    }\n                }))\n            }\n        });\n        pdf.attach(opacity);\n        opacity._resourceName = \"O\" + (++RESOURCE_COUNTER);\n        if (hash) {\n            pdf.GRAD_OPC[hash] = opacity;\n        }\n    }\n    return opacity;\n}\n\nfunction cacheGradient(pdf, gradient, box) {\n    var isRadial = gradient.type == \"radial\";\n    var funcs = makeGradientFunctions(pdf, gradient.stops);\n    var coords = isRadial ? [\n        gradient.start.x , gradient.start.y , gradient.start.r,\n        gradient.end.x   , gradient.end.y   , gradient.end.r\n    ] : [\n        gradient.start.x , gradient.start.y,\n        gradient.end.x   , gradient.end.y\n    ];\n    var shading = cacheColorGradient(\n        pdf, isRadial, gradient.stops, coords, funcs.colors, gradient.userSpace && box\n    );\n    var opacity = funcs.hasAlpha ? cacheOpacityGradient(\n        pdf, isRadial, gradient.stops, coords, funcs.opacities, gradient.userSpace && box\n    ) : null;\n    return {\n        hasAlpha: funcs.hasAlpha,\n        shading: shading,\n        opacity: opacity\n    };\n}\n\n/// page object\n\nvar PDFPage = defclass(function PDFPage(pdf, props){\n    this._pdf = pdf;\n    this._rcount = 0;\n    this._textMode = false;\n    this._fontResources = {};\n    this._gsResources = {};\n    this._xResources = {};\n    this._patResources = {};\n    this._shResources = {};\n    this._opacity = 1;\n    this._matrix = [ 1, 0, 0, 1, 0, 0 ];\n    this._annotations = [];\n\n    this._font = null;\n    this._fontSize = null;\n\n    this._contextStack = [];\n\n    props = this.props = props || {};\n    props.Type = _(\"Page\");\n    props.ProcSet = [\n        _(\"PDF\"),\n        _(\"Text\"),\n        _(\"ImageB\"),\n        _(\"ImageC\"),\n        _(\"ImageI\")\n    ];\n    props.Resources = new PDFDictionary({\n        Font      : new PDFDictionary(this._fontResources),\n        ExtGState : new PDFDictionary(this._gsResources),\n        XObject   : new PDFDictionary(this._xResources),\n        Pattern   : new PDFDictionary(this._patResources),\n        Shading   : new PDFDictionary(this._shResources)\n    });\n    props.Annots = this._annotations;\n}, {\n    _out: function() {\n        this._content.data.apply(null, arguments);\n    },\n    transform: function(a, b, c, d, e, f) {\n        if (!isIdentityMatrix(arguments)) {\n            this._matrix = mmul(arguments, this._matrix);\n            this._out(a, \" \", b, \" \", c, \" \", d, \" \", e, \" \", f, \" cm\");\n            // XXX: debug\n            // this._out(\" % current matrix: \", this._matrix);\n            this._out(NL);\n        }\n    },\n    translate: function(dx, dy) {\n        this.transform(1, 0, 0, 1, dx, dy);\n    },\n    scale: function(sx, sy) {\n        this.transform(sx, 0, 0, sy, 0, 0);\n    },\n    rotate: function(angle) {\n        var cos = Math.cos(angle), sin = Math.sin(angle);\n        this.transform(cos, sin, -sin, cos, 0, 0);\n    },\n    beginText: function() {\n        this._textMode = true;\n        this._out(\"BT\", NL);\n    },\n    endText: function() {\n        this._textMode = false;\n        this._out(\"ET\", NL);\n    },\n    _requireTextMode: function() {\n        if (!this._textMode) {\n            throw new Error(\"Text mode required; call page.beginText() first\");\n        }\n    },\n    _requireFont: function() {\n        if (!this._font) {\n            throw new Error(\"No font selected; call page.setFont() first\");\n        }\n    },\n    setFont: function(font, size) {\n        this._requireTextMode();\n        if (font == null) {\n            font = this._font;\n        } else if (!(font instanceof PDFFont)) {\n            font = this._pdf.getFont(font);\n        }\n        if (size == null) {\n            size = this._fontSize;\n        }\n        this._fontResources[font._resourceName] = font;\n        this._font = font;\n        this._fontSize = size;\n        this._out(font._resourceName, \" \", size, \" Tf\", NL);\n    },\n    setTextLeading: function(size) {\n        this._requireTextMode();\n        this._out(size, \" TL\", NL);\n    },\n    setTextRenderingMode: function(mode) {\n        this._requireTextMode();\n        this._out(mode, \" Tr\", NL);\n    },\n    showText: function(text, requestedWidth) {\n        this._requireFont();\n        if (text.length > 1 && requestedWidth && this._font instanceof PDFFont) {\n            var outputWidth = this._font.getTextWidth(this._fontSize, text);\n            var scale = requestedWidth / outputWidth * 100;\n            this._out(scale, \" Tz \");\n        }\n        this._out(this._font.encodeText(text), \" Tj\", NL);\n    },\n    showTextNL: function(text) {\n        this._requireFont();\n        this._out(this._font.encodeText(text), \" '\", NL);\n    },\n    addLink: function(uri, box) {\n        var ll = this._toPage({ x: box.left, y: box.bottom });\n        var ur = this._toPage({ x: box.right, y: box.top });\n        this._annotations.push(new PDFDictionary({\n            Type    : _(\"Annot\"),\n            Subtype : _(\"Link\"),\n            Rect    : [ ll.x, ll.y, ur.x, ur.y ],\n            Border  : [ 0, 0, 0 ],\n            A       : new PDFDictionary({\n                Type : _(\"Action\"),\n                S    : _(\"URI\"),\n                URI  : new PDFString(uri)\n            })\n        }));\n    },\n    setStrokeColor: function(r, g, b) {\n        this._out(r, \" \", g, \" \", b, \" RG\", NL);\n    },\n    setOpacity: function(opacity) {\n        this.setFillOpacity(opacity);\n        this.setStrokeOpacity(opacity);\n        this._opacity *= opacity;\n    },\n    setStrokeOpacity: function(opacity) {\n        if (opacity < 1) {\n            var gs = this._pdf.getOpacityGS(this._opacity * opacity, true);\n            this._gsResources[gs._resourceName] = gs;\n            this._out(gs._resourceName, \" gs\", NL);\n        }\n    },\n    setFillColor: function(r, g, b) {\n        this._out(r, \" \", g, \" \", b, \" rg\", NL);\n    },\n    setFillOpacity: function(opacity) {\n        if (opacity < 1) {\n            var gs = this._pdf.getOpacityGS(this._opacity * opacity, false);\n            this._gsResources[gs._resourceName] = gs;\n            this._out(gs._resourceName, \" gs\", NL);\n        }\n    },\n    gradient: function(gradient, box) {\n        this.save();\n        this.rect(box.left, box.top, box.width, box.height);\n        this.clip();\n        if (!gradient.userSpace) {\n            this.transform(box.width, 0, 0, box.height, box.left, box.top);\n        }\n        var g = cacheGradient(this._pdf, gradient, box);\n        var sname = g.shading._resourceName, oname;\n        this._shResources[sname] = g.shading;\n        if (g.hasAlpha) {\n            oname = g.opacity._resourceName;\n            this._gsResources[oname] = g.opacity;\n            this._out(\"/\" + oname + \" gs \");\n        }\n        this._out(\"/\" + sname + \" sh\", NL);\n        this.restore();\n    },\n    setDashPattern: function(dashArray, dashPhase) {\n        this._out(dashArray, \" \", dashPhase, \" d\", NL);\n    },\n    setLineWidth: function(width) {\n        this._out(width, \" w\", NL);\n    },\n    setLineCap: function(lineCap) {\n        this._out(lineCap, \" J\", NL);\n    },\n    setLineJoin: function(lineJoin) {\n        this._out(lineJoin, \" j\", NL);\n    },\n    setMitterLimit: function(mitterLimit) {\n        this._out(mitterLimit, \" M\", NL);\n    },\n    save: function() {\n        this._contextStack.push(this._context());\n        this._out(\"q\", NL);\n    },\n    restore: function() {\n        this._out(\"Q\", NL);\n        this._context(this._contextStack.pop());\n    },\n\n    // paths\n    moveTo: function(x, y) {\n        this._out(x, \" \", y, \" m\", NL);\n    },\n    lineTo: function(x, y) {\n        this._out(x, \" \", y, \" l\", NL);\n    },\n    bezier: function(x1, y1, x2, y2, x3, y3) {\n        this._out(x1, \" \", y1, \" \", x2, \" \", y2, \" \", x3, \" \", y3, \" c\", NL);\n    },\n    bezier1: function(x1, y1, x3, y3) {\n        this._out(x1, \" \", y1, \" \", x3, \" \", y3, \" y\", NL);\n    },\n    bezier2: function(x2, y2, x3, y3) {\n        this._out(x2, \" \", y2, \" \", x3, \" \", y3, \" v\", NL);\n    },\n    close: function() {\n        this._out(\"h\", NL);\n    },\n    rect: function(x, y, w, h) {\n        this._out(x, \" \", y, \" \", w, \" \", h, \" re\", NL);\n    },\n    ellipse: function(x, y, rx, ry) {\n        function _X(v) { return x + v; }\n        function _Y(v) { return y + v; }\n\n        // how to get to the \"magic number\" is explained here:\n        // http://www.whizkidtech.redprince.net/bezier/circle/kappa/\n        var k = 0.5522847498307936;\n\n        this.moveTo(_X(0), _Y(ry));\n        this.bezier(\n            _X(rx * k) , _Y(ry),\n            _X(rx)     , _Y(ry * k),\n            _X(rx)     , _Y(0)\n        );\n        this.bezier(\n            _X(rx)     , _Y(-ry * k),\n            _X(rx * k) , _Y(-ry),\n            _X(0)      , _Y(-ry)\n        );\n        this.bezier(\n            _X(-rx * k) , _Y(-ry),\n            _X(-rx)     , _Y(-ry * k),\n            _X(-rx)     , _Y(0)\n        );\n        this.bezier(\n            _X(-rx)     , _Y(ry * k),\n            _X(-rx * k) , _Y(ry),\n            _X(0)       , _Y(ry)\n        );\n    },\n    circle: function(x, y, r) {\n        this.ellipse(x, y, r, r);\n    },\n    stroke: function() {\n        this._out(\"S\", NL);\n    },\n    nop: function() {\n        this._out(\"n\", NL);\n    },\n    clip: function() {\n        this._out(\"W n\", NL);\n    },\n    clipStroke: function() {\n        this._out(\"W S\", NL);\n    },\n    closeStroke: function() {\n        this._out(\"s\", NL);\n    },\n    fill: function() {\n        this._out(\"f\", NL);\n    },\n    fillStroke: function() {\n        this._out(\"B\", NL);\n    },\n    drawImage: function(url) {\n        var img = this._pdf.getImage(url);\n        if (img) { // the result can be null for a cross-domain image\n            this._xResources[img._resourceName] = img;\n            this._out(img._resourceName, \" Do\", NL);\n        }\n    },\n    comment: function(txt) {\n        var self = this;\n        txt.split(/\\r?\\n/g).forEach(function(line){\n            self._out(\"% \", line, NL);\n        });\n    },\n\n    // internal\n    _context: function(val) {\n        if (val != null) {\n            this._opacity = val.opacity;\n            this._matrix = val.matrix;\n        } else {\n            return {\n                opacity: this._opacity,\n                matrix: this._matrix\n            };\n        }\n    },\n\n    _toPage: function(p) {\n        var m = this._matrix;\n        var a = m[0], b = m[1], c = m[2], d = m[3], e = m[4], f = m[5];\n        return {\n            x: a*p.x + c*p.y + e,\n            y: b*p.x + d*p.y + f\n        };\n    }\n}, PDFDictionary);\n\nfunction unquote(str) {\n    return str.replace(/^\\s*(['\"])(.*)\\1\\s*$/, \"$2\");\n}\n\nfunction parseFontDef(fontdef) {\n    // XXX: this is very crude for now and buggy.  Proper parsing is quite involved.\n    var rx = /^\\s*((normal|italic)\\s+)?((normal|small-caps)\\s+)?((normal|bold|\\d+)\\s+)?(([0-9.]+)(px|pt))(\\/(([0-9.]+)(px|pt)|normal))?\\s+(.*?)\\s*$/i;\n    var m = rx.exec(fontdef);\n    if (!m) {\n        return { fontSize: 12, fontFamily: \"sans-serif\" };\n    }\n    var fontSize = m[8] ? parseInt(m[8], 10) : 12;\n    return {\n        italic     : m[2] && m[2].toLowerCase() == \"italic\",\n        variant    : m[4],\n        bold       : m[6] && /bold|700/i.test(m[6]),\n        fontSize   : fontSize,\n        lineHeight : m[12] ? m[12] == \"normal\" ? fontSize : parseInt(m[12], 10) : null,\n        fontFamily : m[14].split(/\\s*,\\s*/g).map(unquote)\n    };\n}\n\nfunction getFontURL(style) {\n    function mkFamily(name) {\n        if (style.bold) {\n            name += \"|bold\";\n        }\n        if (style.italic) {\n            name += \"|italic\";\n        }\n        return name.toLowerCase();\n    }\n    var fontFamily = style.fontFamily;\n    var name, url;\n    if (fontFamily instanceof Array) {\n        for (var i = 0; i < fontFamily.length; ++i) {\n            name = mkFamily(fontFamily[i]);\n            url = FONT_MAPPINGS[name];\n            if (url) {\n                break;\n            }\n        }\n    } else {\n        url = FONT_MAPPINGS[fontFamily.toLowerCase()];\n    }\n    while (typeof url == \"function\") {\n        url = url();\n    }\n    if (!url) {\n        url = \"Times-Roman\";\n    }\n    return url;\n}\n\nvar FONT_MAPPINGS = {\n    \"serif\"                    : \"Times-Roman\",\n    \"serif|bold\"               : \"Times-Bold\",\n    \"serif|italic\"             : \"Times-Italic\",\n    \"serif|bold|italic\"        : \"Times-BoldItalic\",\n    \"sans-serif\"               : \"Helvetica\",\n    \"sans-serif|bold\"          : \"Helvetica-Bold\",\n    \"sans-serif|italic\"        : \"Helvetica-Oblique\",\n    \"sans-serif|bold|italic\"   : \"Helvetica-BoldOblique\",\n    \"monospace\"                : \"Courier\",\n    \"monospace|bold\"           : \"Courier-Bold\",\n    \"monospace|italic\"         : \"Courier-Oblique\",\n    \"monospace|bold|italic\"    : \"Courier-BoldOblique\",\n    \"zapfdingbats\"             : \"ZapfDingbats\",\n    \"zapfdingbats|bold\"        : \"ZapfDingbats\",\n    \"zapfdingbats|italic\"      : \"ZapfDingbats\",\n    \"zapfdingbats|bold|italic\" : \"ZapfDingbats\"\n};\n\nfunction fontAlias(alias, name) {\n    alias = alias.toLowerCase();\n    FONT_MAPPINGS[alias] = function() {\n        return FONT_MAPPINGS[name];\n    };\n    FONT_MAPPINGS[alias + \"|bold\"] = function() {\n        return FONT_MAPPINGS[name + \"|bold\"];\n    };\n    FONT_MAPPINGS[alias + \"|italic\"] = function() {\n        return FONT_MAPPINGS[name + \"|italic\"];\n    };\n    FONT_MAPPINGS[alias + \"|bold|italic\"] = function() {\n        return FONT_MAPPINGS[name + \"|bold|italic\"];\n    };\n}\n\n// Let's define some common names to an appropriate replacement.\n// These are overridable via pdf.defineFont, should the user want to\n// include the proper versions.\n\nfontAlias(\"Times New Roman\" , \"serif\");\nfontAlias(\"Courier New\"     , \"monospace\");\nfontAlias(\"Arial\"           , \"sans-serif\");\nfontAlias(\"Helvetica\"       , \"sans-serif\");\nfontAlias(\"Verdana\"         , \"sans-serif\");\nfontAlias(\"Tahoma\"          , \"sans-serif\");\nfontAlias(\"Georgia\"         , \"sans-serif\");\nfontAlias(\"Monaco\"          , \"monospace\");\nfontAlias(\"Andale Mono\"     , \"monospace\");\n\nfunction defineFont(name, url) {\n    if (arguments.length == 1) {\n        for (var i in name) {\n            if (hasOwnProperty(name, i)) {\n                defineFont(i, name[i]);\n            }\n        }\n    } else {\n        name = name.toLowerCase();\n        FONT_MAPPINGS[name] = url;\n\n        // special handling for DejaVu fonts: if they get defined,\n        // let them also replace the default families, for good\n        // Unicode support out of the box.\n        switch (name) {\n          case \"dejavu sans\"               : FONT_MAPPINGS[\"sans-serif\"]              = url; break;\n          case \"dejavu sans|bold\"          : FONT_MAPPINGS[\"sans-serif|bold\"]         = url; break;\n          case \"dejavu sans|italic\"        : FONT_MAPPINGS[\"sans-serif|italic\"]       = url; break;\n          case \"dejavu sans|bold|italic\"   : FONT_MAPPINGS[\"sans-serif|bold|italic\"]  = url; break;\n          case \"dejavu serif\"              : FONT_MAPPINGS[\"serif\"]                   = url; break;\n          case \"dejavu serif|bold\"         : FONT_MAPPINGS[\"serif|bold\"]              = url; break;\n          case \"dejavu serif|italic\"       : FONT_MAPPINGS[\"serif|italic\"]            = url; break;\n          case \"dejavu serif|bold|italic\"  : FONT_MAPPINGS[\"serif|bold|italic\"]       = url; break;\n          case \"dejavu mono\"               : FONT_MAPPINGS[\"monospace\"]               = url; break;\n          case \"dejavu mono|bold\"          : FONT_MAPPINGS[\"monospace|bold\"]          = url; break;\n          case \"dejavu mono|italic\"        : FONT_MAPPINGS[\"monospace|italic\"]        = url; break;\n          case \"dejavu mono|bold|italic\"   : FONT_MAPPINGS[\"monospace|bold|italic\"]   = url; break;\n        }\n    }\n}\n\nfunction mmul(a, b) {\n    var a1 = a[0], b1 = a[1], c1 = a[2], d1 = a[3], e1 = a[4], f1 = a[5];\n    var a2 = b[0], b2 = b[1], c2 = b[2], d2 = b[3], e2 = b[4], f2 = b[5];\n    return [\n        a1*a2 + b1*c2,          a1*b2 + b1*d2,\n        c1*a2 + d1*c2,          c1*b2 + d1*d2,\n        e1*a2 + f1*c2 + e2,     e1*b2 + f1*d2 + f2\n    ];\n}\n\nfunction isIdentityMatrix(m) {\n    return m[0] === 1 && m[1] === 0 && m[2] === 0 && m[3] === 1 && m[4] === 0 && m[5] === 0;\n}\n\nconst TEXT_RENDERING_MODE = {\n    fill           : 0,\n    stroke         : 1,\n    fillAndStroke  : 2,\n    invisible      : 3,\n    fillAndClip    : 4,\n    strokeAndClip  : 5,\n    fillStrokeClip : 6,\n    clip           : 7\n};\n\nexport {\n    PDFDocument as Document,\n    BinaryStream,\n    defineFont,\n    parseFontDef,\n    getFontURL,\n    loadFonts,\n    loadImages,\n    getPaperOptions,\n    clearImageCache,\n    TEXT_RENDERING_MODE\n};\n"],"names":["const","arguments","this"],"mappings":"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"}