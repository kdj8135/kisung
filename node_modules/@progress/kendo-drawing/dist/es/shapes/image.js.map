{"version":3,"file":"image.js","sources":["image.js"],"sourcesContent":["import defineGeometryAccessors from '../accessors/define-geometry-accessors';\nimport Element from './element';\nimport Rect from '../geometry/rect';\nimport toMatrix from '../geometry/to-matrix';\nimport { defined } from '../util';\n\nclass Image extends Element {\n\n    constructor(src, rect = new Rect(), options = {}) {\n        super(options);\n\n        this.src(src);\n        this.rect(rect);\n    }\n\n    src(value) {\n        if (defined(value)) {\n            this.options.set(\"src\", value);\n            return this;\n        }\n\n        return this.options.get(\"src\");\n    }\n\n    bbox(transformation) {\n        const combinedMatrix = toMatrix(this.currentTransform(transformation));\n        return this._rect.bbox(combinedMatrix);\n    }\n\n    rawBBox() {\n        return this._rect.bbox();\n    }\n\n    _containsPoint(point) {\n        return this._rect.containsPoint(point);\n    }\n\n    _hasFill() {\n        return this.src();\n    }\n}\n\nImage.prototype.nodeType = \"Image\";\n\ndefineGeometryAccessors(Image.prototype, [ \"rect\" ]);\n\nexport default Image;"],"names":["super","const"],"mappings":"AAAA,OAAO,uBAAuB,MAAM,wCAAwC,CAAC;AAC7E,OAAO,OAAO,MAAM,WAAW,CAAC;AAChC,OAAO,IAAI,MAAM,kBAAkB,CAAC;AACpC,OAAO,QAAQ,MAAM,uBAAuB,CAAC;AAC7C,SAAS,OAAO,QAAQ,SAAS,CAAC;;AAElC,IAAM,KAAK,GAAgB;IAAC,AAExB,cAAW,CAAC,GAAG,EAAE,IAAiB,EAAE,OAAY,EAAE,CAA7B;mCAAA,GAAG,IAAI,IAAI,EAAE,CAAS;yCAAA,GAAG,EAAE;AAAG;QAC/CA,OAAK,KAAA,CAAC,MAAA,OAAO,CAAC,CAAC;;QAEf,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QACd,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;KACnB;;;;wCAAA;;IAED,gBAAA,GAAG,gBAAA,CAAC,KAAK,EAAE;QACP,IAAI,OAAO,CAAC,KAAK,CAAC,EAAE;YAChB,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;YAC/B,OAAO,IAAI,CAAC;SACf;;QAED,OAAO,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;KAClC,CAAA;;IAED,gBAAA,IAAI,iBAAA,CAAC,cAAc,EAAE;QACjBC,GAAK,CAAC,cAAc,GAAG,QAAQ,CAAC,IAAI,CAAC,gBAAgB,CAAC,cAAc,CAAC,CAAC,CAAC;QACvE,OAAO,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;KAC1C,CAAA;;IAED,gBAAA,OAAO,oBAAA,GAAG;QACN,OAAO,IAAI,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC;KAC5B,CAAA;;IAED,gBAAA,cAAc,2BAAA,CAAC,KAAK,EAAE;QAClB,OAAO,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;KAC1C,CAAA;;IAED,gBAAA,QAAQ,qBAAA,GAAG;QACP,OAAO,IAAI,CAAC,GAAG,EAAE,CAAC;KACrB,CAAA,AACJ;;;EAlCmB,OAkCnB,GAAA;;AAED,KAAK,CAAC,SAAS,CAAC,QAAQ,GAAG,OAAO,CAAC;;AAEnC,uBAAuB,CAAC,KAAK,CAAC,SAAS,EAAE,EAAE,MAAM,EAAE,CAAC,CAAC;;AAErD,eAAe,KAAK"}