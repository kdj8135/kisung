{"version":3,"file":"parse-color.js","sources":["parse-color.js"],"sourcesContent":["import Class from '../class';\nimport support from '../support';\nimport namedColors from './named-colors';\n\nconst browser = support.browser;\n\nlet matchNamedColor = (color) => {\n    const colorNames = Object.keys(namedColors);\n    colorNames.push(\"transparent\");\n\n    const regexp = new RegExp(\"^(\" + colorNames.join(\"|\") + \")(\\\\W|$)\", \"i\");\n    matchNamedColor = (color) => regexp.exec(color);\n\n    return regexp.exec(color);\n};\n\nclass BaseColor extends Class {\n    constructor() { super(); }\n    toHSV() { return this; }\n\n    toRGB() { return this; }\n\n    toHex() { return this.toBytes().toHex(); }\n\n    toBytes() { return this; }\n\n    toCss() { return \"#\" + this.toHex(); }\n\n    toCssRgba() {\n        const rgb = this.toBytes();\n        return `rgba(${ rgb.r }, ${ rgb.g }, ${ rgb.b }, ${ parseFloat((Number(this.a)).toFixed(3)) })`;\n    }\n\n    toDisplay() {\n        if (browser.msie && browser.version < 9) {\n            return this.toCss(); // no RGBA support; does it support any opacity in colors?\n        }\n        return this.toCssRgba();\n    }\n\n    equals(c) {\n        return c === this || c !== null && this.toCssRgba() === parseColor(c).toCssRgba();\n    }\n\n    diff(other) {\n        if (other === null) {\n            return NaN;\n        }\n\n        const c1 = this.toBytes();\n        const c2 = other.toBytes();\n\n        return Math.sqrt(Math.pow((c1.r - c2.r) * 0.30, 2) +\n                         Math.pow((c1.g - c2.g) * 0.59, 2) +\n                         Math.pow((c1.b - c2.b) * 0.11, 2));\n    }\n\n    clone() {\n        let c = this.toBytes();\n        if (c === this) {\n            c = new Bytes(c.r, c.g, c.b, c.a);\n        }\n\n        return c;\n    }\n}\n\nclass RGB extends BaseColor {\n    constructor(r, g, b, a) {\n        super();\n\n        this.r = r;\n        this.g = g;\n        this.b = b;\n        this.a = a;\n    }\n\n    toHSV() {\n        const { r, g, b } = this;\n        const min = Math.min(r, g, b);\n        const max = Math.max(r, g, b);\n        const delta = max - min;\n        const v = max;\n        let h, s;\n\n        if (delta === 0) {\n            return new HSV(0, 0, v, this.a);\n        }\n\n        if (max !== 0) {\n            s = delta / max;\n            if (r === max) {\n                h = (g - b) / delta;\n            } else if (g === max) {\n                h = 2 + (b - r) / delta;\n            } else {\n                h = 4 + (r - g) / delta;\n            }\n\n            h *= 60;\n            if (h < 0) {\n                h += 360;\n            }\n        } else {\n            s = 0;\n            h = -1;\n        }\n\n        return new HSV(h, s, v, this.a);\n    }\n\n    toHSL() {\n        const { r, g, b } = this;\n        const max = Math.max(r, g, b);\n        const min = Math.min(r, g, b);\n        let h, s, l = (max + min) / 2;\n\n        if (max === min) {\n            h = s = 0;\n        } else {\n            const d = max - min;\n            s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n            switch (max) {\n                case r: h = (g - b) / d + (g < b ? 6 : 0); break;\n                case g: h = (b - r) / d + 2; break;\n                case b: h = (r - g) / d + 4; break;\n                default: break;\n            }\n\n            h *= 60;\n            s *= 100;\n            l *= 100;\n        }\n\n        return new HSL(h, s, l, this.a);\n    }\n\n    toBytes() {\n        return new Bytes(this.r * 255, this.g * 255, this.b * 255, this.a);\n    }\n}\n\nclass Bytes extends RGB {\n    constructor(r, g, b, a) {\n        super(Math.round(r), Math.round(g), Math.round(b), a);\n    }\n\n    toRGB() {\n        return new RGB(this.r / 255, this.g / 255, this.b / 255, this.a);\n    }\n\n    toHSV() {\n        return this.toRGB().toHSV();\n    }\n\n    toHSL() {\n        return this.toRGB().toHSL();\n    }\n\n    toHex() {\n        return hex(this.r, 2) + hex(this.g, 2) + hex(this.b, 2);\n    }\n\n    toBytes() {\n        return this;\n    }\n}\n\nfunction hex(n, width, pad = \"0\") {\n    let result = n.toString(16);\n    while (width > result.length) {\n        result = pad + result;\n    }\n\n    return result;\n}\n\nclass HSV extends BaseColor {\n    constructor(h, s, v, a) {\n        super();\n\n        this.h = h;\n        this.s = s;\n        this.v = v;\n        this.a = a;\n    }\n\n    toRGB() {\n        let { h, s, v } = this;\n        let r, g, b;\n\n        if (s === 0) {\n            r = g = b = v;\n        } else {\n            h /= 60;\n\n            const i = Math.floor(h);\n            const f = h - i;\n            const p = v * (1 - s);\n            const q = v * (1 - s * f);\n            const t = v * (1 - s * (1 - f));\n\n            switch (i) {\n                case 0: r = v; g = t; b = p; break;\n                case 1: r = q; g = v; b = p; break;\n                case 2: r = p; g = v; b = t; break;\n                case 3: r = p; g = q; b = v; break;\n                case 4: r = t; g = p; b = v; break;\n                default: r = v; g = p; b = q; break;\n            }\n        }\n\n        return new RGB(r, g, b, this.a);\n    }\n\n    toHSL() {\n        return this.toRGB().toHSL();\n    }\n\n    toBytes() {\n        return this.toRGB().toBytes();\n    }\n}\n\nclass HSL extends BaseColor {\n    constructor(h, s, l, a) {\n        super();\n\n        this.h = h;\n        this.s = s;\n        this.l = l;\n        this.a = a;\n    }\n\n    toRGB() {\n        let { h, s, l } = this;\n        let r, g, b;\n\n        if (s === 0) {\n            r = g = b = l; // achromatic\n        } else {\n            h /= 360;\n            s /= 100;\n            l /= 100;\n\n            const q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n            const p = 2 * l - q;\n            r = hue2rgb(p, q, h + 1 / 3);\n            g = hue2rgb(p, q, h);\n            b = hue2rgb(p, q, h - 1 / 3);\n        }\n\n        return new RGB(r, g, b, this.a);\n    }\n\n    toHSV() {\n        return this.toRGB().toHSV();\n    }\n\n    toBytes() {\n        return this.toRGB().toBytes();\n    }\n}\n\nfunction hue2rgb(p, q, s) {\n    let t = s;\n\n    if (t < 0) {\n        t += 1;\n    }\n\n    if (t > 1) {\n        t -= 1;\n    }\n\n    if (t < 1 / 6) {\n        return p + (q - p) * 6 * t;\n    }\n\n    if (t < 1 / 2) {\n        return q;\n    }\n\n    if (t < 2 / 3) {\n        return p + (q - p) * (2 / 3 - t) * 6;\n    }\n\n    return p;\n}\n\nexport { RGB, Bytes, HSV, HSL };\n\nexport default function parseColor(value, safe) {\n    let m, ret;\n\n    if (value == null || value === \"none\") {\n        return null;\n    }\n\n    if (value instanceof BaseColor) {\n        return value;\n    }\n\n    let color = value.toLowerCase();\n    if ((m = matchNamedColor(color))) {\n        if (m[1] === \"transparent\") {\n            color = new RGB(1, 1, 1, 0);\n        } else {\n            color = parseColor(namedColors[m[1]], safe);\n        }\n        color.match = [ m[1] ];\n        return color;\n    }\n    if ((m = /^#?([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})\\b/i.exec(color))) {\n        ret = new Bytes(parseInt(m[1], 16),\n                        parseInt(m[2], 16),\n                        parseInt(m[3], 16), 1);\n    } else if ((m = /^#?([0-9a-f])([0-9a-f])([0-9a-f])\\b/i.exec(color))) {\n        ret = new Bytes(parseInt(m[1] + m[1], 16),\n                        parseInt(m[2] + m[2], 16),\n                        parseInt(m[3] + m[3], 16), 1);\n    } else if ((m = /^rgb\\(\\s*([0-9]+)\\s*,\\s*([0-9]+)\\s*,\\s*([0-9]+)\\s*\\)/.exec(color))) {\n        ret = new Bytes(parseInt(m[1], 10),\n                        parseInt(m[2], 10),\n                        parseInt(m[3], 10), 1);\n    } else if ((m = /^rgba\\(\\s*([0-9]+)\\s*,\\s*([0-9]+)\\s*,\\s*([0-9]+)\\s*,\\s*([0-9.]+)\\s*\\)/.exec(color))) {\n        ret = new Bytes(parseInt(m[1], 10),\n                        parseInt(m[2], 10),\n                        parseInt(m[3], 10), parseFloat(m[4]));\n    } else if ((m = /^rgb\\(\\s*([0-9]*\\.?[0-9]+)%\\s*,\\s*([0-9]*\\.?[0-9]+)%\\s*,\\s*([0-9]*\\.?[0-9]+)%\\s*\\)/.exec(color))) {\n        ret = new RGB(parseFloat(m[1]) / 100,\n                      parseFloat(m[2]) / 100,\n                      parseFloat(m[3]) / 100, 1);\n    } else if ((m = /^rgba\\(\\s*([0-9]*\\.?[0-9]+)%\\s*,\\s*([0-9]*\\.?[0-9]+)%\\s*,\\s*([0-9]*\\.?[0-9]+)%\\s*,\\s*([0-9.]+)\\s*\\)/.exec(color))) {\n        ret = new RGB(parseFloat(m[1]) / 100,\n                      parseFloat(m[2]) / 100,\n                      parseFloat(m[3]) / 100, parseFloat(m[4]));\n    }\n\n    if (ret) {\n        ret.match = m;\n    } else if (!safe) {\n        throw new Error(\"Cannot parse color: \" + color);\n    }\n\n    return ret;\n}\n"],"names":["const","let","super"],"mappings":"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"}