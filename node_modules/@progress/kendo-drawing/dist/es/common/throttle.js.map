{"version":3,"file":"throttle.js","sources":["throttle.js"],"sourcesContent":["function now() {\n    return new Date().getTime();\n}\n\nexport default function throttle(fn, delay) {\n    let lastExecTime = 0;\n    let timeout;\n\n    if (!delay || delay <= 0) {\n        return fn;\n    }\n\n    const throttled = function() {\n        const elapsed = now() - lastExecTime;\n        const args = arguments;\n\n        const exec = function() {\n            fn.apply(null, args);\n            lastExecTime = now();\n        };\n\n        // first execution\n        if (!lastExecTime) {\n            return exec();\n        }\n\n        if (timeout) {\n            clearTimeout(timeout);\n        }\n\n        if (elapsed > delay) {\n            exec();\n        } else {\n            timeout = setTimeout(exec, delay - elapsed);\n        }\n    };\n\n    throttled.cancel = function() {\n        clearTimeout(timeout);\n    };\n\n    return throttled;\n}"],"names":["let","const"],"mappings":"AAAA,SAAS,GAAG,GAAG;IACX,OAAO,IAAI,IAAI,EAAE,CAAC,OAAO,EAAE,CAAC;CAC/B;;AAED,eAAe,SAAS,QAAQ,CAAC,EAAE,EAAE,KAAK,EAAE;IACxCA,GAAG,CAAC,YAAY,GAAG,CAAC,CAAC;IACrBA,GAAG,CAAC,OAAO,CAAC;;IAEZ,IAAI,CAAC,KAAK,IAAI,KAAK,IAAI,CAAC,EAAE;QACtB,OAAO,EAAE,CAAC;KACb;;IAEDC,GAAK,CAAC,SAAS,GAAG,WAAW;QACzBA,GAAK,CAAC,OAAO,GAAG,GAAG,EAAE,GAAG,YAAY,CAAC;QACrCA,GAAK,CAAC,IAAI,GAAG,SAAS,CAAC;;QAEvBA,GAAK,CAAC,IAAI,GAAG,WAAW;YACpB,EAAE,CAAC,KAAK,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;YACrB,YAAY,GAAG,GAAG,EAAE,CAAC;SACxB,CAAC;;;QAGF,IAAI,CAAC,YAAY,EAAE;YACf,OAAO,IAAI,EAAE,CAAC;SACjB;;QAED,IAAI,OAAO,EAAE;YACT,YAAY,CAAC,OAAO,CAAC,CAAC;SACzB;;QAED,IAAI,OAAO,GAAG,KAAK,EAAE;YACjB,IAAI,EAAE,CAAC;SACV,MAAM;YACH,OAAO,GAAG,UAAU,CAAC,IAAI,EAAE,KAAK,GAAG,OAAO,CAAC,CAAC;SAC/C;KACJ,CAAC;;IAEF,SAAS,CAAC,MAAM,GAAG,WAAW;QAC1B,YAAY,CAAC,OAAO,CAAC,CAAC;KACzB,CAAC;;IAEF,OAAO,SAAS,CAAC;"}