{"version":3,"file":"main.js","sources":["mixins/observers-mixin.js","common/animation-frame.js","common/class.js","common/html-encode.js","common/log-to-console.js","common/observable.js","common/save-as.js","common/support.js","common/template.js","common/throttle.js","common/color/named-colors.js","common/color/parse-color.js","common/color/color.js","util/append.js","util/arabic-to-roman.js","util/create-promise.js","util/defined.js","util/definition-id.js","util/constants.js","util/deg.js","util/encode-base64.js","util/event-coordinates.js","util/event-element.js","util/is-transparent.js","util/last.js","util/limit-value.js","util/merge-sort.js","util/promise-all.js","util/rad.js","util/round.js","util/value-or-default.js","util/bind-events.js","util/element-offset.js","util/element-styles.js","util/element-size.js","util/unbind-events.js","text-metrics/lru-cache.js","text-metrics/util.js","text-metrics/text-metrics.js","text-metrics/measure-text.js","core/options-store.js","accessors/define-accessors.js","geometry/matrix.js","geometry/to-matrix.js","geometry/point.js","geometry/size.js","geometry/rect.js","geometry/transformation.js","geometry/transform.js","shapes/element.js","geometry/math/ellipse-extreme-angles.js","geometry/circle.js","mixins/paintable.js","mixins/measurable.js","accessors/define-geometry-accessors.js","shapes/circle.js","geometry/constants.js","geometry/math/close.js","geometry/math/close-or-less.js","geometry/math/line-intersection.js","geometry/arc.js","shapes/elements-array.js","shapes/geometry-elements-array.js","accessors/define-point-accessors.js","geometry/math/is-out-of-end-point.js","geometry/math/calculate-curve-at.js","geometry/math/to-cubic-polynomial.js","geometry/math/complex-number.js","geometry/math/solve-cubic-equation.js","geometry/math/has-roots-in-range.js","geometry/math/curve-intersections-count.js","geometry/math/line-intersections-count.js","geometry/segment.js","shapes/path.js","shapes/arc.js","shapes/utils/elements-bounding-box.js","shapes/utils/elements-clippend-bounding-box.js","shapes/multi-path.js","shapes/text.js","shapes/image.js","mixins/traversable.js","shapes/group.js","alignment/translate-to-point.js","alignment/align-start.js","alignment/align-start-reverse.js","shapes/layout.js","shapes/rect.js","alignment/align-elements.js","alignment/align.js","alignment/v-align.js","alignment/stack-elements.js","alignment/create-stack-elements.js","alignment/stack.js","alignment/v-stack.js","alignment/wrap-elements.js","alignment/wrap.js","alignment/v-wrap.js","alignment/fit.js","gradients/stops-array.js","accessors/define-options-accessors.js","gradients/gradient-stop.js","gradients/gradient.js","gradients/linear-gradient.js","gradients/radial-gradient.js","animations/easing-functions.js","animations/animation.js","animations/animation-factory.js","parsing/shape-map.js","parsing/path-parser.js","core/surface-factory.js","core/surface.js","core/base-node.js","svg/utils/render-attribute.js","svg/utils/render-all-attributes.js","svg/utils/render-style.js","svg/node-map.js","svg/constants.js","svg/utils/render-svg.js","svg/node.js","svg/gradient-stop-node.js","svg/gradient-node.js","svg/linear-gradient-node.js","svg/radial-gradient-node.js","svg/clip-node.js","svg/definition-node.js","svg/root-node.js","svg/surface.js","svg/group-node.js","core/constants.js","svg/path-node.js","svg/arc-node.js","svg/circle-node.js","svg/rect-node.js","svg/image-node.js","svg/text-node.js","svg/multi-path-node.js","svg/export-group.js","canvas/node-map.js","canvas/utils/render-path.js","canvas/node.js","canvas/group-node.js","canvas/root-node.js","search/quad-root.js","search/quad-node.js","search/shapes-quad-tree.js","canvas/surface-cursor.js","canvas/surface.js","canvas/path-node.js","canvas/arc-node.js","canvas/circle-node.js","canvas/rect-node.js","canvas/image-node.js","canvas/text-node.js","canvas/multi-path-node.js","canvas/export-image.js","svg/export-svg.js","pdf/utils.js","pdf/ttf.js","pdf/deflate.js","pdf/core.js","pdf/drawing.js","html/core.js"],"sourcesContent":["\nconst ObserversMixin = {\n    extend: function(proto) {\n        for (let method in this) {\n            if (method !== \"extend\") {\n                proto[method] = this[method];\n            }\n        }\n    },\n\n    observers: function() {\n        this._observers = this._observers || [];\n        return this._observers;\n    },\n\n    addObserver: function(element) {\n        if (!this._observers) {\n            this._observers = [ element ];\n        } else {\n            this._observers.push(element);\n        }\n        return this;\n    },\n\n    removeObserver: function(element) {\n        const observers = this.observers();\n        const index = observers.indexOf(element);\n        if (index !== -1) {\n            observers.splice(index, 1);\n        }\n        return this;\n    },\n\n    trigger: function(methodName, event) {\n        const observers = this._observers;\n\n        if (observers && !this._suspended) {\n            for (let idx = 0; idx < observers.length; idx++) {\n                let observer = observers[idx];\n                if (observer[methodName]) {\n                    observer[methodName](event);\n                }\n            }\n        }\n        return this;\n    },\n\n    optionsChange: function(e = {}) {\n        e.element = this;\n        this.trigger(\"optionsChange\", e);\n    },\n\n    geometryChange: function() {\n        this.trigger(\"geometryChange\", {\n            element: this\n        });\n    },\n\n    suspend: function() {\n        this._suspended = (this._suspended || 0) + 1;\n        return this;\n    },\n\n    resume: function() {\n        this._suspended = Math.max((this._suspended || 0) - 1, 0);\n        return this;\n    },\n\n    _observerField: function(field, value) {\n        if (this[field]) {\n            this[field].removeObserver(this);\n        }\n        this[field] = value;\n        value.addObserver(this);\n    }\n};\n\nexport default ObserversMixin;","const wnd = typeof window !== \"undefined\" ? window : {};\n\nconst animationFrame = wnd.requestAnimationFrame ||\n                    wnd.webkitRequestAnimationFrame ||\n                    wnd.mozRequestAnimationFrame ||\n                    wnd.oRequestAnimationFrame ||\n                    wnd.msRequestAnimationFrame ||\n                    function(callback) { setTimeout(callback, 1000 / 60); };\n\nexport default function animationFrameProxy(callback) {\n    animationFrame.call(wnd, callback);\n}\n","export default class Class {\n}","const ampRegExp = /&/g;\nconst ltRegExp = /</g;\nconst quoteRegExp = /\"/g;\nconst aposRegExp = /'/g;\nconst gtRegExp = />/g;\n\nexport default function htmlEncode(value) {\n    return String(value).replace(ampRegExp, \"&amp;\").replace(ltRegExp, \"&lt;\").replace(gtRegExp, \"&gt;\").replace(quoteRegExp, \"&quot;\").replace(aposRegExp, \"&#39;\");\n}","/* eslint-disable no-console */\n\nexport default function logToConsole(message) {\n    const console = window.console;\n\n    if (typeof(console) != \"undefined\" && console.log) {\n        console.log(message);\n    }\n}","import Class from './class';\n\nclass Observable extends Class {\n    constructor() {\n        super();\n\n        this._events = {};\n    }\n\n    bind(eventName, handlers, one) {\n        const eventNames = getArray(eventName);\n        const handlersIsFunction = isFunction(handlers);\n        const length = eventNames.length;\n\n        if (handlers === undefined) {\n            for (let field in eventName) {\n                this.bind(field, eventName[field]);\n            }\n            return this;\n        }\n\n        for (let idx = 0; idx < length; idx++) {\n            const eventName = eventNames[idx];\n\n            let handler = handlersIsFunction ? handlers : handlers[eventName];\n\n            if (handler) {\n                if (one) {\n                    const original = handler;\n                    handler = () => { // eslint-disable-line no-loop-func\n                        this.unbind(eventName, handler);\n                        original.apply(this, arguments);\n                    };\n                    handler.original = original;\n                }\n                let events = this._events[eventName] = this._events[eventName] || [];\n                events.push(handler);\n            }\n        }\n\n        return this;\n    }\n\n    one(eventNames, handlers) {\n        return this.bind(eventNames, handlers, true);\n    }\n\n    first(eventName, handlers) {\n        const eventNames = getArray(eventName);\n        const handlersIsFunction = isFunction(handlers);\n\n        for (let idx = 0, length = eventNames.length; idx < length; idx++) {\n            const eventName = eventNames[idx];\n\n            const handler = handlersIsFunction ? handlers : handlers[eventName];\n\n            if (handler) {\n                const events = this._events[eventName] = this._events[eventName] || [];\n                events.unshift(handler);\n            }\n        }\n\n        return this;\n    }\n\n    trigger(eventName, e = {}) {\n        let events = this._events[eventName];\n\n        if (events) {\n            const length = events.length;\n\n            e.sender = this;\n            e._defaultPrevented = false;\n            e.preventDefault = preventDefault;\n            e.isDefaultPrevented = isDefaultPrevented;\n\n            events = events.slice();\n\n            for (let idx = 0; idx < length; idx++) {\n                events[idx].call(this, e);\n            }\n\n            return e._defaultPrevented === true;\n        }\n\n        return false;\n    }\n\n    unbind(eventName, handler) {\n        const events = this._events[eventName];\n\n        if (eventName === undefined) {\n            this._events = {};\n        } else if (events) {\n            if (handler) {\n                for (let idx = events.length - 1; idx >= 0; idx--) {\n                    if (events[idx] === handler || events[idx].original === handler) {\n                        events.splice(idx, 1);\n                    }\n                }\n            } else {\n                this._events[eventName] = [];\n            }\n        }\n\n        return this;\n    }\n}\n\nfunction isFunction(value) {\n    return typeof value === \"function\";\n}\n\nfunction getArray(value) {\n    return typeof value === \"string\" ? [ value ] : value;\n}\n\nfunction preventDefault() {\n    this._defaultPrevented = true;\n}\n\nfunction isDefaultPrevented() {\n    return this._defaultPrevented === true;\n}\n\nexport default Observable;","// XXX: the following will not work with IE9 (requires server proxy).\nexport default function saveAs(options) {\n    const { dataURI, fileName } = options;\n    let data = dataURI;\n\n    if (typeof data == \"string\" && window.Blob) {\n        const parts = data.split(\";base64,\");\n        const contentType = parts[0];\n        const base64 = atob(parts[1]);\n        const array = new Uint8Array(base64.length);\n        for (let idx = 0; idx < base64.length; idx++) {\n            array[idx] = base64.charCodeAt(idx);\n        }\n        data = new Blob([ array.buffer ], { type: contentType });\n    }\n    if (navigator.msSaveBlob) {\n        navigator.msSaveBlob(data, fileName);\n    } else {\n        const link = document.createElement(\"a\");\n        link.download = fileName;\n        data = link.href = URL.createObjectURL(data);\n        const e = document.createEvent(\"MouseEvents\");\n        e.initMouseEvent(\"click\", true, false, window,\n                         0, 0, 0, 0, 0, false, false, false, false, 0, null);\n        link.dispatchEvent(e);\n        setTimeout(function() {\n            URL.revokeObjectURL(data);\n        });\n    }\n}","const support = {};\n\nif (typeof window !== 'undefined') {\n    support.browser = (function(userAgent) {\n        const browserRxs = {\n            edge: /(edge)[ \\/]([\\w.]+)/i,\n            webkit: /(chrome)[ \\/]([\\w.]+)/i,\n            safari: /(webkit)[ \\/]([\\w.]+)/i,\n            opera: /(opera)(?:.*version|)[ \\/]([\\w.]+)/i,\n            msie: /(msie\\s|trident.*? rv:)([\\w.]+)/i,\n            mozilla: /(mozilla)(?:.*? rv:([\\w.]+)|)/i\n        };\n\n        let browser;\n\n        for (let agent in browserRxs) {\n            if (browserRxs.hasOwnProperty(agent)) {\n                const match = userAgent.match(browserRxs[agent]);\n                if (match) {\n                    browser = {};\n                    browser[agent] = true;\n                    browser[match[1].toLowerCase().split(\" \")[0].split(\"/\")[0]] = true;\n                    browser.version = parseInt(document.documentMode || match[2], 10);\n\n                    break;\n                }\n            }\n        }\n\n        return browser;\n\n    })(window.navigator.userAgent);\n}\n\nexport default support;\n\n","export default function template() {\n    // XXX: no template engine for now\n    throw new Error(\"String template not yet supported.  Pass a function and use your preferred template engine.\");\n}","function now() {\n    return new Date().getTime();\n}\n\nexport default function throttle(fn, delay) {\n    let lastExecTime = 0;\n    let timeout;\n\n    if (!delay || delay <= 0) {\n        return fn;\n    }\n\n    const throttled = function() {\n        const elapsed = now() - lastExecTime;\n        const args = arguments;\n\n        const exec = function() {\n            fn.apply(null, args);\n            lastExecTime = now();\n        };\n\n        // first execution\n        if (!lastExecTime) {\n            return exec();\n        }\n\n        if (timeout) {\n            clearTimeout(timeout);\n        }\n\n        if (elapsed > delay) {\n            exec();\n        } else {\n            timeout = setTimeout(exec, delay - elapsed);\n        }\n    };\n\n    throttled.cancel = function() {\n        clearTimeout(timeout);\n    };\n\n    return throttled;\n}","const namedColors = {\n    aliceblue: \"f0f8ff\", antiquewhite: \"faebd7\", aqua: \"00ffff\",\n    aquamarine: \"7fffd4\", azure: \"f0ffff\", beige: \"f5f5dc\",\n    bisque: \"ffe4c4\", black: \"000000\", blanchedalmond: \"ffebcd\",\n    blue: \"0000ff\", blueviolet: \"8a2be2\", brown: \"a52a2a\",\n    burlywood: \"deb887\", cadetblue: \"5f9ea0\", chartreuse: \"7fff00\",\n    chocolate: \"d2691e\", coral: \"ff7f50\", cornflowerblue: \"6495ed\",\n    cornsilk: \"fff8dc\", crimson: \"dc143c\", cyan: \"00ffff\",\n    darkblue: \"00008b\", darkcyan: \"008b8b\", darkgoldenrod: \"b8860b\",\n    darkgray: \"a9a9a9\", darkgrey: \"a9a9a9\", darkgreen: \"006400\",\n    darkkhaki: \"bdb76b\", darkmagenta: \"8b008b\", darkolivegreen: \"556b2f\",\n    darkorange: \"ff8c00\", darkorchid: \"9932cc\", darkred: \"8b0000\",\n    darksalmon: \"e9967a\", darkseagreen: \"8fbc8f\", darkslateblue: \"483d8b\",\n    darkslategray: \"2f4f4f\", darkslategrey: \"2f4f4f\", darkturquoise: \"00ced1\",\n    darkviolet: \"9400d3\", deeppink: \"ff1493\", deepskyblue: \"00bfff\",\n    dimgray: \"696969\", dimgrey: \"696969\", dodgerblue: \"1e90ff\",\n    firebrick: \"b22222\", floralwhite: \"fffaf0\", forestgreen: \"228b22\",\n    fuchsia: \"ff00ff\", gainsboro: \"dcdcdc\", ghostwhite: \"f8f8ff\",\n    gold: \"ffd700\", goldenrod: \"daa520\", gray: \"808080\",\n    grey: \"808080\", green: \"008000\", greenyellow: \"adff2f\",\n    honeydew: \"f0fff0\", hotpink: \"ff69b4\", indianred: \"cd5c5c\",\n    indigo: \"4b0082\", ivory: \"fffff0\", khaki: \"f0e68c\",\n    lavender: \"e6e6fa\", lavenderblush: \"fff0f5\", lawngreen: \"7cfc00\",\n    lemonchiffon: \"fffacd\", lightblue: \"add8e6\", lightcoral: \"f08080\",\n    lightcyan: \"e0ffff\", lightgoldenrodyellow: \"fafad2\", lightgray: \"d3d3d3\",\n    lightgrey: \"d3d3d3\", lightgreen: \"90ee90\", lightpink: \"ffb6c1\",\n    lightsalmon: \"ffa07a\", lightseagreen: \"20b2aa\", lightskyblue: \"87cefa\",\n    lightslategray: \"778899\", lightslategrey: \"778899\", lightsteelblue: \"b0c4de\",\n    lightyellow: \"ffffe0\", lime: \"00ff00\", limegreen: \"32cd32\",\n    linen: \"faf0e6\", magenta: \"ff00ff\", maroon: \"800000\",\n    mediumaquamarine: \"66cdaa\", mediumblue: \"0000cd\", mediumorchid: \"ba55d3\",\n    mediumpurple: \"9370d8\", mediumseagreen: \"3cb371\", mediumslateblue: \"7b68ee\",\n    mediumspringgreen: \"00fa9a\", mediumturquoise: \"48d1cc\", mediumvioletred: \"c71585\",\n    midnightblue: \"191970\", mintcream: \"f5fffa\", mistyrose: \"ffe4e1\",\n    moccasin: \"ffe4b5\", navajowhite: \"ffdead\", navy: \"000080\",\n    oldlace: \"fdf5e6\", olive: \"808000\", olivedrab: \"6b8e23\",\n    orange: \"ffa500\", orangered: \"ff4500\", orchid: \"da70d6\",\n    palegoldenrod: \"eee8aa\", palegreen: \"98fb98\", paleturquoise: \"afeeee\",\n    palevioletred: \"d87093\", papayawhip: \"ffefd5\", peachpuff: \"ffdab9\",\n    peru: \"cd853f\", pink: \"ffc0cb\", plum: \"dda0dd\",\n    powderblue: \"b0e0e6\", purple: \"800080\", red: \"ff0000\",\n    rosybrown: \"bc8f8f\", royalblue: \"4169e1\", saddlebrown: \"8b4513\",\n    salmon: \"fa8072\", sandybrown: \"f4a460\", seagreen: \"2e8b57\",\n    seashell: \"fff5ee\", sienna: \"a0522d\", silver: \"c0c0c0\",\n    skyblue: \"87ceeb\", slateblue: \"6a5acd\", slategray: \"708090\",\n    slategrey: \"708090\", snow: \"fffafa\", springgreen: \"00ff7f\",\n    steelblue: \"4682b4\", tan: \"d2b48c\", teal: \"008080\",\n    thistle: \"d8bfd8\", tomato: \"ff6347\", turquoise: \"40e0d0\",\n    violet: \"ee82ee\", wheat: \"f5deb3\", white: \"ffffff\",\n    whitesmoke: \"f5f5f5\", yellow: \"ffff00\", yellowgreen: \"9acd32\"\n};\n\nexport default namedColors;","import Class from '../class';\nimport support from '../support';\nimport namedColors from './named-colors';\n\nconst browser = support.browser;\n\nlet matchNamedColor = (color) => {\n    const colorNames = Object.keys(namedColors);\n    colorNames.push(\"transparent\");\n\n    const regexp = new RegExp(\"^(\" + colorNames.join(\"|\") + \")(\\\\W|$)\", \"i\");\n    matchNamedColor = (color) => regexp.exec(color);\n\n    return regexp.exec(color);\n};\n\nclass BaseColor extends Class {\n    constructor() { super(); }\n    toHSV() { return this; }\n\n    toRGB() { return this; }\n\n    toHex() { return this.toBytes().toHex(); }\n\n    toBytes() { return this; }\n\n    toCss() { return \"#\" + this.toHex(); }\n\n    toCssRgba() {\n        const rgb = this.toBytes();\n        return `rgba(${ rgb.r }, ${ rgb.g }, ${ rgb.b }, ${ parseFloat((Number(this.a)).toFixed(3)) })`;\n    }\n\n    toDisplay() {\n        if (browser.msie && browser.version < 9) {\n            return this.toCss(); // no RGBA support; does it support any opacity in colors?\n        }\n        return this.toCssRgba();\n    }\n\n    equals(c) {\n        return c === this || c !== null && this.toCssRgba() === parseColor(c).toCssRgba();\n    }\n\n    diff(other) {\n        if (other === null) {\n            return NaN;\n        }\n\n        const c1 = this.toBytes();\n        const c2 = other.toBytes();\n\n        return Math.sqrt(Math.pow((c1.r - c2.r) * 0.30, 2) +\n                         Math.pow((c1.g - c2.g) * 0.59, 2) +\n                         Math.pow((c1.b - c2.b) * 0.11, 2));\n    }\n\n    clone() {\n        let c = this.toBytes();\n        if (c === this) {\n            c = new Bytes(c.r, c.g, c.b, c.a);\n        }\n\n        return c;\n    }\n}\n\nclass RGB extends BaseColor {\n    constructor(r, g, b, a) {\n        super();\n\n        this.r = r;\n        this.g = g;\n        this.b = b;\n        this.a = a;\n    }\n\n    toHSV() {\n        const { r, g, b } = this;\n        const min = Math.min(r, g, b);\n        const max = Math.max(r, g, b);\n        const delta = max - min;\n        const v = max;\n        let h, s;\n\n        if (delta === 0) {\n            return new HSV(0, 0, v, this.a);\n        }\n\n        if (max !== 0) {\n            s = delta / max;\n            if (r === max) {\n                h = (g - b) / delta;\n            } else if (g === max) {\n                h = 2 + (b - r) / delta;\n            } else {\n                h = 4 + (r - g) / delta;\n            }\n\n            h *= 60;\n            if (h < 0) {\n                h += 360;\n            }\n        } else {\n            s = 0;\n            h = -1;\n        }\n\n        return new HSV(h, s, v, this.a);\n    }\n\n    toHSL() {\n        const { r, g, b } = this;\n        const max = Math.max(r, g, b);\n        const min = Math.min(r, g, b);\n        let h, s, l = (max + min) / 2;\n\n        if (max === min) {\n            h = s = 0;\n        } else {\n            const d = max - min;\n            s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n            switch (max) {\n                case r: h = (g - b) / d + (g < b ? 6 : 0); break;\n                case g: h = (b - r) / d + 2; break;\n                case b: h = (r - g) / d + 4; break;\n                default: break;\n            }\n\n            h *= 60;\n            s *= 100;\n            l *= 100;\n        }\n\n        return new HSL(h, s, l, this.a);\n    }\n\n    toBytes() {\n        return new Bytes(this.r * 255, this.g * 255, this.b * 255, this.a);\n    }\n}\n\nclass Bytes extends RGB {\n    constructor(r, g, b, a) {\n        super(Math.round(r), Math.round(g), Math.round(b), a);\n    }\n\n    toRGB() {\n        return new RGB(this.r / 255, this.g / 255, this.b / 255, this.a);\n    }\n\n    toHSV() {\n        return this.toRGB().toHSV();\n    }\n\n    toHSL() {\n        return this.toRGB().toHSL();\n    }\n\n    toHex() {\n        return hex(this.r, 2) + hex(this.g, 2) + hex(this.b, 2);\n    }\n\n    toBytes() {\n        return this;\n    }\n}\n\nfunction hex(n, width, pad = \"0\") {\n    let result = n.toString(16);\n    while (width > result.length) {\n        result = pad + result;\n    }\n\n    return result;\n}\n\nclass HSV extends BaseColor {\n    constructor(h, s, v, a) {\n        super();\n\n        this.h = h;\n        this.s = s;\n        this.v = v;\n        this.a = a;\n    }\n\n    toRGB() {\n        let { h, s, v } = this;\n        let r, g, b;\n\n        if (s === 0) {\n            r = g = b = v;\n        } else {\n            h /= 60;\n\n            const i = Math.floor(h);\n            const f = h - i;\n            const p = v * (1 - s);\n            const q = v * (1 - s * f);\n            const t = v * (1 - s * (1 - f));\n\n            switch (i) {\n                case 0: r = v; g = t; b = p; break;\n                case 1: r = q; g = v; b = p; break;\n                case 2: r = p; g = v; b = t; break;\n                case 3: r = p; g = q; b = v; break;\n                case 4: r = t; g = p; b = v; break;\n                default: r = v; g = p; b = q; break;\n            }\n        }\n\n        return new RGB(r, g, b, this.a);\n    }\n\n    toHSL() {\n        return this.toRGB().toHSL();\n    }\n\n    toBytes() {\n        return this.toRGB().toBytes();\n    }\n}\n\nclass HSL extends BaseColor {\n    constructor(h, s, l, a) {\n        super();\n\n        this.h = h;\n        this.s = s;\n        this.l = l;\n        this.a = a;\n    }\n\n    toRGB() {\n        let { h, s, l } = this;\n        let r, g, b;\n\n        if (s === 0) {\n            r = g = b = l; // achromatic\n        } else {\n            h /= 360;\n            s /= 100;\n            l /= 100;\n\n            const q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n            const p = 2 * l - q;\n            r = hue2rgb(p, q, h + 1 / 3);\n            g = hue2rgb(p, q, h);\n            b = hue2rgb(p, q, h - 1 / 3);\n        }\n\n        return new RGB(r, g, b, this.a);\n    }\n\n    toHSV() {\n        return this.toRGB().toHSV();\n    }\n\n    toBytes() {\n        return this.toRGB().toBytes();\n    }\n}\n\nfunction hue2rgb(p, q, s) {\n    let t = s;\n\n    if (t < 0) {\n        t += 1;\n    }\n\n    if (t > 1) {\n        t -= 1;\n    }\n\n    if (t < 1 / 6) {\n        return p + (q - p) * 6 * t;\n    }\n\n    if (t < 1 / 2) {\n        return q;\n    }\n\n    if (t < 2 / 3) {\n        return p + (q - p) * (2 / 3 - t) * 6;\n    }\n\n    return p;\n}\n\nexport { RGB, Bytes, HSV, HSL };\n\nexport default function parseColor(value, safe) {\n    let m, ret;\n\n    if (value == null || value === \"none\") {\n        return null;\n    }\n\n    if (value instanceof BaseColor) {\n        return value;\n    }\n\n    let color = value.toLowerCase();\n    if ((m = matchNamedColor(color))) {\n        if (m[1] === \"transparent\") {\n            color = new RGB(1, 1, 1, 0);\n        } else {\n            color = parseColor(namedColors[m[1]], safe);\n        }\n        color.match = [ m[1] ];\n        return color;\n    }\n    if ((m = /^#?([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})\\b/i.exec(color))) {\n        ret = new Bytes(parseInt(m[1], 16),\n                        parseInt(m[2], 16),\n                        parseInt(m[3], 16), 1);\n    } else if ((m = /^#?([0-9a-f])([0-9a-f])([0-9a-f])\\b/i.exec(color))) {\n        ret = new Bytes(parseInt(m[1] + m[1], 16),\n                        parseInt(m[2] + m[2], 16),\n                        parseInt(m[3] + m[3], 16), 1);\n    } else if ((m = /^rgb\\(\\s*([0-9]+)\\s*,\\s*([0-9]+)\\s*,\\s*([0-9]+)\\s*\\)/.exec(color))) {\n        ret = new Bytes(parseInt(m[1], 10),\n                        parseInt(m[2], 10),\n                        parseInt(m[3], 10), 1);\n    } else if ((m = /^rgba\\(\\s*([0-9]+)\\s*,\\s*([0-9]+)\\s*,\\s*([0-9]+)\\s*,\\s*([0-9.]+)\\s*\\)/.exec(color))) {\n        ret = new Bytes(parseInt(m[1], 10),\n                        parseInt(m[2], 10),\n                        parseInt(m[3], 10), parseFloat(m[4]));\n    } else if ((m = /^rgb\\(\\s*([0-9]*\\.?[0-9]+)%\\s*,\\s*([0-9]*\\.?[0-9]+)%\\s*,\\s*([0-9]*\\.?[0-9]+)%\\s*\\)/.exec(color))) {\n        ret = new RGB(parseFloat(m[1]) / 100,\n                      parseFloat(m[2]) / 100,\n                      parseFloat(m[3]) / 100, 1);\n    } else if ((m = /^rgba\\(\\s*([0-9]*\\.?[0-9]+)%\\s*,\\s*([0-9]*\\.?[0-9]+)%\\s*,\\s*([0-9]*\\.?[0-9]+)%\\s*,\\s*([0-9.]+)\\s*\\)/.exec(color))) {\n        ret = new RGB(parseFloat(m[1]) / 100,\n                      parseFloat(m[2]) / 100,\n                      parseFloat(m[3]) / 100, parseFloat(m[4]));\n    }\n\n    if (ret) {\n        ret.match = m;\n    } else if (!safe) {\n        throw new Error(\"Cannot parse color: \" + color);\n    }\n\n    return ret;\n}\n","import Class from '../class';\nimport namedColors from './named-colors';\nimport { Bytes, RGB, HSV, HSL } from './parse-color';\n\nclass Color extends Class {\n    constructor(value) {\n        super();\n\n        if (arguments.length === 1) {\n            const formats = Color.formats;\n            const resolvedColor = this.resolveColor(value);\n\n            for (let idx = 0; idx < formats.length; idx++) {\n                const formatRegex = formats[idx].re;\n                const processor = formats[idx].process;\n                const parts = formatRegex.exec(resolvedColor);\n\n                if (parts) {\n                    const channels = processor(parts);\n                    this.r = channels[0];\n                    this.g = channels[1];\n                    this.b = channels[2];\n                }\n            }\n        } else {\n            this.r = arguments[0];\n            this.g = arguments[1];\n            this.b = arguments[2];\n        }\n\n        this.r = this.normalizeByte(this.r);\n        this.g = this.normalizeByte(this.g);\n        this.b = this.normalizeByte(this.b);\n    }\n\n    toHex() {\n        const pad = this.padDigit;\n        const r = this.r.toString(16);\n        const g = this.g.toString(16);\n        const b = this.b.toString(16);\n\n        return \"#\" + pad(r) + pad(g) + pad(b);\n    }\n\n    resolveColor(value) {\n        let color = value || \"black\";\n\n        if (color.charAt(0) === \"#\") {\n            color = color.substr(1, 6);\n        }\n\n        color = color.replace(/ /g, \"\");\n        color = color.toLowerCase();\n        color = Color.namedColors[color] || color;\n\n        return color;\n    }\n\n    normalizeByte(value) {\n        if (value < 0 || isNaN(value)) {\n            return 0;\n        }\n\n        return value > 255 ? 255 : value;\n    }\n\n    padDigit(value) {\n        return (value.length === 1) ? \"0\" + value : value;\n    }\n\n    brightness(value) {\n        const round = Math.round;\n\n        this.r = round(this.normalizeByte(this.r * value));\n        this.g = round(this.normalizeByte(this.g * value));\n        this.b = round(this.normalizeByte(this.b * value));\n\n        return this;\n    }\n\n    percBrightness() {\n        return Math.sqrt(0.241 * this.r * this.r + 0.691 * this.g * this.g + 0.068 * this.b * this.b);\n    }\n\n    static fromBytes(r, g, b, a) {\n        return new Bytes(r, g, b, a != null ? a : 1);\n    }\n\n    static fromRGB(r, g, b, a) {\n        return new RGB(r, g, b, a != null ? a : 1);\n    }\n\n    static fromHSV(h, s, v, a) {\n        return new HSV(h, s, v, a != null ? a : 1);\n    }\n\n    static fromHSL(h, s, l, a) {\n        return new HSL(h, s, l, a != null ? a : 1);\n    }\n}\n\nColor.formats = [ {\n    re: /^rgb\\((\\d{1,3}),\\s*(\\d{1,3}),\\s*(\\d{1,3})\\)$/,\n    process: function(parts) {\n        return [\n            parseInt(parts[1], 10), parseInt(parts[2], 10), parseInt(parts[3], 10)\n        ];\n    }\n}, {\n    re: /^(\\w{2})(\\w{2})(\\w{2})$/,\n    process: function(parts) {\n        return [\n            parseInt(parts[1], 16), parseInt(parts[2], 16), parseInt(parts[3], 16)\n        ];\n    }\n}, {\n    re: /^(\\w{1})(\\w{1})(\\w{1})$/,\n    process: function(parts) {\n        return [\n            parseInt(parts[1] + parts[1], 16),\n            parseInt(parts[2] + parts[2], 16),\n            parseInt(parts[3] + parts[3], 16)\n        ];\n    }\n} ];\n\nColor.namedColors = namedColors;\n\nexport default Color;","export default function append(first, second) {\n    first.push.apply(first, second);\n    return first;\n}","/* eslint-disable key-spacing,no-multi-spaces,no-param-reassign */\n\nconst literals = {\n    1    : \"i\",       10   : \"x\",       100  : \"c\",\n    2    : \"ii\",      20   : \"xx\",      200  : \"cc\",\n    3    : \"iii\",     30   : \"xxx\",     300  : \"ccc\",\n    4    : \"iv\",      40   : \"xl\",      400  : \"cd\",\n    5    : \"v\",       50   : \"l\",       500  : \"d\",\n    6    : \"vi\",      60   : \"lx\",      600  : \"dc\",\n    7    : \"vii\",     70   : \"lxx\",     700  : \"dcc\",\n    8    : \"viii\",    80   : \"lxxx\",    800  : \"dccc\",\n    9    : \"ix\",      90   : \"xc\",      900  : \"cm\",\n    1000 : \"m\"\n};\n\nexport default function arabicToRoman(n) {\n    const values = [ 1000,\n                   900 , 800, 700, 600, 500, 400, 300, 200, 100,\n                   90  , 80 , 70 , 60 , 50 , 40 , 30 , 20 , 10 ,\n                   9   , 8  , 7  , 6  , 5  , 4  , 3  , 2  , 1 ];\n\n    let roman = \"\";\n    while (n > 0) {\n        if (n < values[0]) {\n            values.shift();\n        } else {\n            roman += literals[values[0]];\n            n -= values[0];\n        }\n    }\n    return roman;\n}","export default function createPromise() {\n    let resolveFn, rejectFn;\n    const promise = new Promise((resolve, reject) => {\n        resolveFn = (data) => {\n            promise._state = \"resolved\";\n            resolve(data);\n            return promise;\n        };\n        rejectFn = (data) => {\n            promise._state = \"rejected\";\n            reject(data);\n\n            return promise;\n        };\n    });\n    promise._state = \"pending\";\n    promise.resolve = resolveFn;\n    promise.reject = rejectFn;\n    promise.state = () => promise._state;\n\n    return promise;\n}\n","const UNDEFINED = \"undefined\";\n\nexport default function defined(value) {\n    return typeof value !== UNDEFINED;\n}","let defId = 1;\n\nexport default function definitionId() {\n    return \"kdef\" + defId++;\n}","const DEG_TO_RAD = Math.PI / 180;\nconst MAX_NUM = Number.MAX_VALUE;\nconst MIN_NUM = -Number.MAX_VALUE;\n\nexport { DEG_TO_RAD, MAX_NUM, MIN_NUM };","import { DEG_TO_RAD } from './constants';\n\nexport default function deg(radians) {\n    return radians / DEG_TO_RAD;\n}","const KEY_STR = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";\nconst fromCharCode = String.fromCharCode;\n\nfunction encodeUTF8(input) {\n    let output = \"\";\n\n    for (let i = 0; i < input.length; i++) {\n        const c = input.charCodeAt(i);\n\n        if (c < 0x80) {\n            // One byte\n            output += fromCharCode(c);\n        } else if (c < 0x800) {\n            // Two bytes\n            output += fromCharCode(0xC0 | (c >>> 6));\n            output += fromCharCode(0x80 | (c & 0x3f));\n        } else if (c < 0x10000) {\n            // Three bytes\n            output += fromCharCode(0xE0 | (c >>> 12));\n            output += fromCharCode(0x80 | (c >>> 6 & 0x3f));\n            output += fromCharCode(0x80 | (c & 0x3f));\n        }\n    }\n\n    return output;\n}\n\nexport default function encodeBase64(input) {\n    let output = \"\";\n    let i = 0;\n\n    const utfInput = encodeUTF8(input);\n\n    while (i < utfInput.length) {\n        let chr1 = utfInput.charCodeAt(i++);\n        let chr2 = utfInput.charCodeAt(i++);\n        let chr3 = utfInput.charCodeAt(i++);\n\n        let enc1 = chr1 >> 2;\n        let enc2 = ((chr1 & 3) << 4) | (chr2 >> 4);\n        let enc3 = ((chr2 & 15) << 2) | (chr3 >> 6);\n        let enc4 = chr3 & 63;\n\n        if (isNaN(chr2)) {\n            enc3 = enc4 = 64;\n        } else if (isNaN(chr3)) {\n            enc4 = 64;\n        }\n\n        output = output +\n            KEY_STR.charAt(enc1) + KEY_STR.charAt(enc2) +\n            KEY_STR.charAt(enc3) + KEY_STR.charAt(enc4);\n    }\n\n    return output;\n}","import defined from './defined';\n\nexport default function eventCoordinates(e) {\n    if (defined((e.x || {}).location)) {\n        return {\n            x: e.x.location,\n            y: e.y.location\n        };\n    }\n\n    return {\n        x: e.pageX || e.clientX || 0,\n        y: e.pageY || e.clientY || 0\n    };\n}","export default function eventElement(e = {}) {\n    return e.touch ? e.touch.initialTouch : e.target;\n}","import defined from './defined';\n\nexport default function isTransparent(color) {\n    return color === \"\" || color === null || color === \"none\" || color === \"transparent\" || !defined(color);\n}","export default function last(array) {\n    if (array) {\n        return array[array.length - 1];\n    }\n}","export default function limitValue(value, min, max) {\n    return Math.max(Math.min(value, max), min);\n}","/* eslint-disable no-multi-spaces, key-spacing, indent, camelcase, space-before-blocks, eqeqeq, brace-style */\n/* eslint-disable space-infix-ops, space-before-function-paren, array-bracket-spacing, object-curly-spacing */\n/* eslint-disable no-nested-ternary, max-params, default-case, no-else-return, no-empty */\n/* eslint-disable no-param-reassign, no-var, block-scoped-var */\n\n// mergeSort is stable.\nexport default function mergeSort(a, cmp) {\n    if (a.length < 2) {\n        return a.slice();\n    }\n    function merge(a, b) {\n        var r = [], ai = 0, bi = 0, i = 0;\n        while (ai < a.length && bi < b.length) {\n            if (cmp(a[ai], b[bi]) <= 0) {\n                r[i++] = a[ai++];\n            } else {\n                r[i++] = b[bi++];\n            }\n        }\n        if (ai < a.length) {\n            r.push.apply(r, a.slice(ai));\n        }\n        if (bi < b.length) {\n            r.push.apply(r, b.slice(bi));\n        }\n        return r;\n    }\n    return (function sort(a) {\n        if (a.length <= 1) {\n            return a;\n        }\n        var m = Math.floor(a.length / 2);\n        var left = a.slice(0, m);\n        var right = a.slice(m);\n        left = sort(left);\n        right = sort(right);\n        return merge(left, right);\n    })(a);\n}","export default function promiseAll(promises) {\n    return Promise.all(promises);\n}","import { DEG_TO_RAD } from './constants';\n\nexport default function rad(degrees) {\n    return degrees * DEG_TO_RAD;\n}\n","function pow(p) {\n    if (p) {\n        return Math.pow(10, p);\n    }\n\n    return 1;\n}\n\nexport default function round(value, precision) {\n    const power = pow(precision);\n    return Math.round(value * power) / power;\n}","import defined from './defined';\n\nexport default function valueOrDefault(value, defaultValue) {\n    return defined(value) ? value : defaultValue;\n}","export default function bindEvents(element, events) {\n    for (let eventName in events) {\n        const eventNames = eventName.trim().split(\" \");\n        for (let idx = 0; idx < eventNames.length; idx++) {\n            element.addEventListener(eventNames[idx], events[eventName], false);\n        }\n    }\n}","export default function elementOffset(element) {\n    const box = element.getBoundingClientRect();\n\n    const documentElement = document.documentElement;\n\n    return {\n        top: box.top + (window.pageYOffset || documentElement.scrollTop) - (documentElement.clientTop || 0),\n        left: box.left + (window.pageXOffset || documentElement.scrollLeft) - (documentElement.clientLeft || 0)\n    };\n}","export default function elementStyles(element, styles) {\n    const result = {};\n    const style = window.getComputedStyle(element);\n    const stylesArray = Array.isArray(styles) ? styles : [ styles ];\n\n    for (let idx = 0; idx < stylesArray.length; idx++) {\n        let field = stylesArray[idx];\n        result[field] = style[field];\n    }\n\n    return result;\n}","import elementStyles from './element-styles';\nimport defined from './defined';\n\nfunction getPixels(value) {\n    if (isNaN(value)) {\n        return value;\n    }\n    return value + \"px\";\n}\n\nexport default function elementSize(element, size) {\n    if (size) {\n        const { width, height } = size;\n\n        if (defined(width)) {\n            element.style.width = getPixels(width);\n        }\n\n        if (defined(height)) {\n            element.style.height = getPixels(height);\n        }\n\n    } else {\n        const size = elementStyles(element, [ 'width', 'height' ]);\n\n        return {\n            width: parseInt(size.width, 10),\n            height: parseInt(size.height, 10)\n        };\n    }\n}","export default function unbindEvents(element, events = {}) {\n    for (let name in events) {\n        const eventNames = name.trim().split(\" \");\n        for (let idx = 0; idx < eventNames.length; idx++) {\n            element.removeEventListener(eventNames[idx], events[name], false);\n        }\n    }\n}","import { Class } from '../common';\n\nclass LRUCache extends Class {\n    constructor(size) {\n        super();\n\n        this._size = size;\n        this._length = 0;\n        this._map = {};\n    }\n\n    put(key, value) {\n        const map = this._map;\n        const entry = { key: key, value: value };\n\n        map[key] = entry;\n\n        if (!this._head) {\n            this._head = this._tail = entry;\n        } else {\n            this._tail.newer = entry;\n            entry.older = this._tail;\n            this._tail = entry;\n        }\n\n        if (this._length >= this._size) {\n            map[this._head.key] = null;\n            this._head = this._head.newer;\n            this._head.older = null;\n        } else {\n            this._length++;\n        }\n    }\n\n    get(key) {\n        const entry = this._map[key];\n\n        if (entry) {\n            if (entry === this._head && entry !== this._tail) {\n                this._head = entry.newer;\n                this._head.older = null;\n            }\n\n            if (entry !== this._tail) {\n                if (entry.older) {\n                    entry.older.newer = entry.newer;\n                    entry.newer.older = entry.older;\n                }\n\n                entry.older = this._tail;\n                entry.newer = null;\n\n                this._tail.newer = entry;\n                this._tail = entry;\n            }\n\n            return entry.value;\n        }\n    }\n}\n\nexport default LRUCache;","const REPLACE_REGEX = /\\r?\\n|\\r|\\t/g;\nconst SPACE = ' ';\n\nfunction normalizeText(text) {\n    return String(text).replace(REPLACE_REGEX, SPACE);\n}\n\nfunction objectKey(object) {\n    const parts = [];\n    for (let key in object) {\n        parts.push(key + object[key]);\n    }\n\n    return parts.sort().join(\"\");\n}\n\n// Computes FNV-1 hash\n// See http://en.wikipedia.org/wiki/Fowler%E2%80%93Noll%E2%80%93Vo_hash_function\nfunction hashKey(str) {\n    // 32-bit FNV-1 offset basis\n    // See http://isthe.com/chongo/tech/comp/fnv/#FNV-param\n    let hash = 0x811C9DC5;\n\n    for (let i = 0; i < str.length; ++i) {\n        hash += (hash << 1) + (hash << 4) + (hash << 7) + (hash << 8) + (hash << 24);\n        hash ^= str.charCodeAt(i);\n    }\n\n    return hash >>> 0;\n}\n\nexport { objectKey, hashKey, normalizeText };","import LRUCache from './lru-cache';\nimport { Class } from '../common';\nimport { objectKey, hashKey, normalizeText } from './util';\n\nfunction zeroSize() {\n    return { width: 0, height: 0, baseline: 0 };\n}\n\nconst DEFAULT_OPTIONS = {\n    baselineMarkerSize: 1\n};\n\nlet defaultMeasureBox;\n\nif (typeof document !== \"undefined\") {\n    defaultMeasureBox = document.createElement(\"div\");\n    defaultMeasureBox.style.cssText = \"position: absolute !important; top: -4000px !important; width: auto !important; height: auto !important;\" +\n              \"padding: 0 !important; margin: 0 !important; border: 0 !important;\" +\n              \"line-height: normal !important; visibility: hidden !important; white-space: pre!important;\";\n}\n\nclass TextMetrics extends Class {\n    constructor(options) {\n        super();\n\n        this._cache = new LRUCache(1000);\n        this.options = Object.assign({}, DEFAULT_OPTIONS, options);\n    }\n\n    measure(text, style, options = {}) {\n        if (!text) {\n            return zeroSize();\n        }\n\n        const styleKey = objectKey(style);\n        const cacheKey = hashKey(text + styleKey);\n        const cachedResult = this._cache.get(cacheKey);\n\n        if (cachedResult) {\n            return cachedResult;\n        }\n\n        const size = zeroSize();\n        const measureBox = options.box || defaultMeasureBox;\n        const baselineMarker = this._baselineMarker().cloneNode(false);\n\n        for (let key in style) {\n            let value = style[key];\n            if (typeof value !== \"undefined\") {\n                measureBox.style[key] = value;\n            }\n        }\n\n        const textStr = options.normalizeText !== false ? normalizeText(text) : String(text);\n\n        measureBox.textContent = textStr;\n        measureBox.appendChild(baselineMarker);\n        document.body.appendChild(measureBox);\n\n        if (textStr.length) {\n            size.width = measureBox.offsetWidth - this.options.baselineMarkerSize;\n            size.height = measureBox.offsetHeight;\n            size.baseline = baselineMarker.offsetTop + this.options.baselineMarkerSize;\n        }\n\n        if (size.width > 0 && size.height > 0) {\n            this._cache.put(cacheKey, size);\n        }\n\n        measureBox.parentNode.removeChild(measureBox);\n\n        return size;\n    }\n\n    _baselineMarker() {\n        const marker = document.createElement(\"div\");\n        marker.style.cssText = \"display: inline-block; vertical-align: baseline;width: \" +\n            this.options.baselineMarkerSize + \"px; height: \" + this.options.baselineMarkerSize + \"px;overflow: hidden;\";\n\n        return marker;\n    }\n}\n\nTextMetrics.current = new TextMetrics();\n\nexport default TextMetrics;","import TextMetrics from './text-metrics';\n\nexport default function measureText(text, style, measureBox) {\n    return TextMetrics.current.measure(text, style, measureBox);\n}\n","import ObserversMixin from '../mixins/observers-mixin';\nimport { Class } from '../common';\nimport { defined } from '../util';\n\nconst toString = {}.toString;\n\nclass OptionsStore extends Class {\n\n    constructor(options, prefix = \"\") {\n        super();\n\n        this.prefix = prefix;\n\n        for (let field in options) {\n            let member = options[field];\n            member = this._wrap(member, field);\n            this[field] = member;\n        }\n    }\n\n    get(field) {\n        const parts = field.split(\".\");\n        let result = this;\n\n        while (parts.length && result) {\n            let part = parts.shift();\n            result = result[part];\n        }\n\n        return result;\n    }\n\n    set(field, value) {\n        const current = this.get(field);\n\n        if (current !== value) {\n            this._set(field, this._wrap(value, field));\n            this.optionsChange({\n                field: this.prefix + field,\n                value: value\n            });\n        }\n    }\n\n    _set(field, value) {\n        const composite = field.indexOf(\".\") >= 0;\n        let parentObj = this;\n        let fieldName = field;\n\n        if (composite) {\n            const parts = fieldName.split(\".\");\n            let prefix = this.prefix;\n\n            while (parts.length > 1) {\n                fieldName = parts.shift();\n                prefix += fieldName + \".\";\n\n                let obj = parentObj[fieldName];\n\n                if (!obj) {\n                    obj = new OptionsStore({}, prefix);\n                    obj.addObserver(this);\n                    parentObj[fieldName] = obj;\n                }\n                parentObj = obj;\n            }\n            fieldName = parts[0];\n        }\n\n        parentObj._clear(fieldName);\n        parentObj[fieldName] = value;\n    }\n\n    _clear(field) {\n        const current = this[field];\n        if (current && current.removeObserver) {\n            current.removeObserver(this);\n        }\n    }\n\n    _wrap(object, field) {\n        const type = toString.call(object);\n        let wrapped = object;\n\n        if (wrapped !== null && defined(wrapped) && type === \"[object Object]\") {\n            if (!(object instanceof OptionsStore) && !(object instanceof Class)) {\n                wrapped = new OptionsStore(wrapped, this.prefix + field + \".\");\n            }\n\n            wrapped.addObserver(this);\n        }\n\n        return wrapped;\n    }\n}\n\nObserversMixin.extend(OptionsStore.prototype);\n\nexport default OptionsStore;","function setAccessor(field) {\n    return function(value) {\n        if (this[field] !== value) {\n            this[field] = value;\n            this.geometryChange();\n        }\n\n        return this;\n    };\n}\n\nfunction getAccessor(field) {\n    return function() {\n        return this[field];\n    };\n}\n\nexport default function defineAccessors(fn, fields) {\n    for (let i = 0; i < fields.length; i++) {\n        let name = fields[i];\n        let capitalized = name.charAt(0).toUpperCase() +\n                          name.substring(1, name.length);\n\n        fn[\"set\" + capitalized] = setAccessor(name);\n        fn[\"get\" + capitalized] = getAccessor(name);\n    }\n}","import { Class } from '../common';\nimport { defined, rad, round } from '../util';\n\nclass Matrix extends Class {\n\n    constructor(a = 0, b = 0, c = 0, d = 0, e = 0, f = 0) {\n        super();\n\n        this.a = a;\n        this.b = b;\n        this.c = c;\n        this.d = d;\n        this.e = e;\n        this.f = f;\n    }\n\n    multiplyCopy(matrix) {\n        return new Matrix(\n            this.a * matrix.a + this.c * matrix.b,\n            this.b * matrix.a + this.d * matrix.b,\n            this.a * matrix.c + this.c * matrix.d,\n            this.b * matrix.c + this.d * matrix.d,\n            this.a * matrix.e + this.c * matrix.f + this.e,\n            this.b * matrix.e + this.d * matrix.f + this.f\n        );\n    }\n\n    invert() {\n        const { a, b, c: d, d: e, e: g, f: h } = this;\n        const det = a * e - b * d;\n\n        if (det === 0) {\n            return null;\n        }\n\n        return new Matrix(e / det, -b / det, -d / det, a / det,\n                          (d * h - e * g) / det, (b * g - a * h) / det);\n    }\n\n    clone() {\n        return new Matrix(this.a, this.b, this.c, this.d, this.e, this.f);\n    }\n\n    equals(other) {\n        if (!other) {\n            return false;\n        }\n\n        return this.a === other.a && this.b === other.b &&\n               this.c === other.c && this.d === other.d &&\n               this.e === other.e && this.f === other.f;\n    }\n\n    round(precision) {\n        this.a = round(this.a, precision);\n        this.b = round(this.b, precision);\n        this.c = round(this.c, precision);\n        this.d = round(this.d, precision);\n        this.e = round(this.e, precision);\n        this.f = round(this.f, precision);\n\n        return this;\n    }\n\n    toArray(precision) {\n        const result = [ this.a, this.b, this.c, this.d, this.e, this.f ];\n\n        if (defined(precision)) {\n            for (let i = 0; i < result.length; i++) {\n                result[i] = round(result[i], precision);\n            }\n        }\n\n        return result;\n    }\n\n    toString(precision, separator = \",\") {\n        return this.toArray(precision).join(separator);\n    }\n\n    static translate(x, y) {\n        return new Matrix(1, 0, 0, 1, x, y);\n    }\n\n    static unit() {\n        return new Matrix(1, 0, 0, 1, 0, 0);\n    }\n\n    static rotate(angle, x, y) {\n        const matrix = new Matrix();\n        matrix.a = Math.cos(rad(angle));\n        matrix.b = Math.sin(rad(angle));\n        matrix.c = -matrix.b;\n        matrix.d = matrix.a;\n        matrix.e = (x - x * matrix.a + y * matrix.b) || 0;\n        matrix.f = (y - y * matrix.a - x * matrix.b) || 0;\n\n        return matrix;\n    }\n\n    static scale(scaleX, scaleY) {\n        return new Matrix(scaleX, 0, 0, scaleY, 0, 0);\n    }\n}\n\nMatrix.IDENTITY = Matrix.unit();\n\nexport default Matrix;","export default function toMatrix(transformation) {\n    if (transformation && typeof transformation.matrix === \"function\") {\n        return transformation.matrix();\n    }\n\n    return transformation;\n}","import defineAccessors from '../accessors/define-accessors';\nimport ObserversMixin from '../mixins/observers-mixin';\nimport { Class } from '../common';\nimport { defined, MIN_NUM, MAX_NUM, round } from '../util';\nimport Matrix from './matrix';\nimport toMatrix from './to-matrix';\n\nclass Point extends Class {\n\n    constructor(x, y) {\n        super();\n\n        this.x = x || 0;\n        this.y = y || 0;\n    }\n\n    equals(other) {\n        return other && other.x === this.x && other.y === this.y;\n    }\n\n    clone() {\n        return new Point(this.x, this.y);\n    }\n\n    rotate(angle, origin) {\n        const originPoint = Point.create(origin) || Point.ZERO;\n\n        return this.transform(Matrix.rotate(angle, originPoint.x, originPoint.y));\n    }\n\n    translate(x, y) {\n        this.x += x;\n        this.y += y;\n\n        this.geometryChange();\n\n        return this;\n    }\n\n    translateWith(point) {\n        return this.translate(point.x, point.y);\n    }\n\n    move(x, y) {\n        this.x = this.y = 0;\n        return this.translate(x, y);\n    }\n\n    scale(scaleX, scaleY = scaleX) {\n        this.x *= scaleX;\n        this.y *= scaleY;\n\n        this.geometryChange();\n\n        return this;\n    }\n\n    scaleCopy(scaleX, scaleY) {\n        return this.clone().scale(scaleX, scaleY);\n    }\n\n    transform(transformation) {\n        const matrix = toMatrix(transformation);\n        const { x, y } = this;\n\n        this.x = matrix.a * x + matrix.c * y + matrix.e;\n        this.y = matrix.b * x + matrix.d * y + matrix.f;\n\n        this.geometryChange();\n\n        return this;\n    }\n\n    transformCopy(transformation) {\n        const point = this.clone();\n\n        if (transformation) {\n            point.transform(transformation);\n        }\n\n        return point;\n    }\n\n    distanceTo(point) {\n        const dx = this.x - point.x;\n        const dy = this.y - point.y;\n\n        return Math.sqrt(dx * dx + dy * dy);\n    }\n\n    round(digits) {\n        this.x = round(this.x, digits);\n        this.y = round(this.y, digits);\n\n        this.geometryChange();\n\n        return this;\n    }\n\n    toArray(digits) {\n        const doRound = defined(digits);\n        const x = doRound ? round(this.x, digits) : this.x;\n        const y = doRound ? round(this.y, digits) : this.y;\n\n        return [ x, y ];\n    }\n\n    toString(digits, separator = \" \") {\n        let { x, y } = this;\n\n        if (defined(digits)) {\n            x = round(x, digits);\n            y = round(y, digits);\n        }\n\n        return x + separator + y;\n    }\n\n    static create(arg0, arg1) {\n        if (defined(arg0)) {\n            if (arg0 instanceof Point) {\n                return arg0;\n            } else if (arguments.length === 1 && arg0.length === 2) {\n                return new Point(arg0[0], arg0[1]);\n            }\n\n            return new Point(arg0, arg1);\n        }\n    }\n\n    static min() {\n        let minX = MAX_NUM;\n        let minY = MAX_NUM;\n\n        for (let i = 0; i < arguments.length; i++) {\n            let point = arguments[i];\n            minX = Math.min(point.x, minX);\n            minY = Math.min(point.y, minY);\n        }\n\n        return new Point(minX, minY);\n    }\n\n    static max() {\n        let maxX = MIN_NUM;\n        let maxY = MIN_NUM;\n\n        for (let i = 0; i < arguments.length; i++) {\n            const point = arguments[i];\n            maxX = Math.max(point.x, maxX);\n            maxY = Math.max(point.y, maxY);\n        }\n\n        return new Point(maxX, maxY);\n    }\n\n    static minPoint() {\n        return new Point(MIN_NUM, MIN_NUM);\n    }\n\n    static maxPoint() {\n        return new Point(MAX_NUM, MAX_NUM);\n    }\n\n    static get ZERO() {\n        return new Point(0, 0);\n    }\n}\n\ndefineAccessors(Point.prototype, [ \"x\", \"y\" ]);\nObserversMixin.extend(Point.prototype);\n\nexport default Point;\n","import defineAccessors from '../accessors/define-accessors';\nimport ObserversMixin from '../mixins/observers-mixin';\nimport { Class } from '../common';\nimport { defined, round } from '../util';\n\nclass Size extends Class {\n    constructor(width, height) {\n        super();\n\n        this.width = width || 0;\n        this.height = height || 0;\n    }\n\n    equals(other) {\n        return other && other.width === this.width && other.height === this.height;\n    }\n\n    clone() {\n        return new Size(this.width, this.height);\n    }\n\n    toArray(digits) {\n        const doRound = defined(digits);\n        const width = doRound ? round(this.width, digits) : this.width;\n        const height = doRound ? round(this.height, digits) : this.height;\n\n        return [ width, height ];\n    }\n\n    static create(arg0, arg1) {\n        if (defined(arg0)) {\n            if (arg0 instanceof Size) {\n                return arg0;\n            } else if (arguments.length === 1 && arg0.length === 2) {\n                return new Size(arg0[0], arg0[1]);\n            }\n\n            return new Size(arg0, arg1);\n        }\n    }\n\n    static get ZERO() {\n        return new Size(0, 0);\n    }\n}\n\ndefineAccessors(Size.prototype, [ \"width\", \"height\" ]);\nObserversMixin.extend(Size.prototype);\n\nexport default Size;","import ObserversMixin from '../mixins/observers-mixin';\nimport { Class } from '../common';\nimport Point from './point';\nimport Size from './size';\n\nclass Rect extends Class {\n    constructor(origin = new Point(), size = new Size()) {\n        super();\n\n        this.setOrigin(origin);\n        this.setSize(size);\n    }\n\n    clone() {\n        return new Rect(\n            this.origin.clone(),\n            this.size.clone()\n        );\n    }\n\n    equals(other) {\n        return other &&\n               other.origin.equals(this.origin) &&\n               other.size.equals(this.size);\n    }\n\n    setOrigin(value) {\n        this._observerField(\"origin\", Point.create(value));\n        this.geometryChange();\n        return this;\n    }\n\n    getOrigin() {\n        return this.origin;\n    }\n\n    setSize(value) {\n        this._observerField(\"size\", Size.create(value));\n        this.geometryChange();\n        return this;\n    }\n\n    getSize() {\n        return this.size;\n    }\n\n    width() {\n        return this.size.width;\n    }\n\n    height() {\n        return this.size.height;\n    }\n\n    topLeft() {\n        return this.origin.clone();\n    }\n\n    bottomRight() {\n        return this.origin.clone().translate(this.width(), this.height());\n    }\n\n    topRight() {\n        return this.origin.clone().translate(this.width(), 0);\n    }\n\n    bottomLeft() {\n        return this.origin.clone().translate(0, this.height());\n    }\n\n    center() {\n        return this.origin.clone().translate(this.width() / 2, this.height() / 2);\n    }\n\n    bbox(matrix) {\n        const tl = this.topLeft().transformCopy(matrix);\n        const tr = this.topRight().transformCopy(matrix);\n        const br = this.bottomRight().transformCopy(matrix);\n        const bl = this.bottomLeft().transformCopy(matrix);\n\n        return Rect.fromPoints(tl, tr, br, bl);\n    }\n\n    transformCopy(m) {\n        return Rect.fromPoints(\n            this.topLeft().transform(m),\n            this.bottomRight().transform(m)\n        );\n    }\n\n    expand(x, y = x) {\n\n        this.size.width += 2 * x;\n        this.size.height += 2 * y;\n\n        this.origin.translate(-x, -y);\n\n        return this;\n    }\n\n    expandCopy(x, y) {\n        return this.clone().expand(x, y);\n    }\n\n    containsPoint(point) {\n        const origin = this.origin;\n        const bottomRight = this.bottomRight();\n        return !(point.x < origin.x || point.y < origin.y || bottomRight.x < point.x || bottomRight.y < point.y);\n    }\n\n    _isOnPath(point, width) {\n        const rectOuter = this.expandCopy(width, width);\n        const rectInner = this.expandCopy(-width, -width);\n\n        return rectOuter.containsPoint(point) && !rectInner.containsPoint(point);\n    }\n\n    static fromPoints() {\n        const topLeft = Point.min.apply(null, arguments);\n        const bottomRight = Point.max.apply(null, arguments);\n        const size = new Size(\n            bottomRight.x - topLeft.x,\n            bottomRight.y - topLeft.y\n        );\n\n        return new Rect(topLeft, size);\n    }\n\n    static union(a, b) {\n        return Rect.fromPoints(\n            Point.min(a.topLeft(), b.topLeft()),\n            Point.max(a.bottomRight(), b.bottomRight())\n        );\n    }\n\n    static intersect(a, b) {\n        const rect1 = {\n            left: a.topLeft().x,\n            top: a.topLeft().y,\n            right: a.bottomRight().x,\n            bottom: a.bottomRight().y\n        };\n\n        const rect2 = {\n            left: b.topLeft().x,\n            top: b.topLeft().y,\n            right: b.bottomRight().x,\n            bottom: b.bottomRight().y\n        };\n\n        if (rect1.left <= rect2.right &&\n            rect2.left <= rect1.right &&\n            rect1.top <= rect2.bottom &&\n            rect2.top <= rect1.bottom) {\n            return Rect.fromPoints(\n                new Point(Math.max(rect1.left, rect2.left), Math.max(rect1.top, rect2.top)),\n                new Point(Math.min(rect1.right, rect2.right), Math.min(rect1.bottom, rect2.bottom))\n            );\n        }\n    }\n}\n\nObserversMixin.extend(Rect.prototype);\n\nexport default Rect;","import ObserversMixin from '../mixins/observers-mixin';\nimport { Class } from '../common';\nimport toMatrix from './to-matrix';\nimport Matrix from './matrix';\nimport Point from './point';\n\nclass Transformation extends Class {\n\n    constructor(matrix = Matrix.unit()) {\n        super();\n\n        this._matrix = matrix;\n    }\n\n    clone() {\n        return new Transformation(\n            this._matrix.clone()\n        );\n    }\n\n    equals(other) {\n        return other &&\n               other._matrix.equals(this._matrix);\n    }\n\n    translate(x, y) {\n        this._matrix = this._matrix.multiplyCopy(Matrix.translate(x, y));\n\n        this._optionsChange();\n        return this;\n    }\n\n    scale(scaleX, scaleY = scaleX, origin = null) {\n        let originPoint = origin;\n\n        if (originPoint) {\n            originPoint = Point.create(originPoint);\n            this._matrix = this._matrix.multiplyCopy(Matrix.translate(originPoint.x, originPoint.y));\n        }\n\n        this._matrix = this._matrix.multiplyCopy(Matrix.scale(scaleX, scaleY));\n\n        if (originPoint) {\n            this._matrix = this._matrix.multiplyCopy(Matrix.translate(-originPoint.x, -originPoint.y));\n        }\n\n        this._optionsChange();\n        return this;\n    }\n\n    rotate(angle, origin) {\n        const originPoint = Point.create(origin) || Point.ZERO;\n\n        this._matrix = this._matrix.multiplyCopy(Matrix.rotate(angle, originPoint.x, originPoint.y));\n\n        this._optionsChange();\n        return this;\n    }\n\n    multiply(transformation) {\n        const matrix = toMatrix(transformation);\n\n        this._matrix = this._matrix.multiplyCopy(matrix);\n\n        this._optionsChange();\n        return this;\n    }\n\n    matrix(value) {\n        if (value) {\n            this._matrix = value;\n            this._optionsChange();\n            return this;\n        }\n\n        return this._matrix;\n    }\n\n    _optionsChange() {\n        this.optionsChange({\n            field: \"transform\",\n            value: this\n        });\n    }\n}\n\nObserversMixin.extend(Transformation.prototype);\n\nexport default Transformation;\n","import Transformation from './transformation';\n\nexport default function transform(matrix) {\n    if (matrix === null) {\n        return null;\n    }\n\n    if (matrix instanceof Transformation) {\n        return matrix;\n    }\n\n    return new Transformation(matrix);\n}","import OptionsStore from '../core/options-store';\nimport ObserversMixin from '../mixins/observers-mixin';\nimport Rect from '../geometry/rect';\nimport Matrix from '../geometry/matrix';\nimport createTransform from '../geometry/transform';\nimport toMatrix from '../geometry/to-matrix';\nimport { Class } from '../common';\nimport { defined, definitionId, isTransparent, valueOrDefault } from '../util';\n\nclass Element extends Class {\n\n    constructor(options) {\n        super();\n\n        this._initOptions(options);\n    }\n\n    _initOptions(options = {}) {\n        const { clip, transform } = options;\n\n        if (transform) {\n            options.transform = createTransform(transform);\n        }\n\n        if (clip && !clip.id) {\n            clip.id = definitionId();\n        }\n\n        this.options = new OptionsStore(options);\n        this.options.addObserver(this);\n    }\n\n    transform(value) {\n        if (defined(value)) {\n            this.options.set(\"transform\", createTransform(value));\n        } else {\n            return this.options.get(\"transform\");\n        }\n    }\n\n    parentTransform() {\n        let element = this;\n        let parentMatrix;\n\n        while (element.parent) {\n            element = element.parent;\n            let transformation = element.transform();\n            if (transformation) {\n                parentMatrix = transformation.matrix().multiplyCopy(parentMatrix || Matrix.unit());\n            }\n        }\n\n        if (parentMatrix) {\n            return createTransform(parentMatrix);\n        }\n    }\n\n    currentTransform(parentTransform = this.parentTransform()) {\n        const elementTransform = this.transform();\n        const elementMatrix = toMatrix(elementTransform);\n\n        let parentMatrix = toMatrix(parentTransform);\n        let combinedMatrix;\n\n        if (elementMatrix && parentMatrix) {\n            combinedMatrix = parentMatrix.multiplyCopy(elementMatrix);\n        } else {\n            combinedMatrix = elementMatrix || parentMatrix;\n        }\n\n        if (combinedMatrix) {\n            return createTransform(combinedMatrix);\n        }\n    }\n\n    visible(value) {\n        if (defined(value)) {\n            this.options.set(\"visible\", value);\n            return this;\n        }\n\n        return this.options.get(\"visible\") !== false;\n    }\n\n    clip(value) {\n        const options = this.options;\n        if (defined(value)) {\n            if (value && !value.id) {\n                value.id = definitionId();\n            }\n            options.set(\"clip\", value);\n            return this;\n        }\n\n        return options.get(\"clip\");\n    }\n\n    opacity(value) {\n        if (defined(value)) {\n            this.options.set(\"opacity\", value);\n            return this;\n        }\n\n        return valueOrDefault(this.options.get(\"opacity\"), 1);\n    }\n\n    clippedBBox(transformation) {\n        const bbox = this._clippedBBox(transformation);\n        if (bbox) {\n            const clip = this.clip();\n            return clip ? Rect.intersect(bbox, clip.bbox(transformation)) : bbox;\n        }\n    }\n\n    containsPoint(point, parentTransform) {\n        if (this.visible()) {\n            const transform = this.currentTransform(parentTransform);\n            let transformedPoint = point;\n            if (transform) {\n                transformedPoint = point.transformCopy(transform.matrix().invert());\n            }\n            return (this._hasFill() && this._containsPoint(transformedPoint)) || (this._isOnPath && this._hasStroke() && this._isOnPath(transformedPoint));\n        }\n        return false;\n    }\n\n    _hasFill() {\n        const fill = this.options.fill;\n        return fill && !isTransparent(fill.color);\n    }\n\n    _hasStroke() {\n        const stroke = this.options.stroke;\n        return stroke && stroke.width > 0 && !isTransparent(stroke.color);\n    }\n\n    _clippedBBox(transformation) {\n        return this.bbox(transformation);\n    }\n}\n\nElement.prototype.nodeType = \"Element\";\n\nObserversMixin.extend(Element.prototype);\n\nexport default Element;\n","export default function ellipseExtremeAngles(center, rx, ry, matrix) {\n    let extremeX = 0;\n    let extremeY = 0;\n\n    if (matrix) {\n        extremeX = Math.atan2(matrix.c * ry, matrix.a * rx);\n        if (matrix.b !== 0) {\n            extremeY = Math.atan2(matrix.d * ry, matrix.b * rx);\n        }\n    }\n\n    return {\n        x: extremeX,\n        y: extremeY\n    };\n}","import defineAccessors from '../accessors/define-accessors';\nimport ObserversMixin from '../mixins/observers-mixin';\nimport Point from './point';\nimport Rect from './rect';\nimport ellipseExtremeAngles from './math/ellipse-extreme-angles';\nimport { Class } from '../common';\nimport { rad } from '../util';\n\nconst PI_DIV_2 = Math.PI / 2;\n\nclass Circle extends Class {\n\n    constructor(center = new Point(), radius = 0) {\n        super();\n\n        this.setCenter(center);\n        this.setRadius(radius);\n    }\n\n    setCenter(value) {\n        this._observerField(\"center\", Point.create(value));\n        this.geometryChange();\n        return this;\n    }\n\n    getCenter() {\n        return this.center;\n    }\n\n    equals(other) {\n        return other &&\n               other.center.equals(this.center) &&\n               other.radius === this.radius;\n    }\n\n    clone() {\n        return new Circle(this.center.clone(), this.radius);\n    }\n\n    pointAt(angle) {\n        return this._pointAt(rad(angle));\n    }\n\n    bbox(matrix) {\n        const extremeAngles = ellipseExtremeAngles(this.center, this.radius, this.radius, matrix);\n        let minPoint = Point.maxPoint();\n        let maxPoint = Point.minPoint();\n\n        for (let i = 0; i < 4; i++) {\n            let currentPointX = this._pointAt(extremeAngles.x + i * PI_DIV_2).transformCopy(matrix);\n            let currentPointY = this._pointAt(extremeAngles.y + i * PI_DIV_2).transformCopy(matrix);\n            let currentPoint = new Point(currentPointX.x, currentPointY.y);\n\n            minPoint = Point.min(minPoint, currentPoint);\n            maxPoint = Point.max(maxPoint, currentPoint);\n        }\n\n        return Rect.fromPoints(minPoint, maxPoint);\n    }\n\n    _pointAt(angle) {\n        const { center, radius } = this;\n\n        return new Point(\n            center.x + radius * Math.cos(angle),\n            center.y + radius * Math.sin(angle)\n        );\n    }\n\n    containsPoint(point) {\n        const { center, radius } = this;\n        const inCircle = Math.pow(point.x - center.x, 2) +\n            Math.pow(point.y - center.y, 2) <= Math.pow(radius, 2);\n        return inCircle;\n    }\n\n    _isOnPath(point, width) {\n        const { center, radius } = this;\n        const pointDistance = center.distanceTo(point);\n\n        return radius - width <= pointDistance && pointDistance <= radius + width;\n    }\n}\n\ndefineAccessors(Circle.prototype, [ \"radius\" ]);\nObserversMixin.extend(Circle.prototype);\n\nexport default Circle;","import { defined } from '../util';\n\nconst GRADIENT = \"Gradient\";\n\nconst Paintable = {\n    extend: function(proto) {\n        proto.fill = this.fill;\n        proto.stroke = this.stroke;\n    },\n\n    fill: function(color, opacity) {\n        const options = this.options;\n\n        if (defined(color)) {\n            if (color && color.nodeType !== GRADIENT) {\n                const newFill = {\n                    color: color\n                };\n                if (defined(opacity)) {\n                    newFill.opacity = opacity;\n                }\n                options.set(\"fill\", newFill);\n            } else {\n                options.set(\"fill\", color);\n            }\n\n            return this;\n        }\n\n        return options.get(\"fill\");\n    },\n\n    stroke: function(color, width, opacity) {\n        if (defined(color)) {\n            this.options.set(\"stroke.color\", color);\n\n            if (defined(width)) {\n                this.options.set(\"stroke.width\", width);\n            }\n\n            if (defined(opacity)) {\n                this.options.set(\"stroke.opacity\", opacity);\n            }\n\n            return this;\n        }\n\n        return this.options.get(\"stroke\");\n    }\n};\n\nexport default Paintable;","import Matrix from '../geometry/matrix';\nimport toMatrix from '../geometry/to-matrix';\n\nconst IDENTITY_MATRIX_HASH = Matrix.IDENTITY.toString();\n\nconst Measurable = {\n    extend: function(proto) {\n        proto.bbox = this.bbox;\n        proto.geometryChange = this.geometryChange;\n    },\n\n    bbox: function(transformation) {\n        const combinedMatrix = toMatrix(this.currentTransform(transformation));\n        const matrixHash = combinedMatrix ? combinedMatrix.toString() : IDENTITY_MATRIX_HASH;\n        let bbox;\n\n        if (this._bboxCache && this._matrixHash === matrixHash) {\n            bbox = this._bboxCache.clone();\n        } else {\n            bbox = this._bbox(combinedMatrix);\n            this._bboxCache = bbox ? bbox.clone() : null;\n            this._matrixHash = matrixHash;\n        }\n\n        const strokeWidth = this.options.get(\"stroke.width\");\n        if (strokeWidth && bbox) {\n            bbox.expand(strokeWidth / 2);\n        }\n\n        return bbox;\n    },\n\n    geometryChange: function() {\n        delete this._bboxCache;\n        this.trigger(\"geometryChange\", {\n            element: this\n        });\n    }\n};\n\nexport default Measurable;","import { defined } from '../util';\n\nfunction geometryAccessor(name) {\n    const fieldName = \"_\" + name;\n    return function(value) {\n        if (defined(value)) {\n            this._observerField(fieldName, value);\n            this.geometryChange();\n            return this;\n        }\n\n        return this[fieldName];\n    };\n}\n\nexport default function defineGeometryAccessors(fn, names) {\n    for (let i = 0; i < names.length; i++) {\n        fn[names[i]] = geometryAccessor(names[i]);\n    }\n}","import GeometryCircle from '../geometry/circle';\nimport Paintable from '../mixins/paintable';\nimport Measurable from '../mixins/measurable';\nimport defineGeometryAccessors from '../accessors/define-geometry-accessors';\nimport Element from './element';\nimport { defined } from '../util';\n\nconst DEFAULT_STROKE = \"#000\";\n\nclass Circle extends Element {\n\n    constructor(geometry = new GeometryCircle(), options = {}) {\n        super(options);\n        this.geometry(geometry);\n\n        if (!defined(this.options.stroke)) {\n            this.stroke(DEFAULT_STROKE);\n        }\n    }\n\n    rawBBox() {\n        return this._geometry.bbox();\n    }\n\n    _bbox(matrix) {\n        return this._geometry.bbox(matrix);\n    }\n\n    _containsPoint(point) {\n        return this.geometry().containsPoint(point);\n    }\n\n    _isOnPath(point) {\n        return this.geometry()._isOnPath(point, this.options.stroke.width / 2);\n    }\n}\n\nCircle.prototype.nodeType = \"Circle\";\n\nPaintable.extend(Circle.prototype);\nMeasurable.extend(Circle.prototype);\ndefineGeometryAccessors(Circle.prototype, [ \"geometry\" ]);\n\nexport default Circle;","const PRECISION = 10;\n\nexport { PRECISION };","import { PRECISION } from '../constants';\n\nimport { round } from '../../util';\n\nexport default function close(a, b, tolerance = PRECISION) {\n    return round(Math.abs(a - b), tolerance) === 0;\n}","import close from './close';\n\nexport default function closeOrLess(a, b, tolerance) {\n    return a < b || close(a, b, tolerance);\n}","import Point from '../point';\n\nexport default function lineIntersection(p0, p1, p2, p3) {\n    const s1x = p1.x - p0.x;\n    const s2x = p3.x - p2.x;\n    const s1y = p1.y - p0.y;\n    const s2y = p3.y - p2.y;\n    const nx = p0.x - p2.x;\n    const ny = p0.y - p2.y;\n    const d = s1x * s2y - s2x * s1y;\n    const s = (s1x * ny - s1y * nx) / d;\n    const t = (s2x * ny - s2y * nx) / d;\n\n    if (s >= 0 && s <= 1 && t >= 0 && t <= 1) {\n        return new Point(p0.x + t * s1x, p0.y + t * s1y);\n    }\n}","import defineAccessors from '../accessors/define-accessors';\nimport ObserversMixin from '../mixins/observers-mixin';\nimport { Class } from '../common';\nimport { deg, rad, round } from '../util';\n\nimport closeOrLess from './math/close-or-less';\nimport lineIntersection from './math/line-intersection';\nimport ellipseExtremeAngles from './math/ellipse-extreme-angles';\n\nimport { PRECISION } from './constants';\nimport Point from './point';\nimport Rect from './rect';\nimport transform from './transform';\n\nconst MAX_INTERVAL = 45;\nconst pow = Math.pow;\n\nclass Arc extends Class {\n\n    constructor(center = new Point(), options = {}) {\n        super();\n\n        this.setCenter(center);\n\n        this.radiusX = options.radiusX;\n        this.radiusY = options.radiusY || options.radiusX;\n        this.startAngle = options.startAngle;\n        this.endAngle = options.endAngle;\n        this.anticlockwise = options.anticlockwise || false;\n        this.xRotation = options.xRotation;\n    }\n\n    clone() {\n        return new Arc(this.center, {\n            radiusX: this.radiusX,\n            radiusY: this.radiusY,\n            startAngle: this.startAngle,\n            endAngle: this.endAngle,\n            anticlockwise: this.anticlockwise\n        });\n    }\n\n    setCenter(value) {\n        this._observerField(\"center\", Point.create(value));\n        this.geometryChange();\n        return this;\n    }\n\n    getCenter() {\n        return this.center;\n    }\n\n    pointAt(angle) {\n        const center = this.center;\n        const radian = rad(angle);\n\n        return new Point(\n            center.x + this.radiusX * Math.cos(radian),\n            center.y + this.radiusY * Math.sin(radian)\n        );\n    }\n\n    curvePoints() {\n        const startAngle = this.startAngle;\n        const dir = this.anticlockwise ? -1 : 1;\n        const curvePoints = [ this.pointAt(startAngle) ];\n        const interval = this._arcInterval();\n        const intervalAngle = interval.endAngle - interval.startAngle;\n        const subIntervalsCount = Math.ceil(intervalAngle / MAX_INTERVAL);\n        const subIntervalAngle = intervalAngle / subIntervalsCount;\n        let currentAngle = startAngle;\n        let transformation;\n        if (this.xRotation) {\n            transformation = transform().rotate(this.xRotation, this.center);\n        }\n\n        for (let i = 1; i <= subIntervalsCount; i++) {\n            const nextAngle = currentAngle + dir * subIntervalAngle;\n            const points = this._intervalCurvePoints(currentAngle, nextAngle, transformation);\n\n            curvePoints.push(points.cp1, points.cp2, points.p2);\n            currentAngle = nextAngle;\n        }\n\n        return curvePoints;\n    }\n\n    bbox(matrix) {\n        const interval = this._arcInterval();\n        const startAngle = interval.startAngle;\n        const endAngle = interval.endAngle;\n        const extremeAngles = ellipseExtremeAngles(this.center, this.radiusX, this.radiusY, matrix);\n        const extremeX = deg(extremeAngles.x);\n        const extremeY = deg(extremeAngles.y);\n        const endPoint = this.pointAt(endAngle).transformCopy(matrix);\n        let currentAngleX = bboxStartAngle(extremeX, startAngle);\n        let currentAngleY = bboxStartAngle(extremeY, startAngle);\n        let currentPoint = this.pointAt(startAngle).transformCopy(matrix);\n        let minPoint = Point.min(currentPoint, endPoint);\n        let maxPoint = Point.max(currentPoint, endPoint);\n\n        while (currentAngleX < endAngle || currentAngleY < endAngle) {\n            let currentPointX;\n            if (currentAngleX < endAngle) {\n                currentPointX = this.pointAt(currentAngleX).transformCopy(matrix);\n                currentAngleX += 90;\n            }\n\n            let currentPointY;\n            if (currentAngleY < endAngle) {\n                currentPointY = this.pointAt(currentAngleY).transformCopy(matrix);\n                currentAngleY += 90;\n            }\n\n            currentPoint = new Point(currentPointX.x, currentPointY.y);\n            minPoint = Point.min(minPoint, currentPoint);\n            maxPoint = Point.max(maxPoint, currentPoint);\n        }\n\n        return Rect.fromPoints(minPoint, maxPoint);\n    }\n\n    _arcInterval() {\n        let { startAngle, endAngle, anticlockwise } = this;\n\n        if (anticlockwise) {\n            let oldStart = startAngle;\n            startAngle = endAngle;\n            endAngle = oldStart;\n        }\n\n        if (startAngle > endAngle || (anticlockwise && startAngle === endAngle)) {\n            endAngle += 360;\n        }\n\n        return {\n            startAngle: startAngle,\n            endAngle: endAngle\n        };\n    }\n\n    _intervalCurvePoints(startAngle, endAngle, transformation) {\n        const p1 = this.pointAt(startAngle);\n        const p2 = this.pointAt(endAngle);\n        const p1Derivative = this._derivativeAt(startAngle);\n        const p2Derivative = this._derivativeAt(endAngle);\n        const t = (rad(endAngle) - rad(startAngle)) / 3;\n        const cp1 = new Point(p1.x + t * p1Derivative.x, p1.y + t * p1Derivative.y);\n        const cp2 = new Point(p2.x - t * p2Derivative.x, p2.y - t * p2Derivative.y);\n        if (transformation) {\n            p1.transform(transformation);\n            p2.transform(transformation);\n            cp1.transform(transformation);\n            cp2.transform(transformation);\n        }\n\n        return {\n            p1: p1,\n            cp1: cp1,\n            cp2: cp2,\n            p2: p2\n        };\n    }\n\n    _derivativeAt(angle) {\n        const radian = rad(angle);\n\n        return new Point(-this.radiusX * Math.sin(radian), this.radiusY * Math.cos(radian));\n    }\n\n    containsPoint(point) {\n        const interval = this._arcInterval();\n        const intervalAngle = interval.endAngle - interval.startAngle;\n        const { center, radiusX, radiusY } = this;\n        const distance = center.distanceTo(point);\n        const angleRad = Math.atan2(point.y - center.y, point.x - center.x);\n        const pointRadius = (radiusX * radiusY) /\n            Math.sqrt(pow(radiusX, 2) * pow(Math.sin(angleRad), 2) + pow(radiusY, 2) * pow(Math.cos(angleRad), 2));\n        const startPoint = this.pointAt(this.startAngle).round(PRECISION);\n        const endPoint = this.pointAt(this.endAngle).round(PRECISION);\n        const intersection = lineIntersection(center, point.round(PRECISION), startPoint, endPoint);\n        let containsPoint;\n\n        if (intervalAngle < 180) {\n            containsPoint = intersection && closeOrLess(center.distanceTo(intersection), distance) && closeOrLess(distance, pointRadius);\n        } else {\n            let angle = calculateAngle(center.x, center.y, radiusX, radiusY, point.x, point.y);\n            if (angle !== 360) {\n                angle = (360 + angle) % 360;\n            }\n\n            let inAngleRange = interval.startAngle <= angle && angle <= interval.endAngle;\n            containsPoint = (inAngleRange && closeOrLess(distance, pointRadius)) || (!inAngleRange && (!intersection || intersection.equals(point)));\n        }\n        return containsPoint;\n    }\n\n    _isOnPath(point, width) {\n        const interval = this._arcInterval();\n        const center = this.center;\n        let angle = calculateAngle(center.x, center.y, this.radiusX, this.radiusY, point.x, point.y);\n        if (angle !== 360) {\n            angle = (360 + angle) % 360;\n        }\n\n        const inAngleRange = interval.startAngle <= angle && angle <= interval.endAngle;\n\n        return inAngleRange && this.pointAt(angle).distanceTo(point) <= width;\n    }\n\n    static fromPoints(start, end, rx, ry, largeArc, swipe, rotation) {// eslint-disable-line max-params\n        const arcParameters = normalizeArcParameters({\n            x1: start.x,\n            y1: start.y,\n            x2: end.x,\n            y2: end.y,\n            rx: rx,\n            ry: ry,\n            largeArc: largeArc,\n            swipe: swipe,\n            rotation: rotation\n        });\n\n        return new Arc(arcParameters.center, {\n            startAngle: arcParameters.startAngle,\n            endAngle: arcParameters.endAngle,\n            radiusX: arcParameters.radiusX,\n            radiusY: arcParameters.radiusY,\n            xRotation: arcParameters.xRotation,\n            anticlockwise: swipe === 0\n        });\n    }\n}\n\ndefineAccessors(Arc.prototype, [ \"radiusX\", \"radiusY\", \"startAngle\", \"endAngle\", \"anticlockwise\" ]);\nObserversMixin.extend(Arc.prototype);\n\nfunction calculateAngle(cx, cy, rx, ry, x, y) {\n    const cos = round((x - cx) / rx, 3);\n    const sin = round((y - cy) / ry, 3);\n\n    return round(deg(Math.atan2(sin, cos)));\n}\n\nfunction normalizeArcParameters(parameters) {\n    let { x1, y1, x2, y2, rx, ry, largeArc, swipe, rotation = 0 } = parameters;\n\n    const radians = rad(rotation);\n    const cosine = Math.cos(radians);\n    const sine = Math.sin(radians);\n\n    const xT = cosine * (x1 - x2) / 2 + sine * (y1 - y2) / 2;\n    const yT = -sine * (x1 - x2) / 2 + cosine * (y1 - y2) / 2;\n\n    const sign = largeArc !== swipe ? 1 : -1;\n\n    const xt2 = Math.pow(xT, 2);\n    const yt2 = Math.pow(yT, 2);\n    let rx2 = Math.pow(rx, 2);\n    let ry2 = Math.pow(ry, 2);\n\n    let delta = xt2 / rx2 + yt2 / ry2;\n\n    if (delta > 1) {\n        delta = Math.sqrt(xt2 / rx2 + yt2 / ry2);\n        rx = delta * rx;\n        rx2 = Math.pow(rx, 2);\n\n        ry = delta * ry;\n        ry2 = Math.pow(ry, 2);\n    }\n\n    let constT = sign * Math.sqrt((rx2 * ry2 - rx2 * yt2 - ry2 * xt2) / (rx2 * yt2 + ry2 * xt2));\n    // due to rounding errors the value could become NaN even after radii correction\n    if (isNaN(constT)) {\n        constT = 0;\n    }\n\n    const cxT = constT * (rx * yT) / ry;\n    const cyT = - constT * (ry * xT) / rx;\n\n    const cx = cosine * cxT - sine * cyT + (x1 + x2) / 2;\n    const cy = sine * cxT + cosine * cyT + (y1 + y2) / 2;\n\n\n    const uX = (xT - cxT) / rx;\n    const uY = (yT - cyT) / ry;\n    const vX = -(xT + cxT) / rx;\n    const vY = -(yT + cyT) / ry;\n\n    const startAngle = (uY >= 0 ? 1 : -1) * deg(Math.acos(uX / Math.sqrt(uX * uX + uY * uY)));\n\n    const angleCosine = round((uX * vX + uY * vY) / (Math.sqrt(uX * uX + uY * uY) * Math.sqrt(vX * vX + vY * vY)), 10);\n    let angle = (uX * vY - uY * vX >= 0 ? 1 : -1) * deg(Math.acos(angleCosine));\n\n    if (!swipe && angle > 0) {\n        angle -= 360;\n    }\n\n    if (swipe && angle < 0) {\n        angle += 360;\n    }\n    let endAngle = startAngle + angle;\n    const signEndAngle = endAngle >= 0 ? 1 : -1;\n    endAngle = (Math.abs(endAngle) % 360) * signEndAngle;\n\n    return {\n        center: new Point(cx, cy),\n        startAngle: startAngle,\n        endAngle: endAngle,\n        radiusX: rx,\n        radiusY: ry,\n        xRotation: rotation\n    };\n}\n\nfunction bboxStartAngle(angle, start) {\n    let startAngle = angle;\n\n    while (startAngle < start) {\n        startAngle += 90;\n    }\n\n    return startAngle;\n}\n\nexport default Arc;\n","import ObserversMixin from '../mixins/observers-mixin';\nimport { Class } from '../common';\n\nconst push = [].push;\nconst pop = [].pop;\nconst splice = [].splice;\nconst shift = [].shift;\nconst slice = [].slice;\nconst unshift = [].unshift;\n\nclass ElementsArray extends Class {\n    constructor(array = []) {\n        super();\n\n        this.length = 0;\n        this._splice(0, array.length, array);\n    }\n\n    elements(value) {\n        if (value) {\n            this._splice(0, this.length, value);\n\n            this._change();\n            return this;\n        }\n\n        return this.slice(0);\n    }\n\n    push() {\n        const elements = arguments;\n        const result = push.apply(this, elements);\n\n        this._add(elements);\n\n        return result;\n    }\n\n    slice() {\n        return slice.call(this);\n    }\n\n    pop() {\n        const length = this.length;\n        const result = pop.apply(this);\n\n        if (length) {\n            this._remove([ result ]);\n        }\n\n        return result;\n    }\n\n    splice(index, howMany) {\n        const elements = slice.call(arguments, 2);\n        const result = this._splice(index, howMany, elements);\n\n        this._change();\n\n        return result;\n    }\n\n    shift() {\n        const length = this.length;\n        const result = shift.apply(this);\n\n        if (length) {\n            this._remove([ result ]);\n        }\n\n        return result;\n    }\n\n    unshift() {\n        const elements = arguments;\n        const result = unshift.apply(this, elements);\n\n        this._add(elements);\n\n        return result;\n    }\n\n    indexOf(element) {\n        const length = this.length;\n\n        for (let idx = 0; idx < length; idx++) {\n            if (this[idx] === element) {\n                return idx;\n            }\n        }\n        return -1;\n    }\n\n    _splice(index, howMany, elements) {\n        const result = splice.apply(this, [ index, howMany ].concat(elements));\n\n        this._clearObserver(result);\n        this._setObserver(elements);\n\n        return result;\n    }\n\n    _add(elements) {\n        this._setObserver(elements);\n        this._change();\n    }\n\n    _remove(elements) {\n        this._clearObserver(elements);\n        this._change();\n    }\n\n    _setObserver(elements) {\n        for (let idx = 0; idx < elements.length; idx++) {\n            elements[idx].addObserver(this);\n        }\n    }\n\n    _clearObserver(elements) {\n        for (let idx = 0; idx < elements.length; idx++) {\n            elements[idx].removeObserver(this);\n        }\n    }\n\n    _change() {}\n}\n\nObserversMixin.extend(ElementsArray.prototype);\n\nexport default ElementsArray;\n","import ElementsArray from './elements-array';\n\nclass GeometryElementsArray extends ElementsArray {\n    _change() {\n        this.geometryChange();\n    }\n}\n\nexport default GeometryElementsArray;","import { defined } from '../util';\nimport Point from '../geometry/point';\n\nfunction pointAccessor(name) {\n    const fieldName = \"_\" + name;\n    return function(value) {\n        if (defined(value)) {\n            this._observerField(fieldName, Point.create(value));\n            this.geometryChange();\n            return this;\n        }\n\n        return this[fieldName];\n    };\n}\n\nexport default function definePointAccessors(fn, names) {\n    for (let i = 0; i < names.length; i++) {\n        fn[names[i]] = pointAccessor(names[i]);\n    }\n}","import { deg } from '../../util';\nimport transform from '../transform';\n\nexport default function isOutOfEndPoint(endPoint, controlPoint, point) {\n    const angle = deg(Math.atan2(controlPoint.y - endPoint.y, controlPoint.x - endPoint.x));\n    const rotatedPoint = point.transformCopy(transform().rotate(-angle, endPoint));\n\n    return rotatedPoint.x < endPoint.x;\n}","export default function calculateCurveAt(t, field, points) {\n    const t1 = 1 - t;\n    return Math.pow(t1, 3) * points[0][field] +\n        3 * Math.pow(t1, 2) * t * points[1][field] +\n        3 * Math.pow(t, 2) * t1 * points[2][field] +\n        Math.pow(t, 3) * points[3][field];\n}","export default function toCubicPolynomial(points, field) {\n    return [ -points[0][field] + 3 * points[1][field] - 3 * points[2][field] + points[3][field],\n        3 * (points[0][field] - 2 * points[1][field] + points[2][field]),\n        3 * (-points[0][field] + points[1][field]),\n        points[0][field]\n    ];\n}","import { PRECISION } from '../constants';\nimport { Class } from '../../common';\nimport { round } from '../../util';\n\nclass ComplexNumber extends Class {\n\n    constructor(real = 0, img = 0) {\n        super();\n\n        this.real = real;\n        this.img = img;\n    }\n\n    add(cNumber) {\n        return new ComplexNumber(round(this.real + cNumber.real, PRECISION), round(this.img + cNumber.img, PRECISION));\n    }\n\n    addConstant(value) {\n        return new ComplexNumber(this.real + value, this.img);\n    }\n\n    negate() {\n        return new ComplexNumber(-this.real, -this.img);\n    }\n\n    multiply(cNumber) {\n        return new ComplexNumber(this.real * cNumber.real - this.img * cNumber.img,\n            this.real * cNumber.img + this.img * cNumber.real);\n    }\n\n    multiplyConstant(value) {\n        return new ComplexNumber(this.real * value, this.img * value);\n    }\n\n    nthRoot(n) {\n        const rad = Math.atan2(this.img, this.real);\n        const r = Math.sqrt(Math.pow(this.img, 2) + Math.pow(this.real, 2));\n        const nthR = Math.pow(r, 1 / n);\n\n        return new ComplexNumber(nthR * Math.cos(rad / n), nthR * Math.sin(rad / n)); //Moivre's formula\n    }\n\n    equals(cNumber) {\n        return this.real === cNumber.real && this.img === cNumber.img;\n    }\n\n    isReal() {\n        return this.img === 0;\n    }\n}\n\nexport default ComplexNumber;","import ComplexNumber from './complex-number';\nimport { PRECISION } from '../constants';\nimport { round } from '../../util';\n\nfunction numberSign(x) {\n    return x < 0 ? -1 : 1;\n}\n\nfunction solveQuadraticEquation(a, b, c) {\n    const squareRoot = Math.sqrt(Math.pow(b, 2) - 4 * a * c);\n    return [\n        (-b + squareRoot) / (2 * a),\n        (-b - squareRoot) / (2 * a)\n    ];\n}\n\n//Cardano's formula\nexport default function solveCubicEquation(a, b, c, d) {\n    if (a === 0) {\n        return solveQuadraticEquation(b, c, d);\n    }\n\n    const p = (3 * a * c - Math.pow(b, 2)) / (3 * Math.pow(a, 2));\n    const q = (2 * Math.pow(b, 3) - 9 * a * b * c + 27 * Math.pow(a, 2) * d) / (27 * Math.pow(a, 3));\n    const Q = Math.pow(p / 3, 3) + Math.pow(q / 2, 2);\n    const i = new ComplexNumber(0,1);\n    const b3a = -b / (3 * a);\n    let x1, x2, y1, y2, y3, z1, z2;\n\n    if (Q < 0) {\n        x1 = new ComplexNumber(-q / 2, Math.sqrt(-Q)).nthRoot(3);\n        x2 = new ComplexNumber(-q / 2, - Math.sqrt(-Q)).nthRoot(3);\n    } else {\n        x1 = -q / 2 + Math.sqrt(Q);\n        x1 = new ComplexNumber(numberSign(x1) * Math.pow(Math.abs(x1), 1 / 3));\n        x2 = -q / 2 - Math.sqrt(Q);\n        x2 = new ComplexNumber(numberSign(x2) * Math.pow(Math.abs(x2), 1 / 3));\n    }\n\n    y1 = x1.add(x2);\n\n    z1 = x1.add(x2).multiplyConstant(-1 / 2);\n    z2 = x1.add(x2.negate()).multiplyConstant(Math.sqrt(3) / 2);\n\n    y2 = z1.add(i.multiply(z2));\n    y3 = z1.add(i.negate().multiply(z2));\n\n    const result = [];\n\n    if (y1.isReal()) {\n        result.push(round(y1.real + b3a, PRECISION));\n    }\n    if (y2.isReal()) {\n        result.push(round(y2.real + b3a, PRECISION));\n    }\n    if (y3.isReal()) {\n        result.push(round(y3.real + b3a, PRECISION));\n    }\n\n    return result;\n}","import toCubicPolynomial from './to-cubic-polynomial';\nimport solveCubicEquation from './solve-cubic-equation';\nimport calculateCurveAt from './calculate-curve-at';\n\nexport default function hasRootsInRange(points, point, field, rootField, range) {\n    const polynomial = toCubicPolynomial(points, rootField);\n    const roots = solveCubicEquation(polynomial[0], polynomial[1], polynomial[2], polynomial[3] - point[rootField]);\n    let intersection;\n\n    for (let idx = 0; idx < roots.length; idx++) {\n        if (0 <= roots[idx] && roots[idx] <= 1) {\n            intersection = calculateCurveAt(roots[idx], field, points);\n            if (Math.abs(intersection - point[field]) <= range) {\n                return true;\n            }\n        }\n    }\n}","import toCubicPolynomial from './to-cubic-polynomial';\nimport solveCubicEquation from './solve-cubic-equation';\nimport calculateCurveAt from './calculate-curve-at';\nimport close from './close';\n\nexport default function curveIntersectionsCount(points, point, bbox) {\n    const polynomial = toCubicPolynomial(points, \"x\");\n    const roots = solveCubicEquation(polynomial[0], polynomial[1], polynomial[2], polynomial[3] - point.x);\n    let rayIntersection, intersectsRay;\n    let count = 0;\n    for (let i = 0; i < roots.length; i++) {\n        rayIntersection = calculateCurveAt(roots[i], \"y\", points);\n        intersectsRay = close(rayIntersection, point.y) || rayIntersection > point.y;\n        if (intersectsRay && (((roots[i] === 0 || roots[i] === 1) && bbox.bottomRight().x > point.x) || (0 < roots[i] && roots[i] < 1))) {\n            count++;\n        }\n    }\n\n    return count;\n}","export default function lineIntersectionsCount(a, b, point) {\n    let intersects;\n    if (a.x !== b.x) {\n        const minX = Math.min(a.x, b.x);\n        const maxX = Math.max(a.x, b.x);\n        const minY = Math.min(a.y, b.y);\n        const maxY = Math.max(a.y, b.y);\n        const inRange = minX <= point.x && point.x < maxX;\n\n        if (minY === maxY) {\n            intersects = point.y <= minY && inRange;\n        } else {\n            intersects = inRange && (((maxY - minY) * ((a.x - b.x) * (a.y - b.y) > 0 ? point.x - minX : maxX - point.x)) / (maxX - minX) + minY - point.y) >= 0;\n        }\n    }\n\n    return intersects ? 1 : 0;\n}","import ObserversMixin from '../mixins/observers-mixin';\nimport { Class } from '../common';\nimport definePointAccessors from '../accessors/define-point-accessors';\nimport Rect from './rect';\nimport Point from './point';\nimport transform from './transform';\nimport { deg, MIN_NUM, MAX_NUM } from '../util';\nimport isOutOfEndPoint from './math/is-out-of-end-point';\nimport calculateCurveAt from './math/calculate-curve-at';\nimport hasRootsInRange from './math/has-roots-in-range';\nimport curveIntersectionsCount from './math/curve-intersections-count';\nimport lineIntersectionsCount from './math/line-intersections-count';\n\nclass Segment extends Class {\n\n    constructor(anchor, controlIn, controlOut) {\n        super();\n\n        this.anchor(anchor || new Point());\n        this.controlIn(controlIn);\n        this.controlOut(controlOut);\n    }\n\n    bboxTo(toSegment, matrix) {\n        const segmentAnchor = this.anchor().transformCopy(matrix);\n        const toSegmentAnchor = toSegment.anchor().transformCopy(matrix);\n        let rect;\n\n        if (this.controlOut() && toSegment.controlIn()) {\n            rect = this._curveBoundingBox(\n                segmentAnchor, this.controlOut().transformCopy(matrix),\n                toSegment.controlIn().transformCopy(matrix), toSegmentAnchor\n            );\n        } else {\n            rect = this._lineBoundingBox(segmentAnchor, toSegmentAnchor);\n        }\n\n        return rect;\n    }\n\n    _lineBoundingBox(p1, p2) {\n        return Rect.fromPoints(p1, p2);\n    }\n\n    _curveBoundingBox(p1, cp1, cp2, p2) {\n        const points = [ p1, cp1, cp2, p2 ];\n        const extremesX = this._curveExtremesFor(points, \"x\");\n        const extremesY = this._curveExtremesFor(points, \"y\");\n        const xLimits = arrayLimits([ extremesX.min, extremesX.max, p1.x, p2.x ]);\n        const yLimits = arrayLimits([ extremesY.min, extremesY.max, p1.y, p2.y ]);\n\n        return Rect.fromPoints(new Point(xLimits.min, yLimits.min), new Point(xLimits.max, yLimits.max));\n    }\n\n    _curveExtremesFor(points, field) {\n        const extremes = this._curveExtremes(\n            points[0][field], points[1][field],\n            points[2][field], points[3][field]\n        );\n\n        return {\n            min: calculateCurveAt(extremes.min, field, points),\n            max: calculateCurveAt(extremes.max, field, points)\n        };\n    }\n\n    _curveExtremes(x1, x2, x3, x4) {\n        const a = x1 - 3 * x2 + 3 * x3 - x4;\n        const b = - 2 * (x1 - 2 * x2 + x3);\n        const c = x1 - x2;\n        const sqrt = Math.sqrt(b * b - 4 * a * c);\n        let t1 = 0;\n        let t2 = 1;\n\n        if (a === 0) {\n            if (b !== 0) {\n                t1 = t2 = -c / b;\n            }\n        } else if (!isNaN(sqrt)) {\n            t1 = (- b + sqrt) / (2 * a);\n            t2 = (- b - sqrt) / (2 * a);\n        }\n\n        let min = Math.max(Math.min(t1, t2), 0);\n        if (min < 0 || min > 1) {\n            min = 0;\n        }\n\n        let max = Math.min(Math.max(t1, t2), 1);\n        if (max > 1 || max < 0) {\n            max = 1;\n        }\n\n        return {\n            min: min,\n            max: max\n        };\n    }\n\n    _intersectionsTo(segment, point) {\n        let intersectionsCount;\n        if (this.controlOut() && segment.controlIn()) {\n            intersectionsCount = curveIntersectionsCount([ this.anchor(), this.controlOut(), segment.controlIn(), segment.anchor() ], point, this.bboxTo(segment));\n        } else {\n            intersectionsCount = lineIntersectionsCount(this.anchor(), segment.anchor(), point);\n        }\n        return intersectionsCount;\n    }\n\n    _isOnCurveTo(segment, point, width, endSegment) {\n        const bbox = this.bboxTo(segment).expand(width, width);\n        if (bbox.containsPoint(point)) {\n            const p1 = this.anchor();\n            const p2 = this.controlOut();\n            const p3 = segment.controlIn();\n            const p4 = segment.anchor();\n\n            if (endSegment === \"start\" && p1.distanceTo(point) <= width) {\n                return !isOutOfEndPoint(p1, p2, point);\n            } else if (endSegment === \"end\" && p4.distanceTo(point) <= width) {\n                return !isOutOfEndPoint(p4, p3, point);\n            }\n\n            //the approach is not entirely correct but is close and the alternatives are solving a 6th degree polynomial or testing the segment points\n            const points = [ p1, p2, p3, p4 ];\n            if (hasRootsInRange(points, point, \"x\", \"y\", width) || hasRootsInRange(points, point, \"y\", \"x\", width)) {\n                return true;\n            }\n            const rotation = transform().rotate(45, point);\n            const rotatedPoints = [ p1.transformCopy(rotation), p2.transformCopy(rotation), p3.transformCopy(rotation), p4.transformCopy(rotation) ];\n            return hasRootsInRange(rotatedPoints, point, \"x\", \"y\", width) || hasRootsInRange(rotatedPoints, point, \"y\", \"x\", width);\n        }\n    }\n\n    _isOnLineTo(segment, point, width) {\n        const p1 = this.anchor();\n        const p2 = segment.anchor();\n        const angle = deg(Math.atan2(p2.y - p1.y, p2.x - p1.x));\n        const rect = new Rect([ p1.x, p1.y - width / 2 ], [ p1.distanceTo(p2), width ]);\n        return rect.containsPoint(point.transformCopy(transform().rotate(-angle, p1)));\n    }\n\n    _isOnPathTo(segment, point, width, endSegment) {\n        let isOnPath;\n        if (this.controlOut() && segment.controlIn()) {\n            isOnPath = this._isOnCurveTo(segment, point, width / 2, endSegment);\n        } else {\n            isOnPath = this._isOnLineTo(segment, point, width);\n        }\n        return isOnPath;\n    }\n}\n\ndefinePointAccessors(Segment.prototype, [ \"anchor\", \"controlIn\", \"controlOut\" ]);\nObserversMixin.extend(Segment.prototype);\n\nfunction arrayLimits(arr) {\n    let length = arr.length;\n    let min = MAX_NUM;\n    let max = MIN_NUM;\n\n    for (let i = 0; i < length; i ++) {\n        max = Math.max(max, arr[i]);\n        min = Math.min(min, arr[i]);\n    }\n\n    return {\n        min: min,\n        max: max\n    };\n}\n\nexport default Segment;","import GeometryElementsArray from './geometry-elements-array';\nimport Element from './element';\nimport Paintable from '../mixins/paintable';\nimport Measurable from '../mixins/measurable';\nimport Arc from '../geometry/arc';\nimport Rect from '../geometry/rect';\nimport Segment from '../geometry/segment';\nimport Point from '../geometry/point';\nimport Size from '../geometry/size';\nimport lineIntersectionsCount from '../geometry/math/line-intersections-count';\nimport { defined, last, rad } from '../util';\n\nclass Path extends Element {\n\n    constructor(options) {\n        super(options);\n        this.segments = new GeometryElementsArray();\n        this.segments.addObserver(this);\n\n        if (!defined(this.options.stroke)) {\n            this.stroke(\"#000\");\n\n            if (!defined(this.options.stroke.lineJoin)) {\n                this.options.set(\"stroke.lineJoin\", \"miter\");\n            }\n        }\n    }\n\n    moveTo(x, y) {\n        this.suspend();\n        this.segments.elements([]);\n        this.resume();\n\n        this.lineTo(x, y);\n\n        return this;\n    }\n\n    lineTo(x, y) {\n        const point = defined(y) ? new Point(x, y) : x;\n        const segment = new Segment(point);\n\n        this.segments.push(segment);\n\n        return this;\n    }\n\n    curveTo(controlOut, controlIn, point) {\n        if (this.segments.length > 0) {\n            const lastSegment = last(this.segments);\n            const segment = new Segment(point, controlIn);\n            this.suspend();\n            lastSegment.controlOut(controlOut);\n            this.resume();\n\n            this.segments.push(segment);\n        }\n\n        return this;\n    }\n\n    arc(startAngle, endAngle, radiusX, radiusY, anticlockwise) {\n        if (this.segments.length > 0) {\n            const lastSegment = last(this.segments);\n            const anchor = lastSegment.anchor();\n            const start = rad(startAngle);\n            const center = new Point(anchor.x - radiusX * Math.cos(start),\n                anchor.y - radiusY * Math.sin(start));\n            const arc = new Arc(center, {\n                startAngle: startAngle,\n                endAngle: endAngle,\n                radiusX: radiusX,\n                radiusY: radiusY,\n                anticlockwise: anticlockwise\n            });\n\n            this._addArcSegments(arc);\n        }\n\n        return this;\n    }\n\n    arcTo(end, rx, ry, largeArc, swipe, rotation) {\n        if (this.segments.length > 0) {\n            const lastSegment = last(this.segments);\n            const anchor = lastSegment.anchor();\n            const arc = Arc.fromPoints(anchor, end, rx, ry, largeArc, swipe, rotation);\n\n            this._addArcSegments(arc);\n        }\n        return this;\n    }\n\n    _addArcSegments(arc) {\n        this.suspend();\n\n        const curvePoints = arc.curvePoints();\n\n        for (let i = 1; i < curvePoints.length; i += 3) {\n            this.curveTo(curvePoints[i], curvePoints[i + 1], curvePoints[i + 2]);\n        }\n\n        this.resume();\n        this.geometryChange();\n    }\n\n    close() {\n        this.options.closed = true;\n        this.geometryChange();\n\n        return this;\n    }\n\n    rawBBox() {\n        return this._bbox();\n    }\n\n    _containsPoint(point) {\n        const segments = this.segments;\n        const length = segments.length;\n        let intersectionsCount = 0;\n        let previous, current;\n\n        for (let idx = 1; idx < length; idx++) {\n            previous = segments[idx - 1];\n            current = segments[idx];\n            intersectionsCount += previous._intersectionsTo(current, point);\n        }\n\n        if (this.options.closed || !segments[0].anchor().equals(segments[length - 1].anchor())) {\n            intersectionsCount += lineIntersectionsCount(segments[0].anchor(), segments[length - 1].anchor(), point);\n        }\n\n        return intersectionsCount % 2 !== 0;\n    }\n\n    _isOnPath(point, width) {\n        const segments = this.segments;\n        const length = segments.length;\n        const pathWidth = width || this.options.stroke.width;\n\n        if (length > 1) {\n            if (segments[0]._isOnPathTo(segments[1], point, pathWidth, \"start\")) {\n                return true;\n            }\n\n            for (let idx = 2; idx <= length - 2; idx++) {\n                if (segments[idx - 1]._isOnPathTo(segments[idx], point, pathWidth)) {\n                    return true;\n                }\n            }\n\n            if (segments[length - 2]._isOnPathTo(segments[length - 1], point, pathWidth, \"end\")) {\n                return true;\n            }\n        }\n        return false;\n    }\n\n    _bbox(matrix) {\n        const segments = this.segments;\n        const length = segments.length;\n        let boundingBox;\n\n        if (length === 1) {\n            let anchor = segments[0].anchor().transformCopy(matrix);\n            boundingBox = new Rect(anchor, Size.ZERO);\n        } else if (length > 0) {\n            for (let i = 1; i < length; i++) {\n                let segmentBox = segments[i - 1].bboxTo(segments[i], matrix);\n                if (boundingBox) {\n                    boundingBox = Rect.union(boundingBox, segmentBox);\n                } else {\n                    boundingBox = segmentBox;\n                }\n            }\n        }\n\n        return boundingBox;\n    }\n\n    static fromRect(rect, options) {\n        return new Path(options)\n            .moveTo(rect.topLeft())\n            .lineTo(rect.topRight())\n            .lineTo(rect.bottomRight())\n            .lineTo(rect.bottomLeft())\n            .close();\n    }\n\n    static fromPoints(points, options) {\n        if (points) {\n            const path = new Path(options);\n\n            for (let i = 0; i < points.length; i++) {\n                let point = Point.create(points[i]);\n                if (point) {\n                    if (i === 0) {\n                        path.moveTo(point);\n                    } else {\n                        path.lineTo(point);\n                    }\n                }\n            }\n\n            return path;\n        }\n    }\n\n    static fromArc(arc, options) {\n        const path = new Path(options);\n        const startAngle = arc.startAngle;\n        const start = arc.pointAt(startAngle);\n        path.moveTo(start.x, start.y);\n        path.arc(startAngle, arc.endAngle, arc.radiusX, arc.radiusY, arc.anticlockwise);\n        return path;\n    }\n}\n\nPath.prototype.nodeType = \"Path\";\n\nPaintable.extend(Path.prototype);\nMeasurable.extend(Path.prototype);\n\nexport default Path;","import GeometryArc from '../geometry/arc';\nimport Element from './element';\nimport Path from './path';\nimport Paintable from '../mixins/paintable';\nimport Measurable from '../mixins/measurable';\nimport defineGeometryAccessors from '../accessors/define-geometry-accessors';\nimport { defined } from '../util';\n\nconst DEFAULT_STROKE = \"#000\";\n\nclass Arc extends Element {\n\n    constructor(geometry = new GeometryArc(), options = {}) {\n        super(options);\n\n        this.geometry(geometry);\n\n        if (!defined(this.options.stroke)) {\n            this.stroke(DEFAULT_STROKE);\n        }\n    }\n\n    _bbox(matrix) {\n        return this._geometry.bbox(matrix);\n    }\n\n    rawBBox() {\n        return this.geometry().bbox();\n    }\n\n    toPath() {\n        const path = new Path();\n        const curvePoints = this.geometry().curvePoints();\n\n        if (curvePoints.length > 0) {\n            path.moveTo(curvePoints[0].x, curvePoints[0].y);\n\n            for (let i = 1; i < curvePoints.length; i += 3) {\n                path.curveTo(curvePoints[i], curvePoints[i + 1], curvePoints[i + 2]);\n            }\n        }\n\n        return path;\n    }\n\n    _containsPoint(point) {\n        return this.geometry().containsPoint(point);\n    }\n\n    _isOnPath(point) {\n        return this.geometry()._isOnPath(point, this.options.stroke.width / 2);\n    }\n}\n\nArc.prototype.nodeType = \"Arc\";\n\nPaintable.extend(Arc.prototype);\nMeasurable.extend(Arc.prototype);\ndefineGeometryAccessors(Arc.prototype, [ \"geometry\" ]);\n\nexport default Arc;","import Rect from '../../geometry/rect';\n\nexport default function elementsBoundingBox(elements, applyTransform, transformation) {\n    let boundingBox;\n\n    for (let i = 0; i < elements.length; i++) {\n        let element = elements[i];\n        if (element.visible()) {\n            let elementBoundingBox = applyTransform ? element.bbox(transformation) : element.rawBBox();\n            if (elementBoundingBox) {\n                if (boundingBox) {\n                    boundingBox = Rect.union(boundingBox, elementBoundingBox);\n                } else {\n                    boundingBox = elementBoundingBox;\n                }\n            }\n        }\n    }\n\n    return boundingBox;\n}\n\n","import Rect from '../../geometry/rect';\n\nexport default function elementsClippedBoundingBox(elements, transformation) {\n    let boundingBox;\n\n    for (let i = 0; i < elements.length; i++) {\n        let element = elements[i];\n        if (element.visible()) {\n            let elementBoundingBox = element.clippedBBox(transformation);\n            if (elementBoundingBox) {\n                if (boundingBox) {\n                    boundingBox = Rect.union(boundingBox, elementBoundingBox);\n                } else {\n                    boundingBox = elementBoundingBox;\n                }\n            }\n        }\n    }\n\n    return boundingBox;\n}","import GeometryElementsArray from './geometry-elements-array';\nimport Element from './element';\nimport Path from './path';\nimport Paintable from '../mixins/paintable';\nimport Measurable from '../mixins/measurable';\nimport elementsBoundingBox from './utils/elements-bounding-box';\nimport elementsClippedBoundingBox from './utils/elements-clippend-bounding-box';\nimport { defined, last } from '../util';\n\nclass MultiPath extends Element {\n\n    constructor(options) {\n        super(options);\n        this.paths = new GeometryElementsArray();\n        this.paths.addObserver(this);\n\n        if (!defined(this.options.stroke)) {\n            this.stroke(\"#000\");\n        }\n    }\n\n    moveTo(x, y) {\n        const path = new Path();\n        path.moveTo(x, y);\n\n        this.paths.push(path);\n\n        return this;\n    }\n\n    lineTo(x, y) {\n        if (this.paths.length > 0) {\n            last(this.paths).lineTo(x, y);\n        }\n\n        return this;\n    }\n\n    curveTo(controlOut, controlIn, point) {\n        if (this.paths.length > 0) {\n            last(this.paths).curveTo(controlOut, controlIn, point);\n        }\n\n        return this;\n    }\n\n    arc(startAngle, endAngle, radiusX, radiusY, anticlockwise) {\n        if (this.paths.length > 0) {\n            last(this.paths).arc(startAngle, endAngle, radiusX, radiusY, anticlockwise);\n        }\n\n        return this;\n    }\n\n    arcTo(end, rx, ry, largeArc, swipe, rotation) {\n        if (this.paths.length > 0) {\n            last(this.paths).arcTo(end, rx, ry, largeArc, swipe, rotation);\n        }\n\n        return this;\n    }\n\n    close() {\n        if (this.paths.length > 0) {\n            last(this.paths).close();\n        }\n\n        return this;\n    }\n\n    _bbox(matrix) {\n        return elementsBoundingBox(this.paths, true, matrix);\n    }\n\n    rawBBox() {\n        return elementsBoundingBox(this.paths, false);\n    }\n\n    _containsPoint(point) {\n        const paths = this.paths;\n\n        for (let idx = 0; idx < paths.length; idx++) {\n            if (paths[idx]._containsPoint(point)) {\n                return true;\n            }\n        }\n        return false;\n    }\n\n    _isOnPath(point) {\n        const paths = this.paths;\n        const width = this.options.stroke.width;\n\n        for (let idx = 0; idx < paths.length; idx++) {\n            if (paths[idx]._isOnPath(point, width)) {\n                return true;\n            }\n        }\n        return false;\n    }\n\n    _clippedBBox(transformation) {\n        return elementsClippedBoundingBox(this.paths, this.currentTransform(transformation));\n    }\n}\n\nMultiPath.prototype.nodeType = \"MultiPath\";\n\nPaintable.extend(MultiPath.prototype);\nMeasurable.extend(MultiPath.prototype);\n\nexport default MultiPath;","import Element from './element';\nimport Point from '../geometry/point';\nimport Rect from '../geometry/rect';\nimport toMatrix from '../geometry/to-matrix';\nimport Paintable from '../mixins/paintable';\nimport definePointAccessors from '../accessors/define-point-accessors';\nimport { defined, measureText } from '../util';\n\nconst DEFAULT_FONT = \"12px sans-serif\";\nconst DEFAULT_FILL = \"#000\";\n\nclass Text extends Element {\n\n    constructor(content, position = new Point(), options = {}) {\n        super(options);\n\n        this.content(content);\n        this.position(position);\n\n        if (!this.options.font) {\n            this.options.font = DEFAULT_FONT;\n        }\n\n        if (!defined(this.options.fill)) {\n            this.fill(DEFAULT_FILL);\n        }\n    }\n\n    content(value) {\n        if (defined(value)) {\n            this.options.set(\"content\", value);\n            return this;\n        }\n\n        return this.options.get(\"content\");\n    }\n\n    measure() {\n        const metrics = measureText(this.content(), {\n            font: this.options.get(\"font\")\n        });\n\n        return metrics;\n    }\n\n    rect() {\n        const size = this.measure();\n        const pos = this.position().clone();\n        return new Rect(pos, [ size.width, size.height ]);\n    }\n\n    bbox(transformation) {\n        const combinedMatrix = toMatrix(this.currentTransform(transformation));\n        return this.rect().bbox(combinedMatrix);\n    }\n\n    rawBBox() {\n        return this.rect().bbox();\n    }\n\n    _containsPoint(point) {\n        return this.rect().containsPoint(point);\n    }\n}\n\nText.prototype.nodeType = \"Text\";\n\nPaintable.extend(Text.prototype);\n\ndefinePointAccessors(Text.prototype, [ \"position\" ]);\n\nexport default Text;","import defineGeometryAccessors from '../accessors/define-geometry-accessors';\nimport Element from './element';\nimport Rect from '../geometry/rect';\nimport toMatrix from '../geometry/to-matrix';\nimport { defined } from '../util';\n\nclass Image extends Element {\n\n    constructor(src, rect = new Rect(), options = {}) {\n        super(options);\n\n        this.src(src);\n        this.rect(rect);\n    }\n\n    src(value) {\n        if (defined(value)) {\n            this.options.set(\"src\", value);\n            return this;\n        }\n\n        return this.options.get(\"src\");\n    }\n\n    bbox(transformation) {\n        const combinedMatrix = toMatrix(this.currentTransform(transformation));\n        return this._rect.bbox(combinedMatrix);\n    }\n\n    rawBBox() {\n        return this._rect.bbox();\n    }\n\n    _containsPoint(point) {\n        return this._rect.containsPoint(point);\n    }\n\n    _hasFill() {\n        return this.src();\n    }\n}\n\nImage.prototype.nodeType = \"Image\";\n\ndefineGeometryAccessors(Image.prototype, [ \"rect\" ]);\n\nexport default Image;","\nconst Traversable = {\n    extend: function(proto, childrenField) {\n        proto.traverse = function(callback) {\n            const children = this[childrenField];\n\n            for (let i = 0; i < children.length; i++) {\n                let child = children[i];\n\n                if (child.traverse) {\n                    child.traverse(callback);\n                } else {\n                    callback(child);\n                }\n            }\n\n            return this;\n        };\n    }\n};\n\nexport default Traversable;","import Element from './element';\nimport Traversable from '../mixins/traversable';\nimport { append } from '../util';\nimport elementsBoundingBox from './utils/elements-bounding-box';\nimport elementsClippedBoundingBox from './utils/elements-clippend-bounding-box';\n\nclass Group extends Element {\n\n    constructor(options) {\n        super(options);\n        this.children = [];\n    }\n\n    childrenChange(action, items, index) {\n        this.trigger(\"childrenChange\",{\n            action: action,\n            items: items,\n            index: index\n        });\n    }\n\n    append() {\n        append(this.children, arguments);\n        this._reparent(arguments, this);\n\n        this.childrenChange(\"add\", arguments);\n\n        return this;\n    }\n\n    insert(index, element) {\n        this.children.splice(index, 0, element);\n        element.parent = this;\n\n        this.childrenChange(\"add\", [ element ], index);\n\n        return this;\n    }\n\n    insertAt(element, index) {\n        return this.insert(index, element);\n    }\n\n    remove(element) {\n        const index = this.children.indexOf(element);\n        if (index >= 0) {\n            this.children.splice(index, 1);\n            element.parent = null;\n            this.childrenChange(\"remove\", [ element ], index);\n        }\n\n        return this;\n    }\n\n    removeAt(index) {\n        if (0 <= index && index < this.children.length) {\n            let element = this.children[index];\n            this.children.splice(index, 1);\n            element.parent = null;\n            this.childrenChange(\"remove\", [ element ], index);\n        }\n\n        return this;\n    }\n\n    clear() {\n        const items = this.children;\n        this.children = [];\n        this._reparent(items, null);\n\n        this.childrenChange(\"remove\", items, 0);\n\n        return this;\n    }\n\n    bbox(transformation) {\n        return elementsBoundingBox(this.children, true, this.currentTransform(transformation));\n    }\n\n    rawBBox() {\n        return elementsBoundingBox(this.children, false);\n    }\n\n    _clippedBBox(transformation) {\n        return elementsClippedBoundingBox(this.children, this.currentTransform(transformation));\n    }\n\n    currentTransform(transformation) {\n        return Element.prototype.currentTransform.call(this, transformation) || null;\n    }\n\n    containsPoint(point, parentTransform) {\n        if (this.visible()) {\n            const children = this.children;\n            const transform = this.currentTransform(parentTransform);\n            for (let idx = 0; idx < children.length; idx++) {\n                if (children[idx].containsPoint(point, transform)) {\n                    return true;\n                }\n            }\n        }\n        return false;\n    }\n\n    _reparent(elements, newParent) {\n        for (let i = 0; i < elements.length; i++) {\n            const child = elements[i];\n            const parent = child.parent;\n            if (parent && parent !== this && parent.remove) {\n                parent.remove(child);\n            }\n\n            child.parent = newParent;\n        }\n    }\n}\n\nGroup.prototype.nodeType = \"Group\";\n\nTraversable.extend(Group.prototype, \"children\");\n\nexport default Group;","import createTransform from '../geometry/transform';\n\nexport default function translateToPoint(point, bbox, element) {\n    const transofrm = element.transform() || createTransform();\n    const matrix = transofrm.matrix();\n    matrix.e += point.x - bbox.origin.x;\n    matrix.f += point.y - bbox.origin.y;\n\n    transofrm.matrix(matrix);\n    element.transform(transofrm);\n}","\nexport default function alignStart(size, rect, align, axis, sizeField) {\n    let start;\n    if (align === \"start\") {\n        start = rect.origin[axis];\n    } else if (align === \"end\") {\n        start = rect.origin[axis] + rect.size[sizeField] - size;\n    } else {\n        start = rect.origin[axis] + (rect.size[sizeField] - size) / 2;\n    }\n\n    return start;\n}","\nexport default function alignStartReverse(size, rect, align, axis, sizeField) {\n    let start;\n    if (align === \"start\") {\n        start = rect.origin[axis] + rect.size[sizeField] - size;\n    } else if (align === \"end\") {\n        start = rect.origin[axis];\n    } else {\n        start = rect.origin[axis] + (rect.size[sizeField] - size) / 2;\n    }\n\n    return start;\n}","import Group from './group';\nimport Size from '../geometry/size';\nimport Rect from '../geometry/rect';\nimport Point from '../geometry/point';\nimport createTransform from '../geometry/transform';\nimport translateToPoint from '../alignment/translate-to-point';\nimport alignStart from '../alignment/align-start';\nimport alignStartReverse from '../alignment/align-start-reverse';\n\nconst DEFAULT_OPTIONS = {\n    alignContent: \"start\",\n    justifyContent: \"start\",\n    alignItems: \"start\",\n    spacing: 0,\n    orientation: \"horizontal\",\n    lineSpacing: 0,\n    wrap: true,\n    revers: false\n};\n\nconst forEach = (elements, callback) => {\n    elements.forEach(callback);\n};\n\nconst forEachReverse = (elements, callback) => {\n    const length = elements.length;\n\n    for (let idx = length - 1; idx >= 0; idx--) {\n        callback(elements[idx], idx);\n    }\n};\n\nclass Layout extends Group {\n\n    constructor(rect, options) {\n        super(Object.assign({}, DEFAULT_OPTIONS, options));\n        this._rect = rect;\n        this._fieldMap = {};\n    }\n\n    rect(value) {\n        if (value) {\n            this._rect = value;\n            return this;\n        }\n\n        return this._rect;\n    }\n\n    _initMap() {\n        const options = this.options;\n        const fieldMap = this._fieldMap;\n        if (options.orientation === \"horizontal\") {\n            fieldMap.sizeField = \"width\";\n            fieldMap.groupsSizeField = \"height\";\n            fieldMap.groupAxis = \"x\";\n            fieldMap.groupsAxis = \"y\";\n        } else {\n            fieldMap.sizeField = \"height\";\n            fieldMap.groupsSizeField = \"width\";\n            fieldMap.groupAxis = \"y\";\n            fieldMap.groupsAxis = \"x\";\n        }\n\n        if (options.reverse) {\n            this.forEach = forEachReverse;\n            this.justifyAlign = alignStartReverse;\n        } else {\n            this.forEach = forEach;\n            this.justifyAlign = alignStart;\n        }\n    }\n\n    reflow() {\n        if (!this._rect || this.children.length === 0) {\n            return;\n        }\n        this._initMap();\n\n        if (this.options.transform) {\n            this.transform(null);\n        }\n\n        const options = this.options;\n        const rect = this._rect;\n        const { groups, groupsSize } = this._initGroups();\n        const { sizeField, groupsSizeField, groupAxis, groupsAxis } = this._fieldMap;\n        const groupOrigin = new Point();\n        const elementOrigin = new Point();\n        const size = new Size();\n        let groupStart = alignStart(groupsSize, rect, options.alignContent, groupsAxis, groupsSizeField);\n        let elementStart, group, groupBox;\n\n        const arrangeElements = (bbox, idx) => {\n            const element = group.elements[idx];\n\n            elementOrigin[groupAxis] = elementStart;\n            elementOrigin[groupsAxis] = alignStart(bbox.size[groupsSizeField], groupBox, options.alignItems, groupsAxis, groupsSizeField);\n            translateToPoint(elementOrigin, bbox, element);\n            elementStart += bbox.size[sizeField] + options.spacing;\n        };\n\n        for (let groupIdx = 0; groupIdx < groups.length; groupIdx++) {\n            group = groups[groupIdx];\n            groupOrigin[groupAxis] = elementStart = this.justifyAlign(group.size, rect, options.justifyContent, groupAxis, sizeField);\n            groupOrigin[groupsAxis] = groupStart;\n            size[sizeField] = group.size;\n            size[groupsSizeField] = group.lineSize;\n            groupBox = new Rect(groupOrigin, size);\n            this.forEach(group.bboxes, arrangeElements);\n\n            groupStart += group.lineSize + options.lineSpacing;\n        }\n\n        if (!options.wrap && group.size > rect.size[sizeField]) {\n            const scale = rect.size[sizeField] / groupBox.size[sizeField];\n            const scaledStart = groupBox.topLeft().scale(scale, scale);\n            const scaledSize = groupBox.size[groupsSizeField] * scale;\n            const newStart = alignStart(scaledSize, rect, options.alignContent, groupsAxis, groupsSizeField);\n            const transform = createTransform();\n            if (groupAxis === \"x\") {\n                transform.translate(rect.origin.x - scaledStart.x, newStart - scaledStart.y);\n            } else {\n                transform.translate(newStart - scaledStart.x, rect.origin.y - scaledStart.y);\n            }\n            transform.scale(scale, scale);\n\n            this.transform(transform);\n        }\n    }\n\n    _initGroups() {\n        const { options, children } = this;\n        const { lineSpacing, wrap, spacing } = options;\n        const sizeField = this._fieldMap.sizeField;\n        let group = this._newGroup();\n        const groups = [];\n        const addGroup = function() {\n            groups.push(group);\n            groupsSize += group.lineSize + lineSpacing;\n        };\n        let groupsSize = -lineSpacing;\n\n        for (let idx = 0; idx < children.length; idx++) {\n            let element = children[idx];\n            let bbox = children[idx].clippedBBox();\n            if (element.visible() && bbox) {\n                if (wrap && group.size + bbox.size[sizeField] + spacing > this._rect.size[sizeField]) {\n                    if (group.bboxes.length === 0) {\n                        this._addToGroup(group, bbox, element);\n                        addGroup();\n                        group = this._newGroup();\n                    } else {\n                        addGroup();\n                        group = this._newGroup();\n                        this._addToGroup(group, bbox, element);\n                    }\n                } else {\n                    this._addToGroup(group, bbox, element);\n                }\n            }\n        }\n\n        if (group.bboxes.length) {\n            addGroup();\n        }\n\n        return {\n            groups: groups,\n            groupsSize: groupsSize\n        };\n    }\n\n    _addToGroup(group, bbox, element) {\n        group.size += bbox.size[this._fieldMap.sizeField] + this.options.spacing;\n        group.lineSize = Math.max(bbox.size[this._fieldMap.groupsSizeField], group.lineSize);\n        group.bboxes.push(bbox);\n        group.elements.push(element);\n    }\n\n    _newGroup() {\n        return {\n            lineSize: 0,\n            size: -this.options.spacing,\n            bboxes: [],\n            elements: []\n        };\n    }\n}\n\nexport default Layout;","import defineGeometryAccessors from '../accessors/define-geometry-accessors';\nimport Element from './element';\nimport Paintable from '../mixins/paintable';\nimport Measurable from '../mixins/measurable';\nimport GeometryRect from '../geometry/rect';\nimport { defined } from '../util';\n\nclass Rect extends Element {\n\n    constructor(geometry = new GeometryRect(), options = {}) {\n        super(options);\n        this.geometry(geometry);\n\n        if (!defined(this.options.stroke)) {\n            this.stroke(\"#000\");\n        }\n    }\n\n    _bbox(matrix) {\n        return this._geometry.bbox(matrix);\n    }\n\n    rawBBox() {\n        return this._geometry.bbox();\n    }\n\n    _containsPoint(point) {\n        return this._geometry.containsPoint(point);\n    }\n\n    _isOnPath(point) {\n        return this.geometry()._isOnPath(point, this.options.stroke.width / 2);\n    }\n}\n\nRect.prototype.nodeType = \"Rect\";\n\nPaintable.extend(Rect.prototype);\nMeasurable.extend(Rect.prototype);\ndefineGeometryAccessors(Rect.prototype, [ \"geometry\" ]);\n\nexport default Rect;\n\n","import translateToPoint from './translate-to-point';\nimport alignStart from './align-start';\n\nexport default function alignElements(elements, rect, alignment, axis, sizeField) {\n    for (let idx = 0; idx < elements.length; idx++) {\n        const bbox = elements[idx].clippedBBox();\n        if (bbox) {\n            const point = bbox.origin.clone();\n            point[axis] = alignStart(bbox.size[sizeField], rect, alignment || \"start\", axis, sizeField);\n            translateToPoint(point, bbox, elements[idx]);\n        }\n    }\n}","\nimport alignElements from './align-elements';\n\nexport default function align(elements, rect, alignment) {\n    alignElements(elements, rect, alignment, \"x\", \"width\");\n}","import alignElements from './align-elements';\n\nexport default function vAlign(elements, rect, alignment) {\n    alignElements(elements, rect, alignment, \"y\", \"height\");\n}","import Point from '../geometry/point';\nimport translateToPoint from './translate-to-point';\n\nexport default function stackElements(elements, stackAxis, otherAxis, sizeField) {\n    if (elements.length > 1) {\n        const origin = new Point();\n        let previousBBox = elements[0].bbox;\n\n        for (let idx = 1; idx < elements.length; idx++) {\n            let element = elements[idx].element;\n            let bbox = elements[idx].bbox;\n            origin[stackAxis] = previousBBox.origin[stackAxis] + previousBBox.size[sizeField];\n            origin[otherAxis] = bbox.origin[otherAxis];\n            translateToPoint(origin, bbox, element);\n            bbox.origin[stackAxis] = origin[stackAxis];\n            previousBBox = bbox;\n        }\n    }\n}","export default function createStackElements(elements) {\n    const stackElements = [];\n\n    for (let idx = 0; idx < elements.length; idx++) {\n        let element = elements[idx];\n        let bbox = element.clippedBBox();\n        if (bbox) {\n            stackElements.push({\n                element: element,\n                bbox: bbox\n            });\n        }\n    }\n\n    return stackElements;\n}","import stackElements from './stack-elements';\nimport createStackElements from './create-stack-elements';\n\nexport default function stack(elements) {\n    stackElements(createStackElements(elements), \"x\", \"y\", \"width\");\n}","import stackElements from './stack-elements';\nimport createStackElements from './create-stack-elements';\n\nexport default function vStack(elements) {\n    stackElements(createStackElements(elements), \"y\", \"x\", \"height\");\n}","import translateToPoint from './translate-to-point';\nimport stackElements from './stack-elements';\n\nfunction getStacks(elements, rect, sizeField) {\n    const maxSize = rect.size[sizeField];\n    const stacks = [];\n    let stack = [];\n    let stackSize = 0;\n    let element, bbox;\n\n    const addElementToStack = function() {\n        stack.push({\n            element: element,\n            bbox: bbox\n        });\n    };\n\n    for (let idx = 0; idx < elements.length; idx++) {\n        element = elements[idx];\n\n        bbox = element.clippedBBox();\n        if (bbox) {\n            let size = bbox.size[sizeField];\n            if (stackSize + size > maxSize) {\n                if (stack.length) {\n                    stacks.push(stack);\n                    stack = [];\n                    addElementToStack();\n                    stackSize = size;\n                } else {\n                    addElementToStack();\n                    stacks.push(stack);\n                    stack = [];\n                    stackSize = 0;\n                }\n            } else {\n                addElementToStack();\n                stackSize += size;\n            }\n        }\n    }\n\n    if (stack.length) {\n        stacks.push(stack);\n    }\n\n    return stacks;\n}\n\nexport default function wrapElements(elements, rect, axis, otherAxis, sizeField) {\n    const stacks = getStacks(elements, rect, sizeField);\n    const origin = rect.origin.clone();\n    const result = [];\n\n    for (let idx = 0; idx < stacks.length; idx++) {\n        let stack = stacks[idx];\n        let startElement = stack[0];\n        origin[otherAxis] = startElement.bbox.origin[otherAxis];\n        translateToPoint(origin, startElement.bbox, startElement.element);\n        startElement.bbox.origin[axis] = origin[axis];\n        stackElements(stack, axis, otherAxis, sizeField);\n        result.push([]);\n        for (let elementIdx = 0; elementIdx < stack.length; elementIdx++) {\n            result[idx].push(stack[elementIdx].element);\n        }\n    }\n    return result;\n}","import wrapElements from './wrap-elements';\n\nexport default function wrap(elements, rect) {\n    return wrapElements(elements, rect, \"x\", \"y\", \"width\");\n}","import wrapElements from './wrap-elements';\n\nexport default function vWrap(elements, rect) {\n    return wrapElements(elements, rect, \"y\", \"x\", \"height\");\n}","import createTransform from '../geometry/transform';\n\nexport default function fit(element, rect) {\n    const bbox = element.clippedBBox();\n    if (bbox) {\n        const elementSize = bbox.size;\n        const rectSize = rect.size;\n        if (rectSize.width < elementSize.width || rectSize.height < elementSize.height) {\n            const scale = Math.min(rectSize.width / elementSize.width, rectSize.height / elementSize.height);\n            const transform = element.transform() || createTransform();\n            transform.scale(scale, scale);\n            element.transform(transform);\n        }\n    }\n}","import ElementsArray from '../shapes/elements-array';\n\nclass StopsArray extends ElementsArray {\n    _change() {\n        this.optionsChange({\n            field: \"stops\"\n        });\n    }\n}\n\nexport default StopsArray;","import { defined } from '../util';\n\nfunction optionsAccessor(name) {\n    return function(value) {\n        if (defined(value)) {\n            this.options.set(name, value);\n            return this;\n        }\n\n        return this.options.get(name);\n    };\n}\n\nexport default function defineOptionsAccessors(fn, names) {\n    for (let i = 0; i < names.length; i++) {\n        fn[names[i]] = optionsAccessor(names[i]);\n    }\n}","import defineOptionsAccessors from '../accessors/define-options-accessors';\nimport OptionsStore from '../core/options-store';\nimport ObserversMixin from '../mixins/observers-mixin';\nimport { Class } from '../common';\nimport { defined } from '../util';\n\nclass GradientStop extends Class {\n    constructor(offset, color, opacity) {\n        super();\n\n        this.options = new OptionsStore({\n            offset: offset,\n            color: color,\n            opacity: defined(opacity) ? opacity : 1\n        });\n        this.options.addObserver(this);\n    }\n\n    static create(arg) {\n        if (defined(arg)) {\n            let stop;\n            if (arg instanceof GradientStop) {\n                stop = arg;\n            } else if (arg.length > 1) {\n                stop = new GradientStop(arg[0], arg[1], arg[2]);\n            } else {\n                stop = new GradientStop(arg.offset, arg.color, arg.opacity);\n            }\n\n            return stop;\n        }\n    }\n}\n\ndefineOptionsAccessors(GradientStop.prototype, [ \"offset\", \"color\", \"opacity\" ]);\nObserversMixin.extend(GradientStop.prototype);\n\nexport default GradientStop;\n","import ObserversMixin from '../mixins/observers-mixin';\nimport StopsArray from './stops-array';\nimport GradientStop from './gradient-stop';\nimport { Class } from '../common';\nimport { defined, definitionId } from '../util';\n\nclass Gradient extends Class {\n\n    constructor(options = {}) {\n        super();\n\n        this.stops = new StopsArray(this._createStops(options.stops));\n        this.stops.addObserver(this);\n        this._userSpace = options.userSpace;\n        this.id = definitionId();\n    }\n\n    userSpace(value) {\n        if (defined(value)) {\n            this._userSpace = value;\n            this.optionsChange();\n            return this;\n        }\n\n        return this._userSpace;\n    }\n\n    _createStops(stops = []) {\n        const result = [];\n        for (let idx = 0; idx < stops.length; idx++) {\n            result.push(GradientStop.create(stops[idx]));\n        }\n\n        return result;\n    }\n\n    addStop(offset, color, opacity) {\n        this.stops.push(new GradientStop(offset, color, opacity));\n    }\n\n    removeStop(stop) {\n        const index = this.stops.indexOf(stop);\n        if (index >= 0) {\n            this.stops.splice(index, 1);\n        }\n    }\n}\n\nGradient.prototype.nodeType = \"Gradient\";\n\nObserversMixin.extend(Gradient.prototype);\n\nObject.assign(Gradient.prototype, {\n    optionsChange: function(e) {\n        this.trigger(\"optionsChange\", {\n            field: \"gradient\" + (e ? \".\" + e.field : \"\"),\n            value: this\n        });\n    },\n\n    geometryChange: function() {\n        this.optionsChange();\n    }\n});\n\nexport default Gradient;","import definePointAccessors from '../accessors/define-point-accessors';\nimport Point from '../geometry/point';\nimport Gradient from './gradient';\n\nclass LinearGradient extends Gradient {\n    constructor(options = {}) {\n        super(options);\n\n        this.start(options.start || new Point());\n\n        this.end(options.end || new Point(1, 0));\n    }\n}\n\ndefinePointAccessors(LinearGradient.prototype, [ \"start\", \"end\" ]);\n\nexport default LinearGradient;","import definePointAccessors from '../accessors/define-point-accessors';\nimport Point from '../geometry/point';\nimport Gradient from './gradient';\nimport { defined } from '../util';\n\nclass RadialGradient extends Gradient {\n    constructor(options = {}) {\n        super(options);\n\n        this.center(options.center || new Point());\n        this._radius = defined(options.radius) ? options.radius : 1;\n        this._fallbackFill = options.fallbackFill;\n    }\n\n    radius(value) {\n        if (defined(value)) {\n            this._radius = value;\n            this.geometryChange();\n            return this;\n        }\n\n        return this._radius;\n    }\n\n    fallbackFill(value) {\n        if (defined(value)) {\n            this._fallbackFill = value;\n            this.optionsChange();\n            return this;\n        }\n\n        return this._fallbackFill;\n    }\n}\n\ndefinePointAccessors(RadialGradient.prototype, [ \"center\" ]);\n\nexport default RadialGradient;","export function swing(position) {\n    return 0.5 - Math.cos(position * Math.PI) / 2;\n}\n\nexport function linear(position) {\n    return position;\n}\n\nexport function easeOutElastic(position, time, start, diff) {\n    let s = 1.70158,\n        p = 0,\n        a = diff;\n\n    if (position === 0) {\n        return start;\n    }\n\n    if (position === 1) {\n        return start + diff;\n    }\n\n    if (!p) {\n        p = 0.5;\n    }\n\n    if (a < Math.abs(diff)) {\n        a = diff;\n        s = p / 4;\n    } else {\n        s = p / (2 * Math.PI) * Math.asin(diff / a);\n    }\n\n    return a * Math.pow(2, -10 * position) *\n           Math.sin((Number(position) - s) * (1.1 * Math.PI) / p) + diff + start;\n}\n","import * as easingFunctions from './easing-functions';\nimport { limitValue } from '../util';\nimport { animationFrame, Class } from '../common';\n\nconst now = Date.now || function() {\n    return new Date().getTime();\n};\n\nclass Animation extends Class {\n    constructor(element, options) {\n        super();\n\n        this.options = Object.assign({}, this.options, options);\n        this.element = element;\n    }\n\n    setup() {}\n    step() {}\n\n    play() {\n        const options = this.options;\n        const { duration, delay = 0 } = options;\n        const easing = easingFunctions[options.easing];\n        const start = now() + delay;\n        const finish = start + duration;\n\n        if (duration === 0) {\n            this.step(1);\n            this.abort();\n        } else {\n            setTimeout(() => {\n                const loop = () => {\n                    if (this._stopped) {\n                        return;\n                    }\n\n                    const wallTime = now();\n\n                    const time = limitValue(wallTime - start, 0, duration);\n                    const position = time / duration;\n                    const easingPosition = easing(position, time, 0, 1, duration);\n\n                    this.step(easingPosition);\n\n                    if (wallTime < finish) {\n                        animationFrame(loop);\n                    } else {\n                        this.abort();\n                    }\n                };\n\n                loop();\n            }, delay);\n        }\n    }\n\n    abort() {\n        this._stopped = true;\n    }\n\n    destroy() {\n        this.abort();\n    }\n}\n\nAnimation.prototype.options = {\n    duration: 500,\n    easing: \"swing\"\n};\n\nexport default Animation;","import Animation from './animation';\nimport { Class } from '../common';\n\nclass AnimationFactory extends Class {\n\n    constructor() {\n        super();\n\n        this._items = [];\n    }\n\n    register(name, type) {\n        this._items.push({\n            name: name,\n            type: type\n        });\n    }\n\n    create(element, options) {\n        const items = this._items;\n        let match;\n\n        if (options && options.type) {\n            const type = options.type.toLowerCase();\n            for (let i = 0; i < items.length; i++) {\n                if (items[i].name.toLowerCase() === type) {\n                    match = items[i];\n                    break;\n                }\n            }\n        }\n\n        if (match) {\n            return new match.type(element, options);\n        }\n    }\n}\n\nAnimationFactory.current = new AnimationFactory();\n\nAnimation.create = function(type, element, options) {\n    return AnimationFactory.current.create(type, element, options);\n};\n\nexport default AnimationFactory;","import Point from '../geometry/point';\nimport { last } from '../util';\n\nconst ShapeMap = {\n    l: function(path, options) {\n        const { parameters, position } = options;\n\n        for (let i = 0; i < parameters.length; i += 2) {\n            let point = new Point(parameters[i], parameters[i + 1]);\n\n            if (options.isRelative) {\n                point.translateWith(position);\n            }\n\n            path.lineTo(point.x, point.y);\n\n            position.x = point.x;\n            position.y = point.y;\n        }\n    },\n\n    c: function(path, options) {\n        const { parameters, position } = options;\n\n        for (let i = 0; i < parameters.length; i += 6) {\n            let controlOut = new Point(parameters[i], parameters[i + 1]);\n            let controlIn = new Point(parameters[i + 2], parameters[i + 3]);\n            let point = new Point(parameters[i + 4], parameters[i + 5]);\n            if (options.isRelative) {\n                controlIn.translateWith(position);\n                controlOut.translateWith(position);\n                point.translateWith(position);\n            }\n\n            path.curveTo(controlOut, controlIn, point);\n\n            position.x = point.x;\n            position.y = point.y;\n        }\n    },\n\n    v: function(path, options) {\n        const value = options.isRelative ? 0 : options.position.x;\n\n        toLineParamaters(options.parameters, true, value);\n        this.l(path, options);\n    },\n\n    h: function(path, options) {\n        const value = options.isRelative ? 0 : options.position.y;\n\n        toLineParamaters(options.parameters, false, value);\n        this.l(path, options);\n    },\n\n    a: function(path, options) {\n        const { parameters, position } = options;\n\n        for (let i = 0; i < parameters.length; i += 7) {\n            const radiusX = parameters[i];\n            const radiusY = parameters[i + 1];\n            const rotation = parameters[i + 2];\n            const largeArc = parameters[i + 3];\n            const swipe = parameters[i + 4];\n            const endPoint = new Point(parameters[i + 5], parameters[i + 6]);\n\n            if (options.isRelative) {\n                endPoint.translateWith(position);\n            }\n            if (position.x !== endPoint.x || position.y !== endPoint.y) {\n                path.arcTo(endPoint, radiusX, radiusY, largeArc, swipe, rotation);\n\n                position.x = endPoint.x;\n                position.y = endPoint.y;\n            }\n        }\n    },\n\n    s: function(path, options) {\n        const { parameters, position, previousCommand } = options;\n        let lastControlIn;\n\n        if (previousCommand === \"s\" || previousCommand === \"c\") {\n            lastControlIn = last(last(path.paths).segments).controlIn();\n        }\n\n        for (let i = 0; i < parameters.length; i += 4) {\n            let controlIn = new Point(parameters[i], parameters[i + 1]);\n            let endPoint = new Point(parameters[i + 2], parameters[i + 3]);\n            let controlOut;\n\n            if (options.isRelative) {\n                controlIn.translateWith(position);\n                endPoint.translateWith(position);\n            }\n\n            if (lastControlIn) {\n                controlOut = reflectionPoint(lastControlIn, position);\n            } else {\n                controlOut = position.clone();\n            }\n\n            lastControlIn = controlIn;\n\n            path.curveTo(controlOut, controlIn, endPoint);\n\n            position.x = endPoint.x;\n            position.y = endPoint.y;\n        }\n    },\n\n    q: function(path, options) {\n        const { parameters, position } = options;\n\n        for (let i = 0; i < parameters.length; i += 4) {\n            let controlPoint = new Point(parameters[i], parameters[i + 1]);\n            let endPoint = new Point(parameters[i + 2], parameters[i + 3]);\n\n            if (options.isRelative) {\n                controlPoint.translateWith(position);\n                endPoint.translateWith(position);\n            }\n\n            let cubicControlPoints = quadraticToCubicControlPoints(position, controlPoint, endPoint);\n\n            path.curveTo(cubicControlPoints.controlOut, cubicControlPoints.controlIn, endPoint);\n\n            position.x = endPoint.x;\n            position.y = endPoint.y;\n        }\n    },\n\n    t: function(path, options) {\n        const { parameters, position, previousCommand } = options;\n        let controlPoint;\n\n        if (previousCommand === \"q\" || previousCommand === \"t\") {\n            let lastSegment = last(last(path.paths).segments);\n            controlPoint = lastSegment.controlIn().clone()\n                .translateWith(position.scaleCopy(-1 / 3))\n                .scale(3 / 2);\n        }\n\n        for (let i = 0; i < parameters.length; i += 2) {\n            let endPoint = new Point(parameters[i], parameters[i + 1]);\n            if (options.isRelative) {\n                endPoint.translateWith(position);\n            }\n\n            if (controlPoint) {\n                controlPoint = reflectionPoint(controlPoint, position);\n            } else {\n                controlPoint = position.clone();\n            }\n\n            let cubicControlPoints = quadraticToCubicControlPoints(position, controlPoint, endPoint);\n\n            path.curveTo(cubicControlPoints.controlOut, cubicControlPoints.controlIn, endPoint);\n\n            position.x = endPoint.x;\n            position.y = endPoint.y;\n        }\n    }\n};\n\nfunction toLineParamaters(parameters, isVertical, value) {\n    const insertPosition = isVertical ? 0 : 1;\n\n    for (let i = 0; i < parameters.length; i += 2) {\n        parameters.splice(i + insertPosition, 0, value);\n    }\n}\n\nfunction reflectionPoint(point, center) {\n    if (point && center) {\n        return center.scaleCopy(2).translate(-point.x, -point.y);\n    }\n}\n\nconst third = 1 / 3;\n\nfunction quadraticToCubicControlPoints(position, controlPoint, endPoint) {\n    const scaledPoint = controlPoint.clone().scale(2 / 3);\n    return {\n        controlOut: scaledPoint.clone().translateWith(position.scaleCopy(third)),\n        controlIn: scaledPoint.translateWith(endPoint.scaleCopy(third))\n    };\n}\n\nexport default ShapeMap;","import { Class } from '../common';\nimport MultiPath from '../shapes/multi-path';\nimport Path from '../shapes/path';\nimport Point from '../geometry/point';\nimport ShapeMap from './shape-map';\n\nconst SEGMENT_REGEX = /([a-df-z]{1})([^a-df-z]*)(z)?/gi;\nconst SPLIT_REGEX = /[,\\s]?([+\\-]?(?:\\d*\\.\\d+|\\d+)(?:[eE][+\\-]?\\d+)?)/g;\nconst MOVE = \"m\";\nconst CLOSE = \"z\";\n\nfunction parseParameters(str) {\n    const parameters = [];\n    str.replace(SPLIT_REGEX, function(match, number) {\n        parameters.push(parseFloat(number));\n    });\n    return parameters;\n}\n\nclass PathParser extends Class {\n\n    parse(str, options) {\n        const multiPath = new MultiPath(options);\n        const position = new Point();\n        let previousCommand;\n\n        str.replace(SEGMENT_REGEX, (match, element, params, closePath) => {\n            let command = element.toLowerCase();\n            const isRelative = command === element;\n            const parameters = parseParameters(params.trim());\n\n            if (command === MOVE) {\n                if (isRelative) {\n                    position.x += parameters[0];\n                    position.y += parameters[1];\n                } else {\n                    position.x = parameters[0];\n                    position.y = parameters[1];\n                }\n\n                multiPath.moveTo(position.x, position.y);\n\n                if (parameters.length > 2) {\n                    command = \"l\";\n                    parameters.splice(0, 2);\n                }\n            }\n\n            if (ShapeMap[command]) {\n                ShapeMap[command](\n                    multiPath, {\n                        parameters: parameters,\n                        position: position,\n                        isRelative: isRelative,\n                        previousCommand: previousCommand\n                    }\n                );\n\n                if (closePath && closePath.toLowerCase() === CLOSE) {\n                    multiPath.close();\n                }\n            } else if (command !== MOVE) {\n                throw new Error(\"Error while parsing SVG path. Unsupported command: \" + command);\n            }\n\n            previousCommand = command;\n        });\n\n        return multiPath;\n    }\n}\n\nPathParser.current = new PathParser();\n\nPath.parse = function(str, options) {\n    return PathParser.current.parse(str, options);\n};\n\nexport default PathParser;","import { Class, logToConsole } from '../common';\n\nclass SurfaceFactory extends Class {\n    constructor() {\n        super();\n\n        this._items = [];\n    }\n\n    register(name, type, order) {\n        const items = this._items;\n        const first = items[0];\n        const entry = {\n            name: name,\n            type: type,\n            order: order\n        };\n\n        if (!first || order < first.order) {\n            items.unshift(entry);\n        } else {\n            items.push(entry);\n        }\n    }\n\n    create(element, options) {\n        const items = this._items;\n        let match = items[0];\n\n        if (options && options.type) {\n            const preferred = options.type.toLowerCase();\n            for (let i = 0; i < items.length; i++) {\n                if (items[i].name === preferred) {\n                    match = items[i];\n                    break;\n                }\n            }\n        }\n\n        if (match) {\n            return new match.type(element, options);\n        }\n\n        logToConsole(\n            \"Warning: Unable to create Kendo UI Drawing Surface. Possible causes:\\n\" +\n            `- The browser does not support SVG and Canvas. User agent: ${ navigator.userAgent }`);\n    }\n}\n\nSurfaceFactory.current = new SurfaceFactory();\n\nexport default SurfaceFactory;","import Group from '../shapes/group';\nimport Point from '../geometry/point';\nimport SurfaceFactory from './surface-factory';\nimport { Observable } from '../common';\nimport { eventElement, eventCoordinates, elementStyles, elementSize, elementOffset } from '../util';\n\nconst events = [\n    \"click\",\n    \"mouseenter\",\n    \"mouseleave\",\n    \"mousemove\",\n    \"resize\"\n];\n\nclass Surface extends Observable {\n\n    constructor(element, options) {\n        super();\n\n        this.options = Object.assign({}, options);\n        this.element = element;\n        this.element._kendoExportVisual = this.exportVisual.bind(this);\n\n        this._click = this._handler(\"click\");\n        this._mouseenter = this._handler(\"mouseenter\");\n        this._mouseleave = this._handler(\"mouseleave\");\n        this._mousemove = this._handler(\"mousemove\");\n\n        this._visual = new Group();\n\n        elementSize(element, this.options);\n\n        this.bind(events, this.options);\n\n        this._enableTracking();\n    }\n\n    draw(element) {\n        this._visual.children.push(element);\n    }\n\n    clear() {\n        this._visual.children = [];\n    }\n\n    destroy() {\n        this._visual = null;\n        this.element._kendoExportVisual = null;\n        this.unbind();\n    }\n\n    eventTarget(e) {\n        let domNode = eventElement(e);\n        let node;\n\n        while (!node && domNode) {\n            node = domNode._kendoNode;\n            if (domNode === this.element) {\n                break;\n            }\n\n            domNode = domNode.parentElement;\n        }\n\n        if (node) {\n            return node.srcElement;\n        }\n    }\n\n    exportVisual() {\n        return this._visual;\n    }\n\n    getSize() {\n        return elementSize(this.element);\n    }\n\n    currentSize(size) {\n        if (size) {\n            this._size = size;\n        } else {\n            return this._size;\n        }\n    }\n\n    setSize(size) {\n        elementSize(this.element, size);\n\n        this.currentSize(size);\n        this._resize();\n    }\n\n    resize(force) {\n        const size = this.getSize();\n        const currentSize = this.currentSize();\n\n        if (force || (size.width > 0 || size.height > 0) && (!currentSize || size.width !== currentSize.width || size.height !== currentSize.height)) {\n            this.currentSize(size);\n            this._resize(size, force);\n            this.trigger(\"resize\", size);\n        }\n    }\n\n    size(value) {\n        if (!value) {\n            return this.getSize();\n        }\n\n        this.setSize(value);\n    }\n\n    suspendTracking() {\n        this._suspendedTracking = true;\n    }\n\n    resumeTracking() {\n        this._suspendedTracking = false;\n    }\n\n    _enableTracking() {}\n\n    _resize() {}\n\n    _handler(eventName) {\n        return (e) => {\n            const node = this.eventTarget(e);\n            if (node && !this._suspendedTracking) {\n                this.trigger(eventName, {\n                    element: node,\n                    originalEvent: e,\n                    type: eventName\n                });\n            }\n        };\n    }\n\n    _elementOffset() {\n        const element = this.element;\n        const { paddingLeft, paddingTop } = elementStyles(element, [ \"paddingLeft\", \"paddingTop\" ]);\n        const { left, top } = elementOffset(element);\n\n        return {\n            left: left + parseInt(paddingLeft, 10),\n            top: top + parseInt(paddingTop, 10)\n        };\n    }\n\n    _surfacePoint(e) {\n        const offset = this._elementOffset();\n        const coord = eventCoordinates(e);\n        const x = coord.x - offset.left;\n        const y = coord.y - offset.top;\n\n        return new Point(x, y);\n    }\n}\n\nSurface.create = function(element, options) {\n    return SurfaceFactory.current.create(element, options);\n};\n\nSurface.support = {};\n\nexport default Surface;\n","import { Class } from '../common';\n\nclass BaseNode extends Class {\n    constructor(srcElement) {\n        super();\n\n        this.childNodes = [];\n        this.parent = null;\n\n        if (srcElement) {\n            this.srcElement = srcElement;\n            this.observe();\n        }\n    }\n\n    destroy() {\n        if (this.srcElement) {\n            this.srcElement.removeObserver(this);\n        }\n\n        const children = this.childNodes;\n        for (let i = 0; i < children.length; i++) {\n            this.childNodes[i].destroy();\n        }\n\n        this.parent = null;\n    }\n\n    load() {}\n\n    observe() {\n        if (this.srcElement) {\n            this.srcElement.addObserver(this);\n        }\n    }\n\n    append(node) {\n        this.childNodes.push(node);\n        node.parent = this;\n    }\n\n    insertAt(node, pos) {\n        this.childNodes.splice(pos, 0, node);\n        node.parent = this;\n    }\n\n    remove(index, count) {\n        const end = index + count;\n        for (let i = index; i < end; i++) {\n            this.childNodes[i].removeSelf();\n        }\n        this.childNodes.splice(index, count);\n    }\n\n    removeSelf() {\n        this.clear();\n        this.destroy();\n    }\n\n    clear() {\n        this.remove(0, this.childNodes.length);\n    }\n\n    invalidate() {\n        if (this.parent) {\n            this.parent.invalidate();\n        }\n    }\n\n    geometryChange() {\n        this.invalidate();\n    }\n\n    optionsChange() {\n        this.invalidate();\n    }\n\n    childrenChange(e) {\n        if (e.action === \"add\") {\n            this.load(e.items, e.index);\n        } else if (e.action === \"remove\") {\n            this.remove(e.index, e.items.length);\n        }\n\n        this.invalidate();\n    }\n}\n\nexport default BaseNode;","import { defined } from '../../util';\n\nexport default function renderAttr(name, value) {\n    return (defined(value) && value !== null) ? ` ${ name }='${ value }' ` : \"\";\n}","import renderAttr from './render-attribute';\n\nexport default function renderAllAttr(attrs) {\n    let output = \"\";\n    for (let i = 0; i < attrs.length; i++) {\n        output += renderAttr(attrs[i][0], attrs[i][1]);\n    }\n\n    return output;\n}","import { defined } from '../../util';\n\nexport default function renderStyle(attrs) {\n    let output = \"\";\n    for (let i = 0; i < attrs.length; i++) {\n        let value = attrs[i][1];\n        if (defined(value)) {\n            output += attrs[i][0] + \":\" + value + \";\";\n        }\n    }\n\n    if (output !== \"\") {\n        return output;\n    }\n}","const NODE_MAP = {};\n\nexport default NODE_MAP;","const SVG_NS = \"http://www.w3.org/2000/svg\";\nconst NONE = \"none\";\n\nexport { SVG_NS, NONE };","import { SVG_NS } from '../constants';\n\nlet renderSVG = function(container, svg) {\n    container.innerHTML = svg;\n};\n\nif (typeof document !== \"undefined\") {\n    const testFragment = \"<svg xmlns='\" + SVG_NS + \"'></svg>\";\n    const testContainer = document.createElement(\"div\");\n    const hasParser = typeof DOMParser !== \"undefined\";\n\n    testContainer.innerHTML = testFragment;\n\n    if (hasParser && testContainer.firstChild.namespaceURI !== SVG_NS) {\n        renderSVG = function(container, svg) {\n            const parser = new DOMParser();\n            const chartDoc = parser.parseFromString(svg, \"text/xml\");\n            const importedDoc = document.adoptNode(chartDoc.documentElement);\n\n            container.innerHTML = \"\";\n            container.appendChild(importedDoc);\n        };\n    }\n}\n\nexport default renderSVG;","import BaseNode from '../core/base-node';\nimport renderAllAttr from './utils/render-all-attributes';\nimport renderAttr from './utils/render-attribute';\nimport renderStyle from './utils/render-style';\nimport NODE_MAP from './node-map';\nimport renderSVG from './utils/render-svg';\nimport { SVG_NS, NONE } from './constants';\nimport { support } from '../common';\nimport { defined } from '../util';\n\nconst TRANSFORM = \"transform\";\nconst DefinitionMap = {\n    clip: \"clip-path\",\n    fill: \"fill\"\n};\n\nfunction isDefinition(type, value) {\n    return type === \"clip\" || (type === \"fill\" && (!value || value.nodeType === \"Gradient\"));\n}\n\nfunction baseUrl() {\n    const base = document.getElementsByTagName(\"base\")[0];\n    let href = document.location.href;\n    const hashIndex = href.indexOf(\"#\");\n    let url = \"\";\n\n    if (base && !support.browser.msie) {\n        if (hashIndex !== -1) {\n            href = href.substring(0, hashIndex);\n        }\n\n        url = href;\n    }\n\n    return url;\n}\n\nfunction refUrl(id, skipBaseHref) {\n    const base = skipBaseHref ? '' : baseUrl();\n    return `url(${ base }#${ id })`;\n}\n\nclass Node extends BaseNode {\n\n    constructor(srcElement, options) {\n        super(srcElement);\n        this.definitions = {};\n\n        this.options = options;\n    }\n\n    destroy() {\n        if (this.element) {\n            this.element._kendoNode = null;\n            this.element = null;\n        }\n\n        this.clearDefinitions();\n        super.destroy();\n    }\n\n    load(elements, pos) {\n        for (let i = 0; i < elements.length; i++) {\n            const srcElement = elements[i];\n            const children = srcElement.children;\n\n            const childNode = new NODE_MAP[srcElement.nodeType](srcElement, this.options);\n\n            if (defined(pos)) {\n                this.insertAt(childNode, pos);\n            } else {\n                this.append(childNode);\n            }\n\n            childNode.createDefinitions();\n\n            if (children && children.length > 0) {\n                childNode.load(children);\n            }\n\n            const element = this.element;\n            if (element) {\n                childNode.attachTo(element, pos);\n            }\n        }\n    }\n\n    root() {\n        let root = this;\n\n        while (root.parent) {\n            root = root.parent;\n        }\n\n        return root;\n    }\n\n    attachTo(domElement, pos) {\n        const container = document.createElement(\"div\");\n        renderSVG(container,\n            \"<svg xmlns='\" + SVG_NS + \"' version='1.1'>\" +\n                this.render() +\n            \"</svg>\"\n        );\n\n        const element = container.firstChild.firstChild;\n        if (element) {\n            if (defined(pos)) {\n                domElement.insertBefore(element, domElement.childNodes[pos] || null);\n            } else {\n                domElement.appendChild(element);\n            }\n            this.setElement(element);\n        }\n    }\n\n    setElement(element) {\n        if (this.element) {\n            this.element._kendoNode = null;\n        }\n\n        this.element = element;\n        this.element._kendoNode = this;\n\n        const nodes = this.childNodes;\n        for (let i = 0; i < nodes.length; i++) {\n            let childElement = element.childNodes[i];\n            nodes[i].setElement(childElement);\n        }\n    }\n\n    clear() {\n        this.clearDefinitions();\n\n        if (this.element) {\n            this.element.innerHTML = \"\";\n        }\n\n        const children = this.childNodes;\n        for (let i = 0; i < children.length; i++) {\n            children[i].destroy();\n        }\n\n        this.childNodes = [];\n    }\n\n    removeSelf() {\n        if (this.element) {\n            const parentNode = this.element.parentNode;\n            if (parentNode) {\n                parentNode.removeChild(this.element);\n            }\n            this.element = null;\n        }\n\n        super.removeSelf();\n    }\n\n    template() {\n        return this.renderChildren();\n    }\n\n    render() {\n        return this.template();\n    }\n\n    renderChildren() {\n        const nodes = this.childNodes;\n        let output = \"\";\n\n        for (let i = 0; i < nodes.length; i++) {\n            output += nodes[i].render();\n        }\n\n        return output;\n    }\n\n    optionsChange(e) {\n        const { field, value } = e;\n\n        if (field === \"visible\") {\n            this.css(\"display\", value ? \"\" : NONE);\n        } else if (DefinitionMap[field] && isDefinition(field, value)) {\n            this.updateDefinition(field, value);\n        } else if (field === \"opacity\") {\n            this.attr(\"opacity\", value);\n        } else if (field === \"cursor\") {\n            this.css(\"cursor\", value);\n        } else if (field === \"id\") {\n            if (value) {\n                this.attr(\"id\", value);\n            } else {\n                this.removeAttr(\"id\");\n            }\n        }\n\n        super.optionsChange(e);\n    }\n\n    attr(name, value) {\n        if (this.element) {\n            this.element.setAttribute(name, value);\n        }\n    }\n\n    allAttr(attrs) {\n        for (let i = 0; i < attrs.length; i++) {\n            this.attr(attrs[i][0], attrs[i][1]);\n        }\n    }\n\n    css(name, value) {\n        if (this.element) {\n            this.element.style[name] = value;\n        }\n    }\n\n    allCss(styles) {\n        for (let i = 0; i < styles.length; i++) {\n            this.css(styles[i][0], styles[i][1]);\n        }\n    }\n\n    removeAttr(name) {\n        if (this.element) {\n            this.element.removeAttribute(name);\n        }\n    }\n\n    mapTransform(transform) {\n        const attrs = [];\n        if (transform) {\n            attrs.push([\n                TRANSFORM,\n                \"matrix(\" + transform.matrix().toString(6) + \")\"\n            ]);\n        }\n\n        return attrs;\n    }\n\n    renderTransform() {\n        return renderAllAttr(\n            this.mapTransform(this.srcElement.transform())\n        );\n    }\n\n    transformChange(value) {\n        if (value) {\n            this.allAttr(this.mapTransform(value));\n        } else {\n            this.removeAttr(TRANSFORM);\n        }\n    }\n\n    mapStyle() {\n        const options = this.srcElement.options;\n        const style = [ [ \"cursor\", options.cursor ] ];\n\n        if (options.visible === false) {\n            style.push([ \"display\", NONE ]);\n        }\n\n        return style;\n    }\n\n    renderStyle() {\n        return renderAttr(\"style\", renderStyle(this.mapStyle(true)));\n    }\n\n    renderOpacity() {\n        return renderAttr(\"opacity\", this.srcElement.options.opacity);\n    }\n\n    renderId() {\n        return renderAttr(\"id\", this.srcElement.options.id);\n    }\n\n    createDefinitions() {\n        const srcElement = this.srcElement;\n        const definitions = this.definitions;\n        if (srcElement) {\n            const options = srcElement.options;\n            let hasDefinitions;\n\n            for (let field in DefinitionMap) {\n                let definition = options.get(field);\n                if (definition && isDefinition(field, definition)) {\n                    definitions[field] = definition;\n                    hasDefinitions = true;\n                }\n            }\n            if (hasDefinitions) {\n                this.definitionChange({\n                    action: \"add\",\n                    definitions: definitions\n                });\n            }\n        }\n    }\n\n    definitionChange(e) {\n        if (this.parent) {\n            this.parent.definitionChange(e);\n        }\n    }\n\n    updateDefinition(type, value) {\n        const definitions = this.definitions;\n        const current = definitions[type];\n        const attr = DefinitionMap[type];\n        const definition = {};\n        if (current) {\n            definition[type] = current;\n            this.definitionChange({\n                action: \"remove\",\n                definitions: definition\n            });\n            delete definitions[type];\n        }\n\n        if (!value) {\n            if (current) {\n                this.removeAttr(attr);\n            }\n        } else {\n            definition[type] = value;\n            this.definitionChange({\n                action: \"add\",\n                definitions: definition\n            });\n            definitions[type] = value;\n            this.attr(attr, this.refUrl(value.id));\n        }\n    }\n\n    clearDefinitions() {\n        const definitions = this.definitions;\n\n        this.definitionChange({\n            action: \"remove\",\n            definitions: definitions\n        });\n        this.definitions = {};\n    }\n\n    renderDefinitions() {\n        return renderAllAttr(this.mapDefinitions());\n    }\n\n    mapDefinitions() {\n        const definitions = this.definitions;\n        const attrs = [];\n\n        for (let field in definitions) {\n            attrs.push([ DefinitionMap[field], this.refUrl(definitions[field].id) ]);\n        }\n\n        return attrs;\n    }\n\n    refUrl(id) {\n        const skipBaseHref = (this.options || {}).skipBaseHref;\n        return refUrl(id, skipBaseHref);\n    }\n}\n\nexport default Node;","import Node from './node';\nimport renderAttr from './utils/render-attribute';\n\nclass GradientStopNode extends Node {\n    template() {\n        return `<stop ${this.renderOffset()} ${this.renderStyle()} />`;\n    }\n\n    renderOffset() {\n        return renderAttr(\"offset\", this.srcElement.offset());\n    }\n\n    mapStyle() {\n        const srcElement = this.srcElement;\n        return [\n            [ \"stop-color\", srcElement.color() ],\n            [ \"stop-opacity\", srcElement.opacity() ]\n        ];\n    }\n\n    optionsChange(e) {\n        if (e.field === \"offset\") {\n            this.attr(e.field, e.value);\n        } else if (e.field === \"color\" || e.field === \"opacity\") {\n            this.css(\"stop-\" + e.field, e.value);\n        }\n    }\n}\n\nexport default GradientStopNode;","import GradientStopNode from './gradient-stop-node';\nimport BaseNode from '../core/base-node';\nimport Node from './node';\nimport renderAllAttr from './utils/render-all-attributes';\n\nclass GradientNode extends Node {\n    constructor(srcElement) {\n        super(srcElement);\n\n        this.id = srcElement.id;\n\n        this.loadStops();\n    }\n\n    loadStops() {\n        const stops = this.srcElement.stops;\n        const element = this.element;\n\n        for (let idx = 0; idx < stops.length; idx++) {\n            let stopNode = new GradientStopNode(stops[idx]);\n            this.append(stopNode);\n            if (element) {\n                stopNode.attachTo(element);\n            }\n        }\n    }\n\n    optionsChange(e) {\n        if (e.field === \"gradient.stops\") {\n            BaseNode.prototype.clear.call(this);\n            this.loadStops();\n        } else if (e.field === \"gradient\") {\n            this.allAttr(this.mapCoordinates());\n        }\n    }\n\n    renderCoordinates() {\n        return renderAllAttr(this.mapCoordinates());\n    }\n\n    mapSpace() {\n        return [ \"gradientUnits\", this.srcElement.userSpace() ? \"userSpaceOnUse\" : \"objectBoundingBox\" ];\n    }\n}\n\nexport default GradientNode;","import GradientNode from './gradient-node';\n\nclass LinearGradientNode extends GradientNode {\n    template() {\n        return `<linearGradient id='${ this.id }' ${ this.renderCoordinates() }>${ this.renderChildren() }</linearGradient>`;\n    }\n\n    mapCoordinates() {\n        const srcElement = this.srcElement;\n        const start = srcElement.start();\n        const end = srcElement.end();\n        const attrs = [\n            [ \"x1\", start.x ],\n            [ \"y1\", start.y ],\n            [ \"x2\", end.x ],\n            [ \"y2\", end.y ],\n            this.mapSpace()\n        ];\n\n        return attrs;\n    }\n}\n\nexport default LinearGradientNode;","import GradientNode from './gradient-node';\n\nclass RadialGradientNode extends GradientNode {\n    template() {\n        return `<radialGradient id='${ this.id }' ${ this.renderCoordinates()}>${ this.renderChildren() }</radialGradient>`;\n    }\n\n    mapCoordinates() {\n        const srcElement = this.srcElement;\n        const center = srcElement.center();\n        const radius = srcElement.radius();\n        const attrs = [\n            [ \"cx\", center.x ],\n            [ \"cy\", center.y ],\n            [ \"r\", radius ],\n            this.mapSpace()\n        ];\n        return attrs;\n    }\n}\n\nexport default RadialGradientNode;","import Node from './node';\n\nclass ClipNode extends Node {\n    constructor(srcElement) {\n        super();\n\n        this.srcElement = srcElement;\n        this.id = srcElement.id;\n\n        this.load([ srcElement ]);\n    }\n\n    template() {\n        return `<clipPath id='${ this.id }'>${ this.renderChildren() }</clipPath>`;\n    }\n}\n\nexport default ClipNode;","import LinearGradient from '../gradients/linear-gradient';\nimport RadialGradient from '../gradients/radial-gradient';\nimport LinearGradientNode from './linear-gradient-node';\nimport RadialGradientNode from './radial-gradient-node';\nimport Node from './node';\nimport ClipNode from './clip-node';\n\nclass DefinitionNode extends Node {\n    constructor() {\n        super();\n        this.definitionMap = {};\n    }\n\n    attachTo(domElement) {\n        this.element = domElement;\n    }\n\n    template() {\n        return `<defs>${ this.renderChildren() }</defs>`;\n    }\n\n    definitionChange(e) {\n        const { definitions, action } = e;\n\n        if (action === \"add\") {\n            this.addDefinitions(definitions);\n        } else if (action === \"remove\") {\n            this.removeDefinitions(definitions);\n        }\n    }\n\n    createDefinition(type, item) {\n        let nodeType;\n        if (type === \"clip\") {\n            nodeType = ClipNode;\n        } else if (type === \"fill\") {\n            if (item instanceof LinearGradient) {\n                nodeType = LinearGradientNode;\n            } else if (item instanceof RadialGradient) {\n                nodeType = RadialGradientNode;\n            }\n        }\n        return new nodeType(item);\n    }\n\n    addDefinitions(definitions) {\n        for (let field in definitions) {\n            this.addDefinition(field, definitions[field]);\n        }\n    }\n\n    addDefinition(type, srcElement) {\n        const { element, definitionMap } = this;\n        const id = srcElement.id;\n        const mapItem = definitionMap[id];\n        if (!mapItem) {\n            const node = this.createDefinition(type, srcElement);\n            definitionMap[id] = {\n                element: node,\n                count: 1\n            };\n            this.append(node);\n            if (element) {\n                node.attachTo(this.element);\n            }\n        } else {\n            mapItem.count++;\n        }\n    }\n\n    removeDefinitions(definitions) {\n        for (let field in definitions) {\n            this.removeDefinition(definitions[field]);\n        }\n    }\n\n    removeDefinition(srcElement) {\n        const definitionMap = this.definitionMap;\n        const id = srcElement.id;\n        const mapItem = definitionMap[id];\n\n        if (mapItem) {\n            mapItem.count--;\n            if (mapItem.count === 0) {\n                this.remove(this.childNodes.indexOf(mapItem.element), 1);\n                delete definitionMap[id];\n            }\n        }\n    }\n}\n\nexport default DefinitionNode;","import BaseNode from '../core/base-node';\nimport Node from './node';\nimport DefinitionNode from './definition-node';\n\nclass RootNode extends Node {\n    constructor(options) {\n        super();\n        this.options = options;\n        this.defs = new DefinitionNode();\n    }\n\n    attachTo(domElement) {\n        this.element = domElement;\n        this.defs.attachTo(domElement.firstElementChild);\n    }\n\n    clear() {\n        BaseNode.prototype.clear.call(this);\n    }\n\n    template() {\n        return this.defs.render() + this.renderChildren();\n    }\n\n    definitionChange(e) {\n        this.defs.definitionChange(e);\n    }\n}\n\nexport default RootNode;","import BaseSurface from '../core/surface';\nimport SurfaceFactory from '../core/surface-factory';\nimport RootNode from './root-node';\nimport Group from '../shapes/group';\nimport transform from '../geometry/transform';\nimport renderSVG from './utils/render-svg';\nimport { SVG_NS } from './constants';\nimport { bindEvents, unbindEvents, elementStyles } from '../util';\n\nconst RTL = 'rtl';\n\nfunction alignToScreen(element) {\n    let ctm;\n\n    try {\n        ctm = element.getScreenCTM ? element.getScreenCTM() : null;\n    } catch (e) { } // eslint-disable-line no-empty\n\n    if (ctm) {\n        const left = - ctm.e % 1;\n        const top = - ctm.f % 1;\n        const style = element.style;\n\n        if (left !== 0 || top !== 0) {\n            style.left = left + \"px\";\n            style.top = top + \"px\";\n        }\n    }\n}\n\nclass Surface extends BaseSurface {\n    constructor(element, options) {\n        super(element, options);\n\n        this._root = new RootNode(Object.assign({\n            rtl: elementStyles(element, 'direction').direction === RTL\n        }, this.options));\n\n        renderSVG(this.element, this._template());\n\n        this._rootElement = this.element.firstElementChild;\n\n        alignToScreen(this._rootElement);\n\n        this._root.attachTo(this._rootElement);\n\n        bindEvents(this.element, {\n            click: this._click,\n            mouseover: this._mouseenter,\n            mouseout: this._mouseleave,\n            mousemove: this._mousemove\n        });\n\n        this.resize();\n    }\n\n    destroy() {\n        if (this._root) {\n            this._root.destroy();\n            this._root = null;\n            this._rootElement = null;\n            unbindEvents(this.element, {\n                click: this._click,\n                mouseover: this._mouseenter,\n                mouseout: this._mouseleave,\n                mousemove: this._mousemove\n            });\n        }\n\n        super.destroy();\n    }\n\n    translate(offset) {\n        const viewBox = `${ Math.round(offset.x) } ${ Math.round(offset.y) } ${ this._size.width } ${ this._size.height }`;\n\n        this._offset = offset;\n        this._rootElement.setAttribute(\"viewBox\", viewBox);\n    }\n\n    draw(element) {\n        super.draw(element);\n        this._root.load([ element ]);\n    }\n\n    clear() {\n        super.clear();\n        this._root.clear();\n    }\n\n    svg() {\n        return \"<?xml version='1.0' ?>\" + this._template();\n    }\n\n    exportVisual() {\n        let { _visual: visual, _offset: offset } = this;\n\n        if (offset) {\n            const wrap = new Group();\n            wrap.children.push(visual);\n\n            wrap.transform(\n                transform().translate(-offset.x, -offset.y)\n            );\n\n            visual = wrap;\n        }\n\n        return visual;\n    }\n\n    _resize() {\n        if (this._offset) {\n            this.translate(this._offset);\n        }\n    }\n\n    _template() {\n        return `<svg style='width: 100%; height: 100%; overflow: hidden;' xmlns='${ SVG_NS }' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1'>${ this._root.render() }</svg>`;\n    }\n}\n\nSurface.prototype.type = \"svg\";\n\nif (typeof document !== \"undefined\" && document.implementation.hasFeature(\"http://www.w3.org/TR/SVG11/feature#BasicStructure\", \"1.1\")) {\n    BaseSurface.support.svg = true;\n    SurfaceFactory.current.register(\"svg\", Surface, 10);\n}\n\nexport default Surface;","import Node from './node';\nimport NODE_MAP from './node-map';\n\nclass GroupNode extends Node {\n    template() {\n        return `<g${ this.renderId() + this.renderTransform() + this.renderStyle() + this.renderOpacity() + this.renderDefinitions() }>${ this.renderChildren() }</g>`;\n    }\n\n    optionsChange(e) {\n        if (e.field === \"transform\") {\n            this.transformChange(e.value);\n        }\n\n        super.optionsChange(e);\n    }\n}\n\nNODE_MAP.Group = GroupNode;\n\nexport default GroupNode;","const DASH_ARRAYS = {\n    dot: [ 1.5, 3.5 ],\n    dash: [ 4, 3.5 ],\n    longdash: [ 8, 3.5 ],\n    dashdot: [ 3.5, 3.5, 1.5, 3.5 ],\n    longdashdot: [ 8, 3.5, 1.5, 3.5 ],\n    longdashdotdot: [ 8, 3.5, 1.5, 3.5, 1.5, 3.5 ]\n};\n\nconst SOLID = \"solid\";\nconst BUTT = \"butt\";\n\nexport { DASH_ARRAYS, SOLID, BUTT };","import Node from './node';\nimport { defined, isTransparent } from '../util';\nimport { DASH_ARRAYS, SOLID, BUTT } from '../core/constants';\nimport { NONE } from './constants';\nimport renderAllAttr from './utils/render-all-attributes';\nimport renderAttr from './utils/render-attribute';\nimport NODE_MAP from './node-map';\n\nconst ATTRIBUTE_MAP = {\n    \"fill.opacity\": \"fill-opacity\",\n    \"stroke.color\": \"stroke\",\n    \"stroke.width\": \"stroke-width\",\n    \"stroke.opacity\": \"stroke-opacity\"\n};\nconst SPACE = \" \";\n\nclass PathNode extends Node {\n\n    geometryChange() {\n        this.attr(\"d\", this.renderData());\n        this.invalidate();\n    }\n\n    optionsChange(e) {\n        switch (e.field) {\n            case \"fill\":\n                if (e.value) {\n                    this.allAttr(this.mapFill(e.value));\n                } else {\n                    this.removeAttr(\"fill\");\n                }\n                break;\n\n            case \"fill.color\":\n                this.allAttr(this.mapFill({ color: e.value }));\n                break;\n\n            case \"stroke\":\n                if (e.value) {\n                    this.allAttr(this.mapStroke(e.value));\n                } else {\n                    this.removeAttr(\"stroke\");\n                }\n                break;\n\n            case \"transform\":\n                this.transformChange(e.value);\n                break;\n\n            default:\n                const name = ATTRIBUTE_MAP[e.field];\n                if (name) {\n                    this.attr(name, e.value);\n                }\n                break;\n        }\n\n        super.optionsChange(e);\n    }\n\n    content() {\n        if (this.element) {\n            this.element.textContent = this.srcElement.content();\n        }\n    }\n\n    renderData() {\n        return this.printPath(this.srcElement);\n    }\n\n    printPath(path) {\n        const segments = path.segments;\n        const length = segments.length;\n        if (length > 0) {\n            const parts = [];\n            let output, currentType;\n\n            for (let i = 1; i < length; i++) {\n                let segmentType = this.segmentType(segments[i - 1], segments[i]);\n                if (segmentType !== currentType) {\n                    currentType = segmentType;\n                    parts.push(segmentType);\n                }\n\n                if (segmentType === \"L\") {\n                    parts.push(this.printPoints(segments[i].anchor()));\n                } else {\n                    parts.push(this.printPoints(segments[i - 1].controlOut(), segments[i].controlIn(), segments[i].anchor()));\n                }\n            }\n\n            output = \"M\" + this.printPoints(segments[0].anchor()) + SPACE + parts.join(SPACE);\n            if (path.options.closed) {\n                output += \"Z\";\n            }\n\n            return output;\n        }\n    }\n\n    printPoints() {\n        const points = arguments;\n        const length = points.length;\n        const result = [];\n\n        for (let i = 0; i < length; i++) {\n            result.push(points[i].toString(3));\n        }\n\n        return result.join(\" \");\n    }\n\n    segmentType(segmentStart, segmentEnd) {\n        return segmentStart.controlOut() && segmentEnd.controlIn() ? \"C\" : \"L\";\n    }\n\n    mapStroke(stroke) {\n        const attrs = [];\n\n        if (stroke && !isTransparent(stroke.color)) {\n            attrs.push([ \"stroke\", stroke.color ]);\n            attrs.push([ \"stroke-width\", stroke.width ]);\n            attrs.push([ \"stroke-linecap\", this.renderLinecap(stroke) ]);\n            attrs.push([ \"stroke-linejoin\", stroke.lineJoin ]);\n\n            if (defined(stroke.opacity)) {\n                attrs.push([ \"stroke-opacity\", stroke.opacity ]);\n            }\n\n            if (defined(stroke.dashType)) {\n                attrs.push([ \"stroke-dasharray\", this.renderDashType(stroke) ]);\n            }\n        } else {\n            attrs.push([ \"stroke\", NONE ]);\n        }\n\n        return attrs;\n    }\n\n    renderStroke() {\n        return renderAllAttr(\n            this.mapStroke(this.srcElement.options.stroke)\n        );\n    }\n\n    renderDashType(stroke) {\n        const { dashType, width = 1 } = stroke;\n\n        if (dashType && dashType !== SOLID) {\n            const dashArray = DASH_ARRAYS[dashType.toLowerCase()];\n            const result = [];\n\n            for (let i = 0; i < dashArray.length; i++) {\n                result.push(dashArray[i] * width);\n            }\n\n            return result.join(\" \");\n        }\n    }\n\n    renderLinecap(stroke) {\n        const { dashType, lineCap } = stroke;\n\n        return (dashType && dashType !== \"solid\") ? BUTT : lineCap;\n    }\n\n    mapFill(fill) {\n        const attrs = [];\n        if (!(fill && fill.nodeType === \"Gradient\")) {\n            if (fill && !isTransparent(fill.color)) {\n                attrs.push([ \"fill\", fill.color ]);\n\n                if (defined(fill.opacity)) {\n                    attrs.push([ \"fill-opacity\", fill.opacity ]);\n                }\n            } else {\n                attrs.push([ \"fill\", NONE ]);\n            }\n        }\n\n        return attrs;\n    }\n\n    renderFill() {\n        return renderAllAttr(\n            this.mapFill(this.srcElement.options.fill)\n        );\n    }\n\n    template() {\n        return `<path ${ this.renderId() } ${ this.renderStyle() } ${ this.renderOpacity() } ${ renderAttr('d', this.renderData()) }` +\n                    `${ this.renderStroke() }${ this.renderFill() }${ this.renderDefinitions() }${ this.renderTransform() }></path>`;\n    }\n}\n\nNODE_MAP.Path = PathNode;\n\nexport default PathNode;","import PathNode from './path-node';\nimport NODE_MAP from './node-map';\n\nclass ArcNode extends PathNode {\n    renderData() {\n        return this.printPath(this.srcElement.toPath());\n    }\n}\n\nNODE_MAP.Arc = ArcNode;\n\nexport default ArcNode;","import PathNode from './path-node';\nimport NODE_MAP from './node-map';\n\nclass CircleNode extends PathNode {\n\n    geometryChange() {\n        const center = this.center();\n        this.attr(\"cx\", center.x);\n        this.attr(\"cy\", center.y);\n        this.attr(\"r\", this.radius());\n        this.invalidate();\n    }\n\n    center() {\n        return this.srcElement.geometry().center;\n    }\n\n    radius() {\n        return this.srcElement.geometry().radius;\n    }\n\n    template() {\n        return `<circle ${ this.renderId() } ${ this.renderStyle() } ${ this.renderOpacity() }` +\n                    `cx='${ this.center().x }' cy='${ this.center().y }' r='${ this.radius() }'` +\n                    `${ this.renderStroke() } ${ this.renderFill() } ${ this.renderDefinitions() }` +\n                    `${ this.renderTransform() } ></circle>`;\n    }\n}\n\nNODE_MAP.Circle = CircleNode;\n\nexport default CircleNode;","import PathNode from './path-node';\nimport NODE_MAP from './node-map';\n\nclass RectNode extends PathNode {\n\n    geometryChange() {\n        const geometry = this.srcElement.geometry();\n        this.attr(\"x\", geometry.origin.x);\n        this.attr(\"y\", geometry.origin.y);\n        this.attr(\"width\", geometry.size.width);\n        this.attr(\"height\", geometry.size.height);\n        this.invalidate();\n    }\n\n    size() {\n        return this.srcElement.geometry().size;\n    }\n\n    origin() {\n        return this.srcElement.geometry().origin;\n    }\n\n    template() {\n        return `<rect ${ this.renderId() } ${ this.renderStyle() } ${ this.renderOpacity() } x='${ this.origin().x }' y='${ this.origin().y }' ` +\n                    `width='${ this.size().width }' height='${ this.size().height }' ${ this.renderStroke() } ` +\n                    `${ this.renderFill() } ${ this.renderDefinitions() } ${ this.renderTransform() } />`;\n    }\n}\n\nNODE_MAP.Rect = RectNode;\n\nexport default RectNode;","import PathNode from './path-node';\nimport NODE_MAP from './node-map';\nimport renderAllAttr from './utils/render-all-attributes';\nimport { htmlEncode } from '../common';\n\nclass ImageNode extends PathNode {\n\n    geometryChange() {\n        this.allAttr(this.mapPosition());\n        this.invalidate();\n    }\n\n    optionsChange(e) {\n        if (e.field === \"src\") {\n            this.allAttr(this.mapSource());\n        }\n\n        super.optionsChange(e);\n    }\n\n    mapPosition() {\n        const rect = this.srcElement.rect();\n        const tl = rect.topLeft();\n\n        return [\n            [ \"x\", tl.x ],\n            [ \"y\", tl.y ],\n            [ \"width\", rect.width() + \"px\" ],\n            [ \"height\", rect.height() + \"px\" ]\n        ];\n    }\n\n    renderPosition() {\n        return renderAllAttr(this.mapPosition());\n    }\n\n    mapSource(encode) {\n        let src = this.srcElement.src();\n\n        if (encode) {\n            src = htmlEncode(src);\n        }\n\n        return [ [ \"xlink:href\", src ] ];\n    }\n\n    renderSource() {\n        return renderAllAttr(this.mapSource(true));\n    }\n\n    template() {\n        return `<image preserveAspectRatio='none' ${ this.renderId() } ${ this.renderStyle() } ${ this.renderTransform()} ${ this.renderOpacity() }` +\n               `${ this.renderPosition() } ${ this.renderSource() } ${ this.renderDefinitions()}>` +\n               `</image>`;\n    }\n}\n\nNODE_MAP.Image = ImageNode;\n\nexport default ImageNode;","import PathNode from './path-node';\nimport renderStyle from './utils/render-style';\nimport renderAttr from './utils/render-attribute';\nimport NODE_MAP from './node-map';\nimport { htmlEncode, support } from '../common';\nimport { normalizeText } from '../text-metrics';\n\nconst ENTITY_REGEX = /&(?:[a-zA-Z]+|#\\d+);/g;\n\nfunction decodeEntities(text) {\n    if (!text || typeof text !== \"string\" || !ENTITY_REGEX.test(text)) {\n        return text;\n    }\n\n    const element = decodeEntities._element;\n    ENTITY_REGEX.lastIndex = 0;\n\n    return text.replace(ENTITY_REGEX, (match) => {\n        element.innerHTML = match;\n\n        return element.textContent || element.innerText;\n    });\n}\n\nif (typeof document !== \"undefined\") {\n    decodeEntities._element = document.createElement(\"span\");\n}\n\nclass TextNode extends PathNode {\n\n    geometryChange() {\n        const pos = this.pos();\n        this.attr(\"x\", pos.x);\n        this.attr(\"y\", pos.y);\n        this.invalidate();\n    }\n\n    optionsChange(e) {\n        if (e.field === \"font\") {\n            this.attr(\"style\", renderStyle(this.mapStyle()));\n            this.geometryChange();\n        } else if (e.field === \"content\") {\n            super.content(this.srcElement.content());\n        }\n\n        super.optionsChange(e);\n    }\n\n    mapStyle(encode) {\n        const style = super.mapStyle(encode);\n        let font = this.srcElement.options.font;\n\n        if (encode) {\n            font = htmlEncode(font);\n        }\n\n        style.push([ \"font\", font ], [ \"white-space\", \"pre\" ]);\n\n        return style;\n    }\n\n    pos() {\n        const pos = this.srcElement.position();\n        const size = this.srcElement.measure();\n        return pos.clone().setY(pos.y + size.baseline);\n    }\n\n    renderContent() {\n        let content = this.srcElement.content();\n        content = decodeEntities(content);\n        content = htmlEncode(content);\n\n        return normalizeText(content);\n    }\n\n    renderTextAnchor() {\n        let anchor;\n\n        if ((this.options || {}).rtl && !(support.browser.msie || support.browser.edge)) {\n            anchor = 'end';\n        }\n\n        return renderAttr(\"text-anchor\", anchor);\n    }\n\n    template() {\n        return `<text ${ this.renderId() } ${ this.renderTextAnchor() } ${ this.renderStyle() } ${ this.renderOpacity() }` +\n                    `x='${ this.pos().x }' y='${ this.pos().y }' ${ this.renderStroke() } ${ this.renderTransform() } ${ this.renderDefinitions() }` +\n                    `${ this.renderFill() }>${ this.renderContent() }</text>`;\n    }\n}\n\nNODE_MAP.Text = TextNode;\n\nexport default TextNode;","import PathNode from './path-node';\nimport NODE_MAP from './node-map';\n\nclass MultiPathNode extends PathNode {\n    renderData() {\n        const paths = this.srcElement.paths;\n\n        if (paths.length > 0) {\n            const result = [];\n\n            for (let i = 0; i < paths.length; i++) {\n                result.push(this.printPath(paths[i]));\n            }\n\n            return result.join(\" \");\n        }\n    }\n}\n\nNODE_MAP.MultiPath = MultiPathNode;\n\nexport default MultiPathNode;","import RootNode from './root-node';\nimport { Group } from '../shapes';\nimport { transform } from '../geometry';\nimport { SVG_NS } from './constants';\n\nexport default function exportGroup(group) {\n    const root = new RootNode({\n        skipBaseHref: true\n    });\n    const bbox = group.clippedBBox();\n    let rootGroup = group;\n\n    if (bbox) {\n        const origin = bbox.getOrigin();\n        const exportRoot = new Group();\n        exportRoot.transform(transform().translate(-origin.x, -origin.y));\n        exportRoot.children.push(group);\n        rootGroup = exportRoot;\n    }\n\n    root.load([ rootGroup ]);\n\n    const svg = `<?xml version='1.0' ?><svg xmlns='${ SVG_NS }' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1'>${ root.render() }</svg>`;\n\n    root.destroy();\n\n    return svg;\n}","const NODE_MAP = {};\n\nexport default NODE_MAP;","\nexport default function renderPath(ctx, path) {\n    const segments = path.segments;\n\n    if (segments.length === 0) {\n        return;\n    }\n\n    let segment = segments[0];\n    let anchor = segment.anchor();\n    ctx.moveTo(anchor.x, anchor.y);\n\n    for (let i = 1; i < segments.length; i++) {\n        segment = segments[i];\n        anchor = segment.anchor();\n\n        let prevSeg = segments[i - 1];\n        let prevOut = prevSeg.controlOut();\n        let controlIn = segment.controlIn();\n\n        if (prevOut && controlIn) {\n            ctx.bezierCurveTo(prevOut.x, prevOut.y,\n                              controlIn.x, controlIn.y,\n                              anchor.x, anchor.y);\n        } else {\n            ctx.lineTo(anchor.x, anchor.y);\n        }\n    }\n\n    if (path.options.closed) {\n        ctx.closePath();\n    }\n}","import BaseNode from '../core/base-node';\nimport NODE_MAP from './node-map';\nimport renderPath from './utils/render-path';\nimport { defined } from '../util';\n\nclass Node extends BaseNode {\n    constructor(srcElement) {\n        super(srcElement);\n        if (srcElement) {\n            this.initClip();\n        }\n    }\n\n    initClip() {\n        const clip = this.srcElement.clip();\n        if (clip) {\n            this.clip = clip;\n            clip.addObserver(this);\n        }\n    }\n\n    clear() {\n        if (this.srcElement) {\n            this.srcElement.removeObserver(this);\n        }\n\n        this.clearClip();\n\n        super.clear();\n    }\n\n    clearClip() {\n        if (this.clip) {\n            this.clip.removeObserver(this);\n            delete this.clip;\n        }\n    }\n\n    setClip(ctx) {\n        if (this.clip) {\n            ctx.beginPath();\n            renderPath(ctx, this.clip);\n            ctx.clip();\n        }\n    }\n\n    optionsChange(e) {\n        if (e.field === \"clip\") {\n            this.clearClip();\n            this.initClip();\n        }\n\n        super.optionsChange(e);\n    }\n\n    setTransform(ctx) {\n        if (this.srcElement) {\n            const transform = this.srcElement.transform();\n            if (transform) {\n                ctx.transform.apply(ctx, transform.matrix().toArray(6));\n            }\n        }\n    }\n\n    loadElements(elements, pos, cors) {\n        for (let i = 0; i < elements.length; i++) {\n            let srcElement = elements[i];\n            let children = srcElement.children;\n\n            let childNode = new NODE_MAP[srcElement.nodeType](srcElement, cors);\n\n            if (children && children.length > 0) {\n                childNode.load(children, pos, cors);\n            }\n\n            if (defined(pos)) {\n                this.insertAt(childNode, pos);\n            } else {\n                this.append(childNode);\n            }\n        }\n    }\n\n    load(elements, pos, cors) {\n        this.loadElements(elements, pos, cors);\n\n        this.invalidate();\n    }\n\n    setOpacity(ctx) {\n        if (this.srcElement) {\n            const opacity = this.srcElement.opacity();\n            if (defined(opacity)) {\n                this.globalAlpha(ctx, opacity);\n            }\n        }\n    }\n\n    globalAlpha(ctx, value) {\n        let opactity = value;\n        if (opactity && ctx.globalAlpha) {\n            opactity *= ctx.globalAlpha;\n        }\n        ctx.globalAlpha = opactity;\n    }\n\n    visible() {\n        const src = this.srcElement;\n        return !src || (src && src.options.visible !== false);\n    }\n}\n\nexport default Node;","import Node from './node';\nimport Traversable from '../mixins/traversable';\nimport NODE_MAP from './node-map';\n\nclass GroupNode extends Node {\n\n    renderTo(ctx) {\n        if (!this.visible()) {\n            return;\n        }\n\n        ctx.save();\n\n        this.setTransform(ctx);\n        this.setClip(ctx);\n        this.setOpacity(ctx);\n\n        const childNodes = this.childNodes;\n        for (let i = 0; i < childNodes.length; i++) {\n            let child = childNodes[i];\n            if (child.visible()) {\n                child.renderTo(ctx);\n            }\n        }\n\n        ctx.restore();\n    }\n}\n\nTraversable.extend(GroupNode.prototype, \"childNodes\");\n\nNODE_MAP.Group = GroupNode;\n\nexport default GroupNode;","import GroupNode from './group-node';\nimport Traversable from '../mixins/traversable';\nimport { animationFrame, throttle } from '../common';\n\nconst FRAME_DELAY = 1000 / 60;\n\nclass RootNode extends GroupNode {\n    constructor(canvas) {\n        super();\n\n        this.canvas = canvas;\n        this.ctx = canvas.getContext(\"2d\");\n\n        const invalidateHandler = this._invalidate.bind(this);\n        this.invalidate = throttle(() => {\n            animationFrame(invalidateHandler);\n        }, FRAME_DELAY);\n    }\n\n    destroy() {\n        super.destroy();\n        this.canvas = null;\n        this.ctx = null;\n    }\n\n    load(elements, pos, cors) {\n        this.loadElements(elements, pos, cors);\n        this._invalidate();\n    }\n\n    _invalidate() {\n        if (!this.ctx) {\n            return;\n        }\n        this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);\n        this.renderTo(this.ctx);\n    }\n}\n\nTraversable.extend(RootNode.prototype, \"childNodes\");\n\nexport default RootNode;","import { Class } from '../common';\n\nclass QuadRoot extends Class {\n    constructor() {\n        super();\n\n        this.shapes = [];\n    }\n\n    _add(shape, bbox) {\n        this.shapes.push({\n            bbox: bbox,\n            shape: shape\n        });\n        shape._quadNode = this;\n    }\n\n    pointShapes(point) {\n        const shapes = this.shapes;\n        const length = shapes.length;\n        const result = [];\n        for (let idx = 0; idx < length; idx++) {\n            if (shapes[idx].bbox.containsPoint(point)) {\n                result.push(shapes[idx].shape);\n            }\n        }\n        return result;\n    }\n\n    insert(shape, bbox) {\n        this._add(shape, bbox);\n    }\n\n    remove(shape) {\n        const shapes = this.shapes;\n        const length = shapes.length;\n\n        for (let idx = 0; idx < length; idx++) {\n            if (shapes[idx].shape === shape) {\n                shapes.splice(idx, 1);\n                break;\n            }\n        }\n    }\n}\n\nexport default QuadRoot;","import QuadRoot from './quad-root';\nimport { Rect } from '../geometry';\nimport { append } from '../util';\n\nclass QuadNode extends QuadRoot {\n    constructor(rect) {\n        super();\n        this.children = [];\n        this.rect = rect;\n    }\n\n    inBounds(rect) {\n        const nodeRect = this.rect;\n        const nodeBottomRight = nodeRect.bottomRight();\n        const bottomRight = rect.bottomRight();\n        const inBounds = nodeRect.origin.x <= rect.origin.x && nodeRect.origin.y <= rect.origin.y && bottomRight.x <= nodeBottomRight.x &&\n            bottomRight.y <= nodeBottomRight.y;\n        return inBounds;\n    }\n\n    pointShapes(point) {\n        const children = this.children;\n        const length = children.length;\n        const result = super.pointShapes(point);\n        for (let idx = 0; idx < length; idx++) {\n            append(result, children[idx].pointShapes(point));\n        }\n        return result;\n    }\n\n    insert(shape, bbox) {\n        const children = this.children;\n        let inserted = false;\n\n        if (this.inBounds(bbox)) {\n            if (this.shapes.length < 4) {\n                this._add(shape, bbox);\n            } else {\n                if (!children.length) {\n                    this._initChildren();\n                }\n\n                for (let idx = 0; idx < children.length; idx++) {\n                    if (children[idx].insert(shape, bbox)) {\n                        inserted = true;\n                        break;\n                    }\n                }\n\n                if (!inserted) {\n                    this._add(shape, bbox);\n                }\n            }\n            inserted = true;\n        }\n\n        return inserted;\n    }\n\n    _initChildren() {\n        const { rect, children } = this;\n        const center = rect.center();\n        const halfWidth = rect.width() / 2;\n        const halfHeight = rect.height() / 2;\n\n        children.push(\n            new QuadNode(new Rect([ rect.origin.x, rect.origin.y ], [ halfWidth, halfHeight ])),\n            new QuadNode(new Rect([ center.x, rect.origin.y ], [ halfWidth, halfHeight ])),\n            new QuadNode(new Rect([ rect.origin.x, center.y ], [ halfWidth, halfHeight ])),\n            new QuadNode(new Rect([ center.x, center.y ], [ halfWidth, halfHeight ]))\n        );\n    }\n}\n\nexport default QuadNode;","import QuadRoot from './quad-root';\nimport QuadNode from './quad-node';\nimport { Rect } from '../geometry';\nimport { Class } from '../common';\nimport { append } from '../util';\n\nconst ROOT_SIZE = 3000;\nconst LEVEL_STEP = 10000;\nconst MAX_LEVEL = 75;\n\nclass ShapesQuadTree extends Class {\n\n    constructor() {\n        super();\n\n        this.initRoots();\n    }\n\n    initRoots() {\n        this.rootMap = {};\n        this.root = new QuadRoot();\n        this.rootElements = [];\n    }\n\n    clear() {\n        const rootElements = this.rootElements;\n        for (let idx = 0; idx < rootElements.length; idx++) {\n            this.remove(rootElements[idx]);\n        }\n        this.initRoots();\n    }\n\n    pointShape(point) {\n        const sectorRoot = ( this.rootMap[ Math.floor( point.x / ROOT_SIZE ) ] || {} )[ Math.floor( point.y / ROOT_SIZE ) ];\n        let result = this.root.pointShapes(point);\n\n        if (sectorRoot) {\n            result = result.concat(sectorRoot.pointShapes(point));\n        }\n\n        this.assignZindex(result);\n\n        result.sort(zIndexComparer);\n        for (let idx = 0; idx < result.length; idx++) {\n            if (result[idx].containsPoint(point)) {\n                return result[idx];\n            }\n        }\n    }\n\n    assignZindex(elements) {\n        for (let idx = 0; idx < elements.length; idx++) {\n            let element = elements[idx];\n            let zIndex = 0;\n            let levelWeight = Math.pow(LEVEL_STEP, MAX_LEVEL);\n            let parents = [];\n\n            while (element) {\n                parents.push(element);\n                element = element.parent;\n            }\n\n            while (parents.length) {\n                element = parents.pop();\n                zIndex += ((element.parent ? element.parent.children : this.rootElements).indexOf(element) + 1) * levelWeight;\n                levelWeight /= LEVEL_STEP;\n            }\n\n            elements[idx]._zIndex = zIndex;\n        }\n    }\n\n    optionsChange(e) {\n        if (e.field === \"transform\" || e.field === \"stroke.width\") {\n            this.bboxChange(e.element);\n        }\n    }\n\n    geometryChange(e) {\n        this.bboxChange(e.element);\n    }\n\n    bboxChange(element) {\n        if (element.nodeType === \"Group\") {\n            for (let idx = 0; idx < element.children.length; idx++) {\n                this.bboxChange(element.children[idx]);\n            }\n        } else {\n            if (element._quadNode) {\n                element._quadNode.remove(element);\n            }\n            this._insertShape(element);\n        }\n    }\n\n    add(elements) {\n        const elementsArray = Array.isArray(elements) ? elements.slice(0) : [ elements ];\n\n        append(this.rootElements, elementsArray);\n        this._insert(elementsArray);\n    }\n\n    childrenChange(e) {\n        if (e.action === \"remove\") {\n            for (let idx = 0; idx < e.items.length; idx++) {\n                this.remove(e.items[idx]);\n            }\n        } else {\n            this._insert(Array.prototype.slice.call(e.items, 0));\n        }\n    }\n\n    _insert(elements) {\n        let element;\n\n        while (elements.length > 0) {\n            element = elements.pop();\n            element.addObserver(this);\n            if (element.nodeType === \"Group\") {\n                append(elements, element.children);\n            } else {\n                this._insertShape(element);\n            }\n        }\n    }\n\n    _insertShape(shape) {\n        const bbox = shape.bbox();\n        if (bbox) {\n            const sectors = this.getSectors(bbox);\n            const x = sectors[0][0];\n            const y = sectors[1][0];\n\n            if (this.inRoot(sectors)) {\n                this.root.insert(shape, bbox);\n            } else {\n                const rootMap = this.rootMap;\n                if (!rootMap[x]) {\n                    rootMap[x] = {};\n                }\n\n                if (!rootMap[x][y]) {\n                    rootMap[x][y] = new QuadNode(\n                        new Rect([ x * ROOT_SIZE, y * ROOT_SIZE ], [ ROOT_SIZE, ROOT_SIZE ])\n                    );\n                }\n\n                rootMap[x][y].insert(shape, bbox);\n            }\n        }\n    }\n\n    remove(element) {\n        element.removeObserver(this);\n\n        if (element.nodeType === \"Group\") {\n            const children = element.children;\n            for (let idx = 0; idx < children.length; idx++) {\n                this.remove(children[idx]);\n            }\n        } else if (element._quadNode) {\n            element._quadNode.remove(element);\n            delete element._quadNode;\n        }\n    }\n\n    inRoot(sectors) {\n        return sectors[0].length > 1 || sectors[1].length > 1;\n    }\n\n    getSectors(rect) {\n        const bottomRight = rect.bottomRight();\n        const bottomX = Math.floor(bottomRight.x / ROOT_SIZE);\n        const bottomY = Math.floor(bottomRight.y / ROOT_SIZE);\n        const sectors = [ [], [] ];\n        for (let x = Math.floor(rect.origin.x / ROOT_SIZE); x <= bottomX; x++) {\n            sectors[0].push(x);\n        }\n        for (let y = Math.floor(rect.origin.y / ROOT_SIZE); y <= bottomY; y++) {\n            sectors[1].push(y);\n        }\n        return sectors;\n    }\n}\n\nfunction zIndexComparer(x1, x2) {\n    if (x1._zIndex < x2._zIndex) {\n        return 1;\n    }\n    if (x1._zIndex > x2._zIndex) {\n        return -1;\n    }\n\n    return 0;\n}\n\nexport default ShapesQuadTree;","import { defined } from '../util';\n\nclass SurfaceCursor {\n\n    constructor(surface) {\n        surface.bind(\"mouseenter\", this._mouseenter.bind(this));\n        surface.bind(\"mouseleave\", this._mouseleave.bind(this));\n\n        this.element = surface.element;\n    }\n\n    clear() {\n        this._resetCursor();\n    }\n\n    destroy() {\n        this._resetCursor();\n        delete this.element;\n    }\n\n    _mouseenter(e) {\n        const cursor = this._shapeCursor(e);\n\n        if (!cursor) {\n            this._resetCursor();\n        } else {\n            if (!this._current) {\n                this._defaultCursor = this._getCursor();\n            }\n\n            this._setCursor(cursor);\n        }\n    }\n\n    _mouseleave() {\n        this._resetCursor();\n    }\n\n    _shapeCursor(e) {\n        let shape = e.element;\n\n        while (shape && !defined(shape.options.cursor)) {\n            shape = shape.parent;\n        }\n\n        if (shape) {\n            return shape.options.cursor;\n        }\n    }\n\n    _getCursor() {\n        if (this.element) {\n            return this.element.style.cursor;\n        }\n    }\n\n    _setCursor(cursor) {\n        if (this.element) {\n            this.element.style.cursor = cursor;\n            this._current = cursor;\n        }\n    }\n\n    _resetCursor() {\n        if (this._current) {\n            this._setCursor(this._defaultCursor || \"\");\n            delete this._current;\n        }\n    }\n}\n\nexport default SurfaceCursor;\n\n","import BaseSurface from '../core/surface';\nimport SurfaceFactory from '../core/surface-factory';\nimport { createPromise, promiseAll, bindEvents, elementSize, unbindEvents } from '../util';\nimport RootNode from './root-node';\nimport ShapesQuadTree from '../search/shapes-quad-tree';\nimport SurfaceCursor from './surface-cursor';\n\nclass Surface extends BaseSurface {\n\n    constructor(element, options) {\n        super(element, options);\n\n        this.element.innerHTML = this._template(this);\n\n        const canvas = this.element.firstElementChild;\n        const size = elementSize(element);\n\n        canvas.width = size.width;\n        canvas.height = size.height;\n\n        this._rootElement = canvas;\n\n        this._root = new RootNode(canvas);\n\n        this._mouseTrackHandler = this._trackMouse.bind(this);\n\n        bindEvents(this.element, {\n            click: this._mouseTrackHandler,\n            mousemove: this._mouseTrackHandler\n        });\n    }\n\n    destroy() {\n        super.destroy();\n\n        if (this._root) {\n            this._root.destroy();\n            this._root = null;\n        }\n\n        if (this._searchTree) {\n            this._searchTree.clear();\n            delete this._searchTree;\n        }\n\n        if (this._cursor) {\n            this._cursor.destroy();\n            delete this._cursor;\n        }\n\n        unbindEvents(this.element, {\n            click: this._mouseTrackHandler,\n            mousemove: this._mouseTrackHandler\n        });\n    }\n\n    draw(element) {\n        super.draw(element);\n        this._root.load([ element ], undefined, this.options.cors);\n\n        if (this._searchTree) {\n            this._searchTree.add([ element ]);\n        }\n    }\n\n    clear() {\n        super.clear();\n        this._root.clear();\n\n        if (this._searchTree) {\n            this._searchTree.clear();\n        }\n\n        if (this._cursor) {\n            this._cursor.clear();\n        }\n    }\n\n    eventTarget(e) {\n        if (this._searchTree) {\n            const point = this._surfacePoint(e);\n            const shape = this._searchTree.pointShape(point);\n            return shape;\n        }\n    }\n\n    image() {\n        const { _root: root, _rootElement: rootElement } = this;\n        const loadingStates = [];\n\n        root.traverse((childNode) => {\n            if (childNode.loading) {\n                loadingStates.push(childNode.loading);\n            }\n        });\n\n        const promise = createPromise();\n        const resolveDataURL = () => {\n            root._invalidate();\n\n            try {\n                const data = rootElement.toDataURL();\n                promise.resolve(data);\n            } catch (e) {\n                promise.reject(e);\n            }\n        };\n\n        promiseAll(loadingStates).then(resolveDataURL, resolveDataURL);\n\n        return promise;\n    }\n\n    suspendTracking() {\n        super.suspendTracking();\n        if (this._searchTree) {\n            this._searchTree.clear();\n            delete this._searchTree;\n        }\n    }\n\n    resumeTracking() {\n        super.resumeTracking();\n        if (!this._searchTree) {\n            this._searchTree = new ShapesQuadTree();\n\n            const childNodes = this._root.childNodes;\n            const rootElements = [];\n            for (let idx = 0; idx < childNodes.length; idx++) {\n                rootElements.push(childNodes[idx].srcElement);\n            }\n            this._searchTree.add(rootElements);\n        }\n    }\n\n    _resize() {\n        this._rootElement.width = this._size.width;\n        this._rootElement.height = this._size.height;\n\n        this._root.invalidate();\n    }\n\n    _template() {\n        return \"<canvas style='width: 100%; height: 100%;'></canvas>\";\n    }\n\n    _enableTracking() {\n        this._searchTree = new ShapesQuadTree();\n        this._cursor = new SurfaceCursor(this);\n\n        super._enableTracking();\n    }\n\n    _trackMouse(e) {\n        if (this._suspendedTracking) {\n            return;\n        }\n\n        const shape = this.eventTarget(e);\n\n        if (e.type !== \"click\") {\n            const currentShape = this._currentShape;\n            if (currentShape && currentShape !== shape) {\n                this.trigger(\"mouseleave\", {\n                    element: currentShape,\n                    originalEvent: e,\n                    type: \"mouseleave\"\n                });\n            }\n\n            if (shape && currentShape !== shape) {\n                this.trigger(\"mouseenter\", {\n                    element: shape,\n                    originalEvent: e,\n                    type: \"mouseenter\"\n                });\n            }\n\n            this.trigger(\"mousemove\", {\n                element: shape,\n                originalEvent: e,\n                type: \"mousemove\"\n            });\n\n            this._currentShape = shape;\n        } else if (shape) {\n            this.trigger(\"click\", {\n                element: shape,\n                originalEvent: e,\n                type: \"click\"\n            });\n        }\n    }\n}\n\nSurface.prototype.type = \"canvas\";\n\nif (typeof document !== \"undefined\" && document.createElement(\"canvas\").getContext) {\n    BaseSurface.support.canvas = true;\n    SurfaceFactory.current.register(\"canvas\", Surface, 20);\n}\n\nexport default Surface;\n","import Node from './node';\nimport { parseColor } from '../common';\nimport { isTransparent, valueOrDefault } from '../util';\nimport LinearGradient from '../gradients/linear-gradient';\nimport RadialGradient from '../gradients/radial-gradient';\nimport { DASH_ARRAYS, SOLID, BUTT } from '../core/constants';\nimport renderPath from './utils/render-path';\nimport NODE_MAP from './node-map';\n\nfunction addGradientStops(gradient, stops) {\n    for (let idx = 0; idx < stops.length; idx++) {\n        let stop = stops[idx];\n        let color = parseColor(stop.color());\n\n        color.a *= stop.opacity();\n\n        gradient.addColorStop(stop.offset(), color.toCssRgba());\n    }\n}\n\nclass PathNode extends Node {\n\n    renderTo(ctx) {\n        ctx.save();\n\n        this.setTransform(ctx);\n        this.setClip(ctx);\n        this.setOpacity(ctx);\n\n        ctx.beginPath();\n\n        this.renderPoints(ctx, this.srcElement);\n\n        this.setLineDash(ctx);\n        this.setLineCap(ctx);\n        this.setLineJoin(ctx);\n\n        this.setFill(ctx);\n        this.setStroke(ctx);\n\n        ctx.restore();\n    }\n\n    setFill(ctx) {\n        const fill = this.srcElement.options.fill;\n        let hasFill = false;\n\n        if (fill) {\n            if (fill.nodeType === \"Gradient\") {\n                this.setGradientFill(ctx, fill);\n                hasFill = true;\n            } else if (!isTransparent(fill.color)) {\n                ctx.fillStyle = fill.color;\n\n                ctx.save();\n                this.globalAlpha(ctx, fill.opacity);\n                ctx.fill();\n                ctx.restore();\n\n                hasFill = true;\n            }\n        }\n\n        return hasFill;\n    }\n\n    setGradientFill(ctx, fill) {\n        const bbox = this.srcElement.rawBBox();\n        let gradient;\n\n        if (fill instanceof LinearGradient) {\n            let start = fill.start();\n            let end = fill.end();\n            gradient = ctx.createLinearGradient(start.x, start.y, end.x, end.y);\n        } else if (fill instanceof RadialGradient) {\n            let center = fill.center();\n            gradient = ctx.createRadialGradient(center.x, center.y, 0, center.x, center.y, fill.radius());\n        }\n\n        addGradientStops(gradient, fill.stops);\n\n        ctx.save();\n\n        if (!fill.userSpace()) {\n            ctx.transform(bbox.width(), 0, 0, bbox.height(), bbox.origin.x, bbox.origin.y);\n        }\n        ctx.fillStyle = gradient;\n        ctx.fill();\n\n        ctx.restore();\n    }\n\n    setStroke(ctx) {\n        const stroke = this.srcElement.options.stroke;\n        if (stroke && !isTransparent(stroke.color) && stroke.width > 0) {\n            ctx.strokeStyle = stroke.color;\n            ctx.lineWidth = valueOrDefault(stroke.width, 1);\n\n            ctx.save();\n            this.globalAlpha(ctx, stroke.opacity);\n            ctx.stroke();\n            ctx.restore();\n\n            return true;\n        }\n    }\n\n    dashType() {\n        const stroke = this.srcElement.options.stroke;\n        if (stroke && stroke.dashType) {\n            return stroke.dashType.toLowerCase();\n        }\n    }\n\n    setLineDash(ctx) {\n        const dashType = this.dashType();\n        if (dashType && dashType !== SOLID) {\n            const dashArray = DASH_ARRAYS[dashType];\n            if (ctx.setLineDash) {\n                ctx.setLineDash(dashArray);\n            } else {\n                ctx.mozDash = dashArray;\n                ctx.webkitLineDash = dashArray;\n            }\n        }\n    }\n\n    setLineCap(ctx) {\n        const dashType = this.dashType();\n        const stroke = this.srcElement.options.stroke;\n        if (dashType && dashType !== SOLID) {\n            ctx.lineCap = BUTT;\n        } else if (stroke && stroke.lineCap) {\n            ctx.lineCap = stroke.lineCap;\n        }\n    }\n\n    setLineJoin(ctx) {\n        const stroke = this.srcElement.options.stroke;\n        if (stroke && stroke.lineJoin) {\n            ctx.lineJoin = stroke.lineJoin;\n        }\n    }\n\n    renderPoints(ctx, path) {\n        renderPath(ctx, path);\n    }\n}\n\nNODE_MAP.Path = PathNode;\n\nexport default PathNode;\n","import PathNode from './path-node';\nimport NODE_MAP from './node-map';\nimport renderPath from './utils/render-path';\n\nclass ArcNode extends PathNode {\n    renderPoints(ctx) {\n        const path = this.srcElement.toPath();\n        renderPath(ctx, path);\n    }\n}\n\nNODE_MAP.Arc = ArcNode;\n\nexport default ArcNode;","import PathNode from './path-node';\nimport NODE_MAP from './node-map';\n\nclass CircleNode extends PathNode {\n    renderPoints(ctx) {\n        const { center, radius } = this.srcElement.geometry();\n\n        ctx.arc(center.x, center.y, radius, 0, Math.PI * 2);\n    }\n}\n\nNODE_MAP.Circle = CircleNode;\n\nexport default CircleNode;","import PathNode from './path-node';\nimport NODE_MAP from './node-map';\n\nclass RectNode extends PathNode {\n    renderPoints(ctx) {\n        const { origin, size } = this.srcElement.geometry();\n\n        ctx.rect(origin.x, origin.y, size.width, size.height);\n    }\n}\n\nNODE_MAP.Rect = RectNode;\n\nexport default RectNode;","import PathNode from './path-node';\nimport NODE_MAP from './node-map';\nimport { createPromise } from '../util';\n\nclass ImageNode extends PathNode {\n    constructor(srcElement, cors) {\n        super(srcElement);\n\n        this.onLoad = this.onLoad.bind(this);\n        this.onError = this.onError.bind(this);\n\n        this.loading = createPromise();\n\n        const img = this.img = new Image();\n\n        if (cors && !(/^data:/i.test(srcElement.src()))) {\n            img.crossOrigin = cors;\n        }\n\n        img.src = srcElement.src();\n\n        if (img.complete) {\n            this.onLoad();\n        } else {\n            img.onload = this.onLoad;\n            img.onerror = this.onError;\n        }\n    }\n\n    renderTo(ctx) {\n        if (this.loading.state() === \"resolved\") {\n            ctx.save();\n\n            this.setTransform(ctx);\n            this.setClip(ctx);\n\n            this.drawImage(ctx);\n\n            ctx.restore();\n        }\n    }\n\n    optionsChange(e) {\n        if (e.field === \"src\") {\n            this.loading = createPromise();\n            this.img.src = this.srcElement.src();\n        } else {\n            super.optionsChange(e);\n        }\n    }\n\n    onLoad() {\n        this.loading.resolve();\n        this.invalidate();\n    }\n\n    onError() {\n        this.loading.reject(new Error(\n            \"Unable to load image '\" + this.img.src +\n            \"'. Check for connectivity and verify CORS headers.\"\n        ));\n    }\n\n    drawImage(ctx) {\n        const rect = this.srcElement.rect();\n        const topLeft = rect.topLeft();\n\n        ctx.drawImage(\n            this.img, topLeft.x, topLeft.y, rect.width(), rect.height()\n        );\n    }\n}\n\nNODE_MAP.Image = ImageNode;\n\nexport default ImageNode;","import PathNode from './path-node';\nimport NODE_MAP from './node-map';\n\nclass TextNode extends PathNode {\n    renderTo(ctx) {\n        const text = this.srcElement;\n        const pos = text.position();\n        const size = text.measure();\n\n        ctx.save();\n\n        this.setTransform(ctx);\n        this.setClip(ctx);\n        this.setOpacity(ctx);\n\n        ctx.beginPath();\n\n        ctx.font = text.options.font;\n        ctx.textAlign = 'left';\n\n        if (this.setFill(ctx)) {\n            ctx.fillText(text.content(), pos.x, pos.y + size.baseline);\n        }\n\n        if (this.setStroke(ctx)) {\n            this.setLineDash(ctx);\n            ctx.strokeText(text.content(), pos.x, pos.y + size.baseline);\n        }\n\n        ctx.restore();\n    }\n}\n\n\nNODE_MAP.Text = TextNode;\n\nexport default TextNode;","import PathNode from './path-node';\nimport NODE_MAP from './node-map';\nimport renderPath from './utils/render-path';\n\nclass MultiPathNode extends PathNode {\n    renderPoints(ctx) {\n        const paths = this.srcElement.paths;\n        for (let i = 0; i < paths.length; i++) {\n            renderPath(ctx, paths[i]);\n        }\n    }\n}\n\nNODE_MAP.MultiPath = MultiPathNode;\n\nexport default MultiPathNode;","import Surface from './surface';\nimport { transform } from '../geometry';\nimport Group from '../shapes/group';\n\nexport default function exportImage(group, options) {\n    const defaults = {\n        width: \"800px\", height: \"600px\",\n        cors: \"Anonymous\"\n    };\n\n    let exportRoot = group;\n    const bbox = group.clippedBBox();\n\n\n    if (bbox) {\n        const origin = bbox.getOrigin();\n        exportRoot = new Group();\n        exportRoot.transform(transform().translate(-origin.x, -origin.y));\n        exportRoot.children.push(group);\n\n        const size = bbox.getSize();\n        defaults.width = size.width + \"px\";\n        defaults.height = size.height + \"px\";\n    }\n\n    const surfaceOptions = Object.assign(defaults, options);\n\n    const container = document.createElement(\"div\");\n    const style = container.style;\n\n    style.display = \"none\";\n    style.width = surfaceOptions.width;\n    style.height = surfaceOptions.height;\n    document.body.appendChild(container);\n\n    const surface = new Surface(container, surfaceOptions);\n    surface.suspendTracking();\n    surface.draw(exportRoot);\n\n    const promise = surface.image();\n    const destroy = () => {\n        surface.destroy();\n        document.body.removeChild(container);\n    };\n    promise.then(destroy, destroy);\n\n    return promise;\n}","import { createPromise, encodeBase64 } from '../util';\nimport exportGroup from './export-group';\n\nexport default function exportSVG(group, options) {\n    let svg = exportGroup(group);\n\n    if (!options || !options.raw) {\n        svg = \"data:image/svg+xml;base64,\" + encodeBase64(svg);\n    }\n\n    return createPromise().resolve(svg);\n}\n","/* eslint-disable no-multi-spaces, key-spacing, indent, camelcase, space-before-blocks, eqeqeq, brace-style */\n/* eslint-disable space-infix-ops, space-before-function-paren, array-bracket-spacing, object-curly-spacing */\n/* eslint-disable no-nested-ternary, max-params, default-case, no-else-return, no-empty */\n/* eslint-disable no-param-reassign, no-var, block-scoped-var */\n\n// XXX: remove this junk (assume `true`) when we no longer have to support IE < 10\nconst HAS_TYPED_ARRAYS = typeof Uint8Array !== 'undefined';\n\nconst BASE64 = (function(){\n    var keyStr = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";\n    return {\n        decode: function(str) {\n            var input = str.replace(/[^A-Za-z0-9\\+\\/\\=]/g, \"\"), i = 0, n = input.length, output = [];\n\n            while (i < n) {\n                var enc1 = keyStr.indexOf(input.charAt(i++));\n                var enc2 = keyStr.indexOf(input.charAt(i++));\n                var enc3 = keyStr.indexOf(input.charAt(i++));\n                var enc4 = keyStr.indexOf(input.charAt(i++));\n\n                var chr1 = (enc1 << 2) | (enc2 >>> 4);\n                var chr2 = ((enc2 & 15) << 4) | (enc3 >>> 2);\n                var chr3 = ((enc3 & 3) << 6) | enc4;\n\n                output.push(chr1);\n                if (enc3 != 64) {\n                    output.push(chr2);\n                }\n                if (enc4 != 64) {\n                    output.push(chr3);\n                }\n            }\n\n            return output;\n        },\n        encode: function(bytes) {\n            var i = 0, n = bytes.length;\n            var output = \"\";\n\n            while (i < n) {\n                var chr1 = bytes[i++];\n                var chr2 = bytes[i++];\n                var chr3 = bytes[i++];\n\n                var enc1 = chr1 >>> 2;\n                var enc2 = ((chr1 & 3) << 4) | (chr2 >>> 4);\n                var enc3 = ((chr2 & 15) << 2) | (chr3 >>> 6);\n                var enc4 = chr3 & 63;\n\n                if (i - n == 2) {\n                    enc3 = enc4 = 64;\n                } else if (i - n == 1) {\n                    enc4 = 64;\n                }\n\n                output += keyStr.charAt(enc1) + keyStr.charAt(enc2) + keyStr.charAt(enc3) + keyStr.charAt(enc4);\n            }\n            return output;\n        }\n    };\n}());\n\nfunction BinaryStream(data) {\n    var offset = 0, length = 0;\n    if (data == null) {\n        data = HAS_TYPED_ARRAYS ? new Uint8Array(256) : [];\n    } else {\n        length = data.length;\n    }\n\n    var ensure = HAS_TYPED_ARRAYS ? function(len) {\n        if (len >= data.length) {\n            var tmp = new Uint8Array(Math.max(len + 256, data.length * 2));\n            tmp.set(data, 0);\n            data = tmp;\n        }\n    } : function() {};\n\n    var get = HAS_TYPED_ARRAYS ? function() {\n        return new Uint8Array(data.buffer, 0, length);\n    } : function() {\n        return data;\n    };\n\n    var write = HAS_TYPED_ARRAYS ? function(bytes) {\n        if (typeof bytes == \"string\") {\n            return writeString(bytes);\n        }\n        var len = bytes.length;\n        ensure(offset + len);\n        data.set(bytes, offset);\n        offset += len;\n        if (offset > length) {\n            length = offset;\n        }\n    } : function(bytes) {\n        if (typeof bytes == \"string\") {\n            return writeString(bytes);\n        }\n        for (var i = 0; i < bytes.length; ++i) {\n            writeByte(bytes[i]);\n        }\n    };\n\n    var slice = HAS_TYPED_ARRAYS ? function(start, length) {\n        if (data.buffer.slice) {\n            return new Uint8Array(data.buffer.slice(start, start + length));\n        } else {\n            // IE10\n            var x = new Uint8Array(length);\n            x.set(new Uint8Array(data.buffer, start, length));\n            return x;\n        }\n    } : function(start, length) {\n        return data.slice(start, start + length);\n    };\n\n    function eof() {\n        return offset >= length;\n    }\n    function readByte() {\n        return offset < length ? data[offset++] : 0;\n    }\n    function writeByte(b) {\n        ensure(offset);\n        data[offset++] = b & 0xFF;\n        if (offset > length) {\n            length = offset;\n        }\n    }\n    function readShort() {\n        return (readByte() << 8) | readByte();\n    }\n    function writeShort(w) {\n        writeByte(w >> 8);\n        writeByte(w);\n    }\n    function readShort_() {\n        var w = readShort();\n        return w >= 0x8000 ? w - 0x10000 : w;\n    }\n    function writeShort_(w) {\n        writeShort(w < 0 ? w + 0x10000 : w);\n    }\n    function readLong() {\n        return (readShort() * 0x10000) + readShort();\n    }\n    function writeLong(w) {\n        writeShort((w >>> 16) & 0xFFFF);\n        writeShort(w & 0xFFFF);\n    }\n    function readLong_() {\n        var w = readLong();\n        return w >= 0x80000000 ? w - 0x100000000 : w;\n    }\n    function writeLong_(w) {\n        writeLong(w < 0 ? w + 0x100000000 : w);\n    }\n    function readFixed() {\n        return readLong() / 0x10000;\n    }\n    function writeFixed(f) {\n        writeLong(Math.round(f * 0x10000));\n    }\n    function readFixed_() {\n        return readLong_() / 0x10000;\n    }\n    function writeFixed_(f) {\n        writeLong_(Math.round(f * 0x10000));\n    }\n    function read(len) {\n        return times(len, readByte);\n    }\n    function readString(len) {\n        return String.fromCharCode.apply(String, read(len));\n    }\n    function writeString(str) {\n        for (var i = 0; i < str.length; ++i) {\n            writeByte(str.charCodeAt(i));\n        }\n    }\n    function times(n, reader) {\n        for (var ret = new Array(n), i = 0; i < n; ++i) {\n            ret[i] = reader();\n        }\n        return ret;\n    }\n\n    var stream = {\n        eof         : eof,\n        readByte    : readByte,\n        writeByte   : writeByte,\n        readShort   : readShort,\n        writeShort  : writeShort,\n        readLong    : readLong,\n        writeLong   : writeLong,\n        readFixed   : readFixed,\n        writeFixed  : writeFixed,\n\n        // signed numbers.\n        readShort_  : readShort_,\n        writeShort_ : writeShort_,\n        readLong_   : readLong_,\n        writeLong_  : writeLong_,\n        readFixed_  : readFixed_,\n        writeFixed_ : writeFixed_,\n\n        read        : read,\n        write       : write,\n        readString  : readString,\n        writeString : writeString,\n\n        times       : times,\n        get         : get,\n        slice       : slice,\n\n        offset: function(pos) {\n            if (pos != null) {\n                offset = pos;\n                return stream;\n            }\n            return offset;\n        },\n\n        skip: function(nbytes) {\n            offset += nbytes;\n        },\n\n        toString: function() {\n            throw new Error(\"FIX CALLER.  BinaryStream is no longer convertible to string!\");\n        },\n\n        length: function() { return length; },\n\n        saveExcursion: function(f) {\n            var pos = offset;\n            try {\n                return f();\n            } finally {\n                offset = pos;\n            }\n        },\n\n        writeBase64: function(base64) {\n            if (window.atob) {\n                writeString(window.atob(base64));\n            } else {\n                write(BASE64.decode(base64));\n            }\n        },\n        base64: function() {\n            return BASE64.encode(get());\n        }\n    };\n\n    return stream;\n}\n\nfunction ucs2decode(string) {\n    var output = [],\n        counter = 0,\n        length = string.length,\n        value,\n        extra;\n    while (counter < length) {\n        value = string.charCodeAt(counter++);\n        if (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n            // high surrogate, and there is a next character\n            extra = string.charCodeAt(counter++);\n            if ((extra & 0xFC00) == 0xDC00) { // low surrogate\n                output.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n            } else {\n                // unmatched surrogate; only append this code unit, in case the next\n                // code unit is the high surrogate of a surrogate pair\n                output.push(value);\n                counter--;\n            }\n        } else {\n            output.push(value);\n        }\n    }\n    return output;\n}\n\nfunction ucs2encode(array) {\n    return array.map(function(value){\n        var output = \"\";\n        if (value > 0xFFFF) {\n            value -= 0x10000;\n            output += String.fromCharCode(value >>> 10 & 0x3FF | 0xD800);\n            value = 0xDC00 | value & 0x3FF;\n        }\n        output += String.fromCharCode(value);\n        return output;\n    }).join(\"\");\n}\n\nexport {\n    BASE64,\n    BinaryStream,\n    ucs2decode,\n    ucs2encode\n};\n","/* eslint-disable no-multi-spaces, key-spacing, indent, camelcase, space-before-blocks, eqeqeq, brace-style */\n/* eslint-disable space-infix-ops, space-before-function-paren, array-bracket-spacing, object-curly-spacing */\n/* eslint-disable no-nested-ternary, max-params, default-case, no-else-return, no-empty */\n/* eslint-disable no-param-reassign, no-var, block-scoped-var */\n\n/*****************************************************************************\\\n *\n * The code in this file, although written from scratch, is influenced by the\n * TrueType parser/encoder in PDFKit -- http://pdfkit.org/ (a CoffeeScript\n * library for producing PDF files).\n *\n * PDFKit is (c) Devon Govett 2014 and released under the MIT License.\n *\n\\*****************************************************************************/\n\nimport { BinaryStream, ucs2decode } from \"./utils\";\n\nfunction hasOwnProperty(obj, key) {\n    return Object.prototype.hasOwnProperty.call(obj, key);\n}\n\nfunction sortedKeys(obj) {\n    return Object.keys(obj).sort(function(a, b){ return a - b; }).map(parseFloat);\n}\n\n///\n\nfunction Directory(data) {\n    this.raw = data;\n    this.scalerType = data.readLong();\n    this.tableCount = data.readShort();\n    this.searchRange = data.readShort();\n    this.entrySelector = data.readShort();\n    this.rangeShift = data.readShort();\n\n    var tables = this.tables = {};\n    for (var i = 0; i < this.tableCount; ++i) {\n        var entry = {\n            tag      : data.readString(4),\n            checksum : data.readLong(),\n            offset   : data.readLong(),\n            length   : data.readLong()\n        };\n        tables[entry.tag] = entry;\n    }\n}\n\nDirectory.prototype = {\n\n    readTable: function(name, Ctor) {\n        var def = this.tables[name];\n        if (!def) {\n            throw new Error(\"Table \" + name + \" not found in directory\");\n        }\n        return (this[name] = def.table = new Ctor(this, def));\n    },\n\n    render: function(tables) {\n        var tableCount = Object.keys(tables).length;\n\n        var maxpow2 = Math.pow(2, Math.floor(Math.log(tableCount) / Math.LN2));\n        var searchRange = maxpow2 * 16;\n        var entrySelector = Math.floor(Math.log(maxpow2) / Math.LN2);\n        var rangeShift = tableCount * 16 - searchRange;\n\n        var out = BinaryStream();\n        out.writeLong(this.scalerType);\n        out.writeShort(tableCount);\n        out.writeShort(searchRange);\n        out.writeShort(entrySelector);\n        out.writeShort(rangeShift);\n\n        var directoryLength = tableCount * 16;\n        var offset = out.offset() + directoryLength;\n        var headOffset = null;\n        var tableData = BinaryStream();\n\n        for (var tag in tables) {\n            if (hasOwnProperty(tables, tag)) {\n                var table = tables[tag];\n\n                out.writeString(tag);\n                out.writeLong(this.checksum(table));\n                out.writeLong(offset);\n                out.writeLong(table.length);\n\n                tableData.write(table);\n                if (tag == \"head\") {\n                    headOffset = offset;\n                }\n                offset += table.length;\n\n                while (offset % 4) {\n                    tableData.writeByte(0);\n                    offset++;\n                }\n            }\n        }\n\n        out.write(tableData.get());\n        var sum = this.checksum(out.get());\n        var adjustment = 0xB1B0AFBA - sum;\n\n        out.offset(headOffset + 8);\n        out.writeLong(adjustment);\n        return out.get();\n    },\n\n    checksum: function(data) {\n        data = BinaryStream(data);\n        var sum = 0;\n        while (!data.eof()) {\n            sum += data.readLong();\n        }\n        return sum & 0xFFFFFFFF;\n    }\n};\n\nfunction deftable(methods) {\n    function Ctor(file, def) {\n        this.definition = def;\n        this.length = def.length;\n        this.offset = def.offset;\n        this.file = file;\n        this.rawData = file.raw;\n        this.parse(file.raw);\n    }\n    Ctor.prototype.raw = function() {\n        return this.rawData.slice(this.offset, this.length);\n    };\n    for (var i in methods) {\n        if (hasOwnProperty(methods, i)) {\n            Ctor[i] = Ctor.prototype[i] = methods[i];\n        }\n    }\n    return Ctor;\n}\n\nvar HeadTable = deftable({\n    parse: function(data) {\n        data.offset(this.offset);\n        this.version             = data.readLong();\n        this.revision            = data.readLong();\n        this.checkSumAdjustment  = data.readLong();\n        this.magicNumber         = data.readLong();\n        this.flags               = data.readShort();\n        this.unitsPerEm          = data.readShort();\n        this.created             = data.read(8);\n        this.modified            = data.read(8);\n\n        this.xMin = data.readShort_();\n        this.yMin = data.readShort_();\n        this.xMax = data.readShort_();\n        this.yMax = data.readShort_();\n\n        this.macStyle           = data.readShort();\n        this.lowestRecPPEM      = data.readShort();\n        this.fontDirectionHint  = data.readShort_();\n        this.indexToLocFormat   = data.readShort_();\n        this.glyphDataFormat    = data.readShort_();\n    },\n    render: function(indexToLocFormat) {\n        var out = BinaryStream();\n        out.writeLong(this.version);\n        out.writeLong(this.revision);\n        out.writeLong(0);       // checksum adjustment; shall be computed later\n        out.writeLong(this.magicNumber);\n        out.writeShort(this.flags);\n        out.writeShort(this.unitsPerEm);\n        out.write(this.created);\n        out.write(this.modified);\n        out.writeShort_(this.xMin);\n        out.writeShort_(this.yMin);\n        out.writeShort_(this.xMax);\n        out.writeShort_(this.yMax);\n        out.writeShort(this.macStyle);\n        out.writeShort(this.lowestRecPPEM);\n        out.writeShort_(this.fontDirectionHint);\n        out.writeShort_(indexToLocFormat); // this will depend on the `loca` table\n        out.writeShort_(this.glyphDataFormat);\n        return out.get();\n    }\n});\n\nvar LocaTable = deftable({\n    parse: function(data) {\n        data.offset(this.offset);\n        var format = this.file.head.indexToLocFormat;\n        if (format === 0) {\n            this.offsets = data.times(this.length / 2, function(){\n                return 2 * data.readShort();\n            });\n        } else {\n            this.offsets = data.times(this.length / 4, data.readLong);\n        }\n    },\n    offsetOf: function(id) {\n        return this.offsets[id];\n    },\n    lengthOf: function(id) {\n        return this.offsets[id + 1] - this.offsets[id];\n    },\n    render: function(offsets) {\n        var out = BinaryStream();\n        var needsLongFormat = offsets[offsets.length - 1] > 0xFFFF;\n        for (var i = 0; i < offsets.length; ++i) {\n            if (needsLongFormat) {\n                out.writeLong(offsets[i]);\n            } else {\n                out.writeShort(offsets[i] / 2);\n            }\n        }\n        return {\n            format: needsLongFormat ? 1 : 0,\n            table: out.get()\n        };\n    }\n});\n\nvar HheaTable = deftable({\n    parse: function(data) {\n        data.offset(this.offset);\n\n        this.version              = data.readLong();\n        this.ascent               = data.readShort_();\n        this.descent              = data.readShort_();\n        this.lineGap              = data.readShort_();\n        this.advanceWidthMax      = data.readShort();\n        this.minLeftSideBearing   = data.readShort_();\n        this.minRightSideBearing  = data.readShort_();\n        this.xMaxExtent           = data.readShort_();\n        this.caretSlopeRise       = data.readShort_();\n        this.caretSlopeRun        = data.readShort_();\n        this.caretOffset          = data.readShort_();\n\n        data.skip(4 * 2);       // reserved\n\n        this.metricDataFormat     = data.readShort_();\n        this.numOfLongHorMetrics  = data.readShort();\n    },\n    render: function(ids) {\n        var out = BinaryStream();\n        out.writeLong(this.version);\n        out.writeShort_(this.ascent);\n        out.writeShort_(this.descent);\n        out.writeShort_(this.lineGap);\n        out.writeShort(this.advanceWidthMax);\n        out.writeShort_(this.minLeftSideBearing);\n        out.writeShort_(this.minRightSideBearing);\n        out.writeShort_(this.xMaxExtent);\n        out.writeShort_(this.caretSlopeRise);\n        out.writeShort_(this.caretSlopeRun);\n        out.writeShort_(this.caretOffset);\n\n        out.write([ 0, 0, 0, 0, 0, 0, 0, 0 ]); // reserved bytes\n\n        out.writeShort_(this.metricDataFormat);\n        out.writeShort(ids.length);\n        return out.get();\n    }\n});\n\nvar MaxpTable = deftable({\n    parse: function(data) {\n        data.offset(this.offset);\n        this.version = data.readLong();\n        this.numGlyphs = data.readShort();\n        this.maxPoints = data.readShort();\n        this.maxContours = data.readShort();\n        this.maxComponentPoints = data.readShort();\n        this.maxComponentContours = data.readShort();\n        this.maxZones = data.readShort();\n        this.maxTwilightPoints = data.readShort();\n        this.maxStorage = data.readShort();\n        this.maxFunctionDefs = data.readShort();\n        this.maxInstructionDefs = data.readShort();\n        this.maxStackElements = data.readShort();\n        this.maxSizeOfInstructions = data.readShort();\n        this.maxComponentElements = data.readShort();\n        this.maxComponentDepth = data.readShort();\n    },\n    render: function(glyphIds) {\n        var out = BinaryStream();\n        out.writeLong(this.version);\n        out.writeShort(glyphIds.length);\n        out.writeShort(this.maxPoints);\n        out.writeShort(this.maxContours);\n        out.writeShort(this.maxComponentPoints);\n        out.writeShort(this.maxComponentContours);\n        out.writeShort(this.maxZones);\n        out.writeShort(this.maxTwilightPoints);\n        out.writeShort(this.maxStorage);\n        out.writeShort(this.maxFunctionDefs);\n        out.writeShort(this.maxInstructionDefs);\n        out.writeShort(this.maxStackElements);\n        out.writeShort(this.maxSizeOfInstructions);\n        out.writeShort(this.maxComponentElements);\n        out.writeShort(this.maxComponentDepth);\n        return out.get();\n    }\n});\n\nvar HmtxTable = deftable({\n    parse: function(data) {\n        data.offset(this.offset);\n        var dir = this.file, hhea = dir.hhea;\n        this.metrics = data.times(hhea.numOfLongHorMetrics, function(){\n            return {\n                advance: data.readShort(),\n                lsb: data.readShort_()\n            };\n        });\n        var lsbCount = dir.maxp.numGlyphs - dir.hhea.numOfLongHorMetrics;\n        this.leftSideBearings = data.times(lsbCount, data.readShort_);\n    },\n    forGlyph: function(id) {\n        var metrics = this.metrics;\n        var n = metrics.length;\n        if (id < n) {\n            return metrics[id];\n        }\n        return {\n            advance: metrics[n - 1].advance,\n            lsb: this.leftSideBearings[id - n]\n        };\n    },\n    render: function(glyphIds) {\n        var out = BinaryStream();\n        for (var i = 0; i < glyphIds.length; ++i) {\n            var m = this.forGlyph(glyphIds[i]);\n            out.writeShort(m.advance);\n            out.writeShort_(m.lsb);\n        }\n        return out.get();\n    }\n});\n\nvar GlyfTable = (function(){\n\n    function SimpleGlyph(raw) {\n        this.raw = raw;\n    }\n    SimpleGlyph.prototype = {\n        compound: false,\n        render: function() {\n            return this.raw.get();\n        }\n    };\n\n    var ARG_1_AND_2_ARE_WORDS     = 0x0001;\n    var WE_HAVE_A_SCALE           = 0x0008;\n    var MORE_COMPONENTS           = 0x0020;\n    var WE_HAVE_AN_X_AND_Y_SCALE  = 0x0040;\n    var WE_HAVE_A_TWO_BY_TWO      = 0x0080;\n    //var WE_HAVE_INSTRUCTIONS      = 0x0100;\n\n    function CompoundGlyph(data) {\n        this.raw = data;\n        var ids = this.glyphIds = [];\n        var offsets = this.idOffsets = [];\n        while (true) {          // eslint-disable-line no-constant-condition\n            var flags = data.readShort();\n            offsets.push(data.offset());\n            ids.push(data.readShort());\n\n            if (!(flags & MORE_COMPONENTS)) {\n                break;\n            }\n\n            data.skip(flags & ARG_1_AND_2_ARE_WORDS ? 4 : 2);\n\n            if (flags & WE_HAVE_A_TWO_BY_TWO) {\n                data.skip(8);\n            } else if (flags & WE_HAVE_AN_X_AND_Y_SCALE) {\n                data.skip(4);\n            } else if (flags & WE_HAVE_A_SCALE) {\n                data.skip(2);\n            }\n        }\n    }\n\n    CompoundGlyph.prototype = {\n        compound: true,\n        render: function(old2new) {\n            var out = BinaryStream(this.raw.get());\n            for (var i = 0; i < this.glyphIds.length; ++i) {\n                var id = this.glyphIds[i];\n                out.offset(this.idOffsets[i]);\n                out.writeShort(old2new[id]);\n            }\n            return out.get();\n        }\n    };\n\n    return deftable({\n        parse: function() {\n            this.cache = {};\n        },\n        glyphFor: function(id) {\n            var cache = this.cache;\n            if (hasOwnProperty(cache, id)) {\n                return cache[id];\n            }\n\n            var loca = this.file.loca;\n            var length = loca.lengthOf(id);\n\n            if (length === 0) {\n                return (cache[id] = null);\n            }\n\n            var data = this.rawData;\n            var offset = this.offset + loca.offsetOf(id);\n            var raw = BinaryStream(data.slice(offset, length));\n\n            var numberOfContours = raw.readShort_();\n            var xMin = raw.readShort_();\n            var yMin = raw.readShort_();\n            var xMax = raw.readShort_();\n            var yMax = raw.readShort_();\n\n            var glyph = cache[id] = numberOfContours == -1 ? new CompoundGlyph(raw) : new SimpleGlyph(raw);\n\n            glyph.numberOfContours = numberOfContours;\n            glyph.xMin = xMin;\n            glyph.yMin = yMin;\n            glyph.xMax = xMax;\n            glyph.yMax = yMax;\n\n            return glyph;\n        },\n        render: function(glyphs, oldIds, old2new) {\n            var out = BinaryStream(), offsets = [];\n            for (var i = 0; i < oldIds.length; ++i) {\n                var id = oldIds[i];\n                var glyph = glyphs[id];\n                offsets.push(out.offset());\n                if (glyph) {\n                    out.write(glyph.render(old2new));\n                }\n            }\n            offsets.push(out.offset());\n            return {\n                table: out.get(),\n                offsets: offsets\n            };\n        }\n    });\n\n}());\n\nvar NameTable = (function(){\n\n    function NameEntry(text, entry) {\n        this.text = text;\n        this.length = text.length;\n        this.platformID = entry.platformID;\n        this.platformSpecificID = entry.platformSpecificID;\n        this.languageID = entry.languageID;\n        this.nameID = entry.nameID;\n    }\n\n    return deftable({\n        parse: function(data) {\n            data.offset(this.offset);\n            data.readShort();   // format\n            var count = data.readShort();\n            var stringOffset = this.offset + data.readShort();\n            var nameRecords = data.times(count, function(){\n                return {\n                    platformID         : data.readShort(),\n                    platformSpecificID : data.readShort(),\n                    languageID         : data.readShort(),\n                    nameID             : data.readShort(),\n                    length             : data.readShort(),\n                    offset             : data.readShort() + stringOffset\n                };\n            });\n            var strings = this.strings = {};\n            for (var i = 0; i < nameRecords.length; ++i) {\n                var rec = nameRecords[i];\n                data.offset(rec.offset);\n                var text = data.readString(rec.length);\n                if (!strings[rec.nameID]) {\n                    strings[rec.nameID] = [];\n                }\n                strings[rec.nameID].push(new NameEntry(text, rec));\n            }\n            this.postscriptEntry = strings[6][0];\n            this.postscriptName = this.postscriptEntry.text.replace(/[^\\x20-\\x7F]/g, \"\");\n        },\n\n        render: function(psName) {\n            var strings = this.strings;\n            var strCount = 0;\n            for (var i in strings) {\n                if (hasOwnProperty(strings, i)) {\n                    strCount += strings[i].length;\n                }\n            }\n            var out = BinaryStream();\n            var strTable = BinaryStream();\n\n            out.writeShort(0);  // format\n            out.writeShort(strCount);\n            out.writeShort(6 + 12 * strCount); // stringOffset\n\n            for (i in strings) {\n                if (hasOwnProperty(strings, i)) {\n                    var list = i == 6 ? [\n                        new NameEntry(psName, this.postscriptEntry)\n                    ] : strings[i];\n                    for (var j = 0; j < list.length; ++j) {\n                        var str = list[j];\n                        out.writeShort(str.platformID);\n                        out.writeShort(str.platformSpecificID);\n                        out.writeShort(str.languageID);\n                        out.writeShort(str.nameID);\n                        out.writeShort(str.length);\n                        out.writeShort(strTable.offset());\n\n                        strTable.writeString(str.text);\n                    }\n                }\n            }\n\n            out.write(strTable.get());\n\n            return out.get();\n        }\n    });\n\n})();\n\nvar PostTable = (function(){\n\n    var POSTSCRIPT_GLYPHS = \".notdef .null nonmarkingreturn space exclam quotedbl numbersign dollar percent ampersand quotesingle parenleft parenright asterisk plus comma hyphen period slash zero one two three four five six seven eight nine colon semicolon less equal greater question at A B C D E F G H I J K L M N O P Q R S T U V W X Y Z bracketleft backslash bracketright asciicircum underscore grave a b c d e f g h i j k l m n o p q r s t u v w x y z braceleft bar braceright asciitilde Adieresis Aring Ccedilla Eacute Ntilde Odieresis Udieresis aacute agrave acircumflex adieresis atilde aring ccedilla eacute egrave ecircumflex edieresis iacute igrave icircumflex idieresis ntilde oacute ograve ocircumflex odieresis otilde uacute ugrave ucircumflex udieresis dagger degree cent sterling section bullet paragraph germandbls registered copyright trademark acute dieresis notequal AE Oslash infinity plusminus lessequal greaterequal yen mu partialdiff summation product pi integral ordfeminine ordmasculine Omega ae oslash questiondown exclamdown logicalnot radical florin approxequal Delta guillemotleft guillemotright ellipsis nonbreakingspace Agrave Atilde Otilde OE oe endash emdash quotedblleft quotedblright quoteleft quoteright divide lozenge ydieresis Ydieresis fraction currency guilsinglleft guilsinglright fi fl daggerdbl periodcentered quotesinglbase quotedblbase perthousand Acircumflex Ecircumflex Aacute Edieresis Egrave Iacute Icircumflex Idieresis Igrave Oacute Ocircumflex apple Ograve Uacute Ucircumflex Ugrave dotlessi circumflex tilde macron breve dotaccent ring cedilla hungarumlaut ogonek caron Lslash lslash Scaron scaron Zcaron zcaron brokenbar Eth eth Yacute yacute Thorn thorn minus multiply onesuperior twosuperior threesuperior onehalf onequarter threequarters franc Gbreve gbreve Idotaccent Scedilla scedilla Cacute cacute Ccaron ccaron dcroat\".split(/\\s+/g);\n\n    return deftable({\n        parse: function(data) {\n            data.offset(this.offset);\n\n            this.format = data.readLong();\n            this.italicAngle = data.readFixed_();\n            this.underlinePosition = data.readShort_();\n            this.underlineThickness = data.readShort_();\n            this.isFixedPitch = data.readLong();\n            this.minMemType42 = data.readLong();\n            this.maxMemType42 = data.readLong();\n            this.minMemType1 = data.readLong();\n            this.maxMemType1 = data.readLong();\n\n            var numberOfGlyphs;\n\n            switch (this.format) {\n              case 0x00010000:\n              case 0x00030000:\n                break;\n\n              case 0x00020000:\n                numberOfGlyphs = data.readShort();\n                this.glyphNameIndex = data.times(numberOfGlyphs, data.readShort);\n                this.names = [];\n                var limit = this.offset + this.length;\n                while (data.offset() < limit) {\n                    this.names.push(data.readString(data.readByte()));\n                }\n                break;\n\n              case 0x00025000:\n                numberOfGlyphs = data.readShort();\n                this.offsets = data.read(numberOfGlyphs);\n                break;\n\n              case 0x00040000:\n                this.map = data.times(this.file.maxp.numGlyphs, data.readShort);\n                break;\n            }\n        },\n        glyphFor: function(code) {\n            switch (this.format) {\n              case 0x00010000:\n                return POSTSCRIPT_GLYPHS[code] || \".notdef\";\n\n              case 0x00020000:\n                var index = this.glyphNameIndex[code];\n                if (index < POSTSCRIPT_GLYPHS.length) {\n                    return POSTSCRIPT_GLYPHS[index];\n                }\n                return this.names[index - POSTSCRIPT_GLYPHS.length] || \".notdef\";\n\n              case 0x00025000:\n\n              case 0x00030000:\n                return \".notdef\";\n\n              case 0x00040000:\n                return this.map[code] || 0xFFFF;\n            }\n        },\n        render: function(mapping) {\n            if (this.format == 0x00030000) {\n                return this.raw();\n            }\n\n            // keep original header, but set format to 2.0\n            var out = BinaryStream(this.rawData.slice(this.offset, 32));\n            out.writeLong(0x00020000);\n            out.offset(32);\n\n            var indexes = [];\n            var strings = [];\n\n            for (var i = 0; i < mapping.length; ++i) {\n                var id = mapping[i];\n                var post = this.glyphFor(id);\n                var index = POSTSCRIPT_GLYPHS.indexOf(post);\n                if (index >= 0) {\n                    indexes.push(index);\n                } else {\n                    indexes.push(POSTSCRIPT_GLYPHS.length + strings.length);\n                    strings.push(post);\n                }\n            }\n\n            out.writeShort(mapping.length);\n\n            for (i = 0; i < indexes.length; ++i) {\n                out.writeShort(indexes[i]);\n            }\n\n            for (i = 0; i < strings.length; ++i) {\n                out.writeByte(strings[i].length);\n                out.writeString(strings[i]);\n            }\n\n            return out.get();\n        }\n    });\n})();\n\nvar CmapTable = (function(){\n\n    function CmapEntry(data, offset, codeMap) {\n        var self = this;\n        self.platformID = data.readShort();\n        self.platformSpecificID = data.readShort();\n        self.offset = offset + data.readLong();\n\n        data.saveExcursion(function(){\n            var code;\n            data.offset(self.offset);\n            self.format = data.readShort();\n\n            switch (self.format) {\n              case 0:\n                self.length = data.readShort();\n                self.language = data.readShort();\n                for (var i = 0; i < 256; ++i) {\n                    codeMap[i] = data.readByte();\n                }\n                break;\n\n              case 4:\n                self.length = data.readShort();\n                self.language = data.readShort();\n                var segCount = data.readShort() / 2;\n\n                data.skip(6);       // searchRange, entrySelector, rangeShift\n                var endCode = data.times(segCount, data.readShort);\n                data.skip(2);       // reserved pad\n                var startCode = data.times(segCount, data.readShort);\n                var idDelta = data.times(segCount, data.readShort_);\n                var idRangeOffset = data.times(segCount, data.readShort);\n\n                var count = (self.length + self.offset - data.offset()) / 2;\n                var glyphIds = data.times(count, data.readShort);\n\n                for (i = 0; i < segCount; ++i) {\n                    var start = startCode[i], end = endCode[i];\n                    for (code = start; code <= end; ++code) {\n                        var glyphId;\n                        if (idRangeOffset[i] === 0) {\n                            glyphId = code + idDelta[i];\n                        } else {\n                            ///\n                            // When non-zero, idRangeOffset contains for each segment the byte offset of the Glyph ID\n                            // into the glyphIds table, from the *current* `i` cell of idRangeOffset.  In other words,\n                            // this offset spans from the first into the second array.  This works, because the arrays\n                            // are consecutive in the TTF file:\n                            //\n                            //     [ ...idRangeOffset... ][ ...glyphIds... ]\n                            //       ...... 48 ......       .... ID ....\n                            //              ^----- 48 bytes -----^\n                            //\n                            // (but I can't stop wondering why is it not just a plain index, possibly incremented by 1\n                            // so that we can have that special `zero` value.)\n                            //\n                            // The elements of idRangeOffset are even numbers, because both arrays contain 16-bit words,\n                            // yet the offset is in bytes.  That is why we divide it by 2.  Then we subtract the\n                            // remaining segments (segCount-i), and add the code-start offset, to which we need to add\n                            // the corresponding delta to get the actual glyph ID.\n                            ///\n                            var index = idRangeOffset[i] / 2 - (segCount - i) + (code - start);\n                            glyphId = glyphIds[index] || 0;\n                            if (glyphId !== 0) {\n                                glyphId += idDelta[i];\n                            }\n                        }\n                        codeMap[code] = glyphId & 0xFFFF;\n                    }\n                }\n                break;\n\n              case 6:\n                self.length = data.readShort();\n                self.language = data.readShort();\n                code = data.readShort();\n                var length = data.readShort();\n                while (length-- > 0) {\n                    codeMap[code++] = data.readShort();\n                }\n                break;\n\n              case 12:\n                data.readShort(); // reserved\n                self.length = data.readLong();\n                self.language = data.readLong();\n                var ngroups = data.readLong();\n                while (ngroups-- > 0) {\n                    code = data.readLong();\n                    var endCharCode = data.readLong();\n                    var glyphCode = data.readLong();\n                    while (code <= endCharCode) {\n                        codeMap[code++] = glyphCode++;\n                    }\n                }\n                break;\n\n              default:\n                if (window.console) {\n                    window.console.error(\"Unhandled CMAP format: \" + self.format);\n                }\n            }\n        });\n    }\n\n    function renderCharmap(ncid2ogid, ogid2ngid) {\n        var codes = sortedKeys(ncid2ogid);\n        var startCodes = [];\n        var endCodes = [];\n        var last = null;\n        var diff = null;\n\n        function new_gid(charcode) {\n            return ogid2ngid[ncid2ogid[charcode]];\n        }\n\n        for (var i = 0; i < codes.length; ++i) {\n            var code = codes[i];\n            var gid = new_gid(code);\n            var delta = gid - code;\n            if (last == null || delta !== diff) {\n                if (last) {\n                    endCodes.push(last);\n                }\n                startCodes.push(code);\n                diff = delta;\n            }\n            last = code;\n        }\n\n        if (last) {\n            endCodes.push(last);\n        }\n        endCodes.push(0xFFFF);\n        startCodes.push(0xFFFF);\n\n        var segCount = startCodes.length;\n        var segCountX2 = segCount * 2;\n        var searchRange = 2 * Math.pow(2, Math.floor(Math.log(segCount) / Math.LN2));\n        var entrySelector = Math.log(searchRange / 2) / Math.LN2;\n        var rangeShift = segCountX2 - searchRange;\n\n        var deltas = [];\n        var rangeOffsets = [];\n        var glyphIds = [];\n\n        for (i = 0; i < segCount; ++i) {\n            var startCode = startCodes[i];\n            var endCode = endCodes[i];\n            if (startCode == 0xFFFF) {\n                deltas.push(0);\n                rangeOffsets.push(0);\n                break;\n            }\n            var startGlyph = new_gid(startCode);\n            if (startCode - startGlyph >= 0x8000) {\n                deltas.push(0);\n                rangeOffsets.push(2 * (glyphIds.length + segCount - i));\n                for (var j = startCode; j <= endCode; ++j) {\n                    glyphIds.push(new_gid(j));\n                }\n            } else {\n                deltas.push(startGlyph - startCode);\n                rangeOffsets.push(0);\n            }\n        }\n\n        var out = BinaryStream();\n\n        out.writeShort(3);      // platformID\n        out.writeShort(1);      // platformSpecificID\n        out.writeLong(12);      // offset\n        out.writeShort(4);      // format\n        out.writeShort(16 + segCount * 8 + glyphIds.length * 2); // length\n        out.writeShort(0);      // language\n        out.writeShort(segCountX2);\n        out.writeShort(searchRange);\n        out.writeShort(entrySelector);\n        out.writeShort(rangeShift);\n\n        endCodes.forEach(out.writeShort);\n        out.writeShort(0);      // reserved pad\n        startCodes.forEach(out.writeShort);\n        deltas.forEach(out.writeShort_);\n        rangeOffsets.forEach(out.writeShort);\n        glyphIds.forEach(out.writeShort);\n\n        return out.get();\n    }\n\n    return deftable({\n        parse: function(data) {\n            var self = this;\n            var offset = self.offset;\n            data.offset(offset);\n            self.codeMap = {};\n            self.version = data.readShort();\n            var tableCount = data.readShort();\n            self.tables = data.times(tableCount, function(){\n                return new CmapEntry(data, offset, self.codeMap);\n            });\n        },\n        render: function(ncid2ogid, ogid2ngid) {\n            var out = BinaryStream();\n            out.writeShort(0);  // version\n            out.writeShort(1);  // tableCount\n            out.write(renderCharmap(ncid2ogid, ogid2ngid));\n            return out.get();\n        }\n    });\n\n})();\n\nvar OS2Table = deftable({\n    parse: function(data) {\n        data.offset(this.offset);\n        this.version = data.readShort();\n        this.averageCharWidth = data.readShort_();\n        this.weightClass = data.readShort();\n        this.widthClass = data.readShort();\n        this.type = data.readShort();\n        this.ySubscriptXSize = data.readShort_();\n        this.ySubscriptYSize = data.readShort_();\n        this.ySubscriptXOffset = data.readShort_();\n        this.ySubscriptYOffset = data.readShort_();\n        this.ySuperscriptXSize = data.readShort_();\n        this.ySuperscriptYSize = data.readShort_();\n        this.ySuperscriptXOffset = data.readShort_();\n        this.ySuperscriptYOffset = data.readShort_();\n        this.yStrikeoutSize = data.readShort_();\n        this.yStrikeoutPosition = data.readShort_();\n        this.familyClass = data.readShort_();\n\n        this.panose = data.times(10, data.readByte);\n        this.charRange = data.times(4, data.readLong);\n\n        this.vendorID = data.readString(4);\n        this.selection = data.readShort();\n        this.firstCharIndex = data.readShort();\n        this.lastCharIndex = data.readShort();\n\n        if (this.version > 0) {\n            this.ascent = data.readShort_();\n            this.descent = data.readShort_();\n            this.lineGap = data.readShort_();\n            this.winAscent = data.readShort();\n            this.winDescent = data.readShort();\n            this.codePageRange = data.times(2, data.readLong);\n\n            if (this.version > 1) {\n                this.xHeight = data.readShort();\n                this.capHeight = data.readShort();\n                this.defaultChar = data.readShort();\n                this.breakChar = data.readShort();\n                this.maxContext = data.readShort();\n            }\n        }\n    },\n    render: function() {\n        return this.raw();\n    }\n});\n\nvar subsetTag = 100000;\n\nfunction nextSubsetTag() {\n    var ret = \"\", n = String(subsetTag);\n    for (var i = 0; i < n.length; ++i) {\n        ret += String.fromCharCode(n.charCodeAt(i) - 48 + 65);\n    }\n    ++subsetTag;\n    return ret;\n}\n\nfunction Subfont(font) {\n    this.font = font;\n    this.subset = {};\n    this.unicodes = {};\n    this.ogid2ngid = { 0: 0 };\n    this.ngid2ogid = { 0: 0 };\n    this.ncid2ogid = {};\n    this.next = this.firstChar = 1;\n    this.nextGid = 1;\n    this.psName = nextSubsetTag() + \"+\" + this.font.psName;\n}\n\nSubfont.prototype = {\n    use: function(ch) {\n        var self = this;\n        if (typeof ch == \"string\") {\n            return ucs2decode(ch).reduce(function(ret, code){\n                return ret + String.fromCharCode(self.use(code));\n            }, \"\");\n        }\n        var code = self.unicodes[ch];\n        if (!code) {\n            code = self.next++;\n            self.subset[code] = ch;\n            self.unicodes[ch] = code;\n\n            // generate new GID (glyph ID) and maintain newGID ->\n            // oldGID and back mappings\n            var old_gid = self.font.cmap.codeMap[ch];\n            if (old_gid) {\n                self.ncid2ogid[code] = old_gid;\n                if (self.ogid2ngid[old_gid] == null) {\n                    var new_gid = self.nextGid++;\n                    self.ogid2ngid[old_gid] = new_gid;\n                    self.ngid2ogid[new_gid] = old_gid;\n                }\n            }\n        }\n        return code;\n    },\n    encodeText: function(text) {\n        return this.use(text);\n    },\n    glyphIds: function() {\n        return sortedKeys(this.ogid2ngid);\n    },\n    glyphsFor: function(glyphIds, result) {\n        if (!result) {\n            result = {};\n        }\n        for (var i = 0; i < glyphIds.length; ++i) {\n            var id = glyphIds[i];\n            if (!result[id]) {\n                var glyph = result[id] = this.font.glyf.glyphFor(id);\n                if (glyph && glyph.compound) {\n                    this.glyphsFor(glyph.glyphIds, result);\n                }\n            }\n        }\n        return result;\n    },\n    render: function() {\n        var glyphs = this.glyphsFor(this.glyphIds());\n\n        // add missing sub-glyphs\n        for (var old_gid in glyphs) {\n            if (hasOwnProperty(glyphs, old_gid)) {\n                old_gid = parseInt(old_gid, 10);\n                if (this.ogid2ngid[old_gid] == null) {\n                    var new_gid = this.nextGid++;\n                    this.ogid2ngid[old_gid] = new_gid;\n                    this.ngid2ogid[new_gid] = old_gid;\n                }\n            }\n        }\n\n        // must obtain old_gid_ids in an order matching sorted\n        // new_gid_ids\n        var new_gid_ids = sortedKeys(this.ngid2ogid);\n        var old_gid_ids = new_gid_ids.map(function(id){\n            return this.ngid2ogid[id];\n        }, this);\n\n        var font = this.font;\n        var glyf = font.glyf.render(glyphs, old_gid_ids, this.ogid2ngid);\n        var loca = font.loca.render(glyf.offsets);\n\n        this.lastChar = this.next - 1;\n\n        var tables = {\n            \"cmap\" : CmapTable.render(this.ncid2ogid, this.ogid2ngid),\n            \"glyf\" : glyf.table,\n            \"loca\" : loca.table,\n            \"hmtx\" : font.hmtx.render(old_gid_ids),\n            \"hhea\" : font.hhea.render(old_gid_ids),\n            \"maxp\" : font.maxp.render(old_gid_ids),\n            \"post\" : font.post.render(old_gid_ids),\n            \"name\" : font.name.render(this.psName),\n            \"head\" : font.head.render(loca.format),\n            \"OS/2\" : font.os2.render()\n        };\n\n        return this.font.directory.render(tables);\n    },\n    cidToGidMap: function() {\n        var out = BinaryStream(), len = 0;\n        for (var cid = this.firstChar; cid < this.next; ++cid) {\n            while (len < cid) {\n                out.writeShort(0);\n                len++;\n            }\n            var old_gid = this.ncid2ogid[cid];\n            if (old_gid) {\n                var new_gid = this.ogid2ngid[old_gid];\n                out.writeShort(new_gid);\n            } else {\n                out.writeShort(0);\n            }\n            len++;\n        }\n        return out.get();\n    }\n};\n\nfunction TTFFont(rawData, name) {\n    var self = this;\n    var data = self.contents = BinaryStream(rawData);\n    if (data.readString(4) == \"ttcf\") {\n        var offset;\n        const parse = function() {\n            data.offset(offset);\n            self.parse();\n        };\n        if (!name) {\n            throw new Error(\"Must specify a name for TTC files\");\n        }\n        data.readLong();        // version\n        var numFonts = data.readLong();\n        for (var i = 0; i < numFonts; ++i) {\n            offset = data.readLong();\n            data.saveExcursion(parse);\n            if (self.psName == name) {\n                return;\n            }\n        }\n        throw new Error(\"Font \" + name + \" not found in collection\");\n    } else {\n        data.offset(0);\n        self.parse();\n    }\n}\n\nTTFFont.prototype = {\n    parse: function() {\n        var dir = this.directory = new Directory(this.contents);\n\n        this.head = dir.readTable(\"head\", HeadTable);\n        this.loca = dir.readTable(\"loca\", LocaTable);\n        this.hhea = dir.readTable(\"hhea\", HheaTable);\n        this.maxp = dir.readTable(\"maxp\", MaxpTable);\n        this.hmtx = dir.readTable(\"hmtx\", HmtxTable);\n        this.glyf = dir.readTable(\"glyf\", GlyfTable);\n        this.name = dir.readTable(\"name\", NameTable);\n        this.post = dir.readTable(\"post\", PostTable);\n        this.cmap = dir.readTable(\"cmap\", CmapTable);\n        this.os2  = dir.readTable(\"OS/2\", OS2Table);\n\n        this.psName = this.name.postscriptName;\n        this.ascent = this.os2.ascent || this.hhea.ascent;\n        this.descent = this.os2.descent || this.hhea.descent;\n        this.lineGap = this.os2.lineGap || this.hhea.lineGap;\n        this.scale = 1000 / this.head.unitsPerEm;\n    },\n    widthOfGlyph: function(glyph) {\n        return this.hmtx.forGlyph(glyph).advance * this.scale;\n    },\n    makeSubset: function() {\n        return new Subfont(this);\n    }\n};\n\nexport { TTFFont };\n","import { deflate as pakoDeflate } from 'pako/dist/pako_deflate';\n\nexport const deflate = pakoDeflate;\n\nexport function supportsDeflate() {\n    return true;\n}\n\n","/* eslint-disable no-multi-spaces, key-spacing, indent, camelcase, space-before-blocks, eqeqeq, brace-style */\n/* eslint-disable space-infix-ops, space-before-function-paren, array-bracket-spacing, object-curly-spacing */\n/* eslint-disable no-nested-ternary, max-params, default-case, no-else-return, no-empty */\n/* eslint-disable no-param-reassign, no-var, block-scoped-var */\n\nimport { BinaryStream, ucs2encode } from \"./utils\";\nimport { support } from '../common';\nimport { TTFFont } from \"./ttf\";\nimport { deflate, supportsDeflate } from './deflate';\n\nconst browser = support.browser;\n// XXX: remove this junk (assume `true`) when we no longer have to support IE < 10\nconst HAS_TYPED_ARRAYS = typeof Uint8Array !== 'undefined';\n\nconst NL = \"\\n\";\n\nvar RESOURCE_COUNTER = 0;\n\nconst PAPER_SIZE = {\n    a0        : [ 2383.94 , 3370.39 ],\n    a1        : [ 1683.78 , 2383.94 ],\n    a2        : [ 1190.55 , 1683.78 ],\n    a3        : [ 841.89  , 1190.55 ],\n    a4        : [ 595.28  , 841.89  ],\n    a5        : [ 419.53  , 595.28  ],\n    a6        : [ 297.64  , 419.53  ],\n    a7        : [ 209.76  , 297.64  ],\n    a8        : [ 147.40  , 209.76  ],\n    a9        : [ 104.88  , 147.40  ],\n    a10       : [ 73.70   , 104.88  ],\n    b0        : [ 2834.65 , 4008.19 ],\n    b1        : [ 2004.09 , 2834.65 ],\n    b2        : [ 1417.32 , 2004.09 ],\n    b3        : [ 1000.63 , 1417.32 ],\n    b4        : [ 708.66  , 1000.63 ],\n    b5        : [ 498.90  , 708.66  ],\n    b6        : [ 354.33  , 498.90  ],\n    b7        : [ 249.45  , 354.33  ],\n    b8        : [ 175.75  , 249.45  ],\n    b9        : [ 124.72  , 175.75  ],\n    b10       : [ 87.87   , 124.72  ],\n    c0        : [ 2599.37 , 3676.54 ],\n    c1        : [ 1836.85 , 2599.37 ],\n    c2        : [ 1298.27 , 1836.85 ],\n    c3        : [ 918.43  , 1298.27 ],\n    c4        : [ 649.13  , 918.43  ],\n    c5        : [ 459.21  , 649.13  ],\n    c6        : [ 323.15  , 459.21  ],\n    c7        : [ 229.61  , 323.15  ],\n    c8        : [ 161.57  , 229.61  ],\n    c9        : [ 113.39  , 161.57  ],\n    c10       : [ 79.37   , 113.39  ],\n    executive : [ 521.86  , 756.00  ],\n    folio     : [ 612.00  , 936.00  ],\n    legal     : [ 612.00  , 1008.00 ],\n    letter    : [ 612.00  , 792.00  ],\n    tabloid   : [ 792.00  , 1224.00 ]\n};\n\nfunction makeOutput() {\n    var indentLevel = 0, output = BinaryStream();\n    function out() {\n        for (var i = 0; i < arguments.length; ++i) {\n            var x = arguments[i];\n            if (x === undefined) {\n                throw new Error(\"Cannot output undefined to PDF\");\n            }\n            else if (x instanceof PDFValue) {\n                x.beforeRender(out);\n                x.render(out);\n            }\n            else if (isArray(x)) {\n                renderArray(x, out);\n            }\n            else if (isDate(x)) {\n                renderDate(x, out);\n            }\n            else if (typeof x == \"number\") {\n                if (isNaN(x)) {\n                    throw new Error(\"Cannot output NaN to PDF\");\n                }\n                // make sure it doesn't end up in exponent notation\n                var num = x.toFixed(7);\n                if (num.indexOf(\".\") >= 0) {\n                    num = num.replace(/\\.?0+$/, \"\");\n                }\n                if (num == \"-0\") {\n                    num = \"0\";\n                }\n                output.writeString(num);\n            }\n            else if (/string|boolean/.test(typeof x)) {\n                output.writeString(String(x));\n            }\n            else if (typeof x.get == \"function\") {\n                output.write(x.get());\n            }\n            else if (typeof x == \"object\") {\n                if (!x) {\n                    output.writeString(\"null\");\n                } else {\n                    out(new PDFDictionary(x));\n                }\n            }\n        }\n    }\n    out.writeData = function(data) {\n        output.write(data);\n    };\n    out.withIndent = function(f) {\n        ++indentLevel;\n        f(out);\n        --indentLevel;\n    };\n    out.indent = function() {\n        out(NL, pad(\"\", indentLevel * 2, \"  \"));\n        out.apply(null, arguments);\n    };\n    out.offset = function() {\n        return output.offset();\n    };\n    out.toString = function() {\n        throw new Error(\"FIX CALLER\");\n    };\n    out.get = function() {\n        return output.get();\n    };\n    out.stream = function() {\n        return output;\n    };\n    return out;\n}\n\nfunction wrapObject(value, id) {\n    var beforeRender = value.beforeRender;\n    var renderValue = value.render;\n\n    value.beforeRender = function(){};\n\n    value.render = function(out) {\n        out(id, \" 0 R\");\n    };\n\n    value.renderFull = function(out) {\n        value._offset = out.offset();\n        out(id, \" 0 obj \");\n        beforeRender.call(value, out);\n        renderValue.call(value, out);\n        out(\" endobj\");\n    };\n}\n\nfunction getPaperOptions(getOption) {\n    if (typeof getOption != \"function\") {\n        var options = getOption;\n        getOption = function(key, def) {\n            return key in options ? options[key] : def;\n        };\n    }\n    var paperSize = getOption(\"paperSize\", PAPER_SIZE.a4);\n    if (!paperSize) {\n        return {};\n    }\n    if (typeof paperSize == \"string\") {\n        paperSize = PAPER_SIZE[paperSize.toLowerCase()];\n        if (paperSize == null) {\n            throw new Error(\"Unknown paper size\");\n        }\n    }\n\n    paperSize[0] = unitsToPoints(paperSize[0]);\n    paperSize[1] = unitsToPoints(paperSize[1]);\n\n    if (getOption(\"landscape\", false)) {\n        paperSize = [\n            Math.max(paperSize[0], paperSize[1]),\n            Math.min(paperSize[0], paperSize[1])\n        ];\n    }\n\n    var margin = getOption(\"margin\");\n    if (margin) {\n        if (typeof margin == \"string\" || typeof margin == \"number\") {\n            margin = unitsToPoints(margin, 0);\n            margin = { left: margin, top: margin, right: margin, bottom: margin };\n        } else {\n            margin = {\n                left   : unitsToPoints(margin.left, 0),\n                top    : unitsToPoints(margin.top, 0),\n                right  : unitsToPoints(margin.right, 0),\n                bottom : unitsToPoints(margin.bottom, 0)\n            };\n        }\n        if (getOption(\"addMargin\")) {\n            paperSize[0] += margin.left + margin.right;\n            paperSize[1] += margin.top + margin.bottom;\n        }\n    }\n    return { paperSize: paperSize, margin: margin };\n}\n\nfunction PDFDocument(options) {\n    var self = this;\n    var out = makeOutput();\n    var objcount = 0;\n    var objects = [];\n\n    function getOption(name, defval) {\n        return (options && options[name] != null) ? options[name] : defval;\n    }\n\n    self.getOption = getOption;\n\n    self.attach = function(value) {\n        if (objects.indexOf(value) < 0) {\n            wrapObject(value, ++objcount);\n            objects.push(value);\n        }\n        return value;\n    };\n\n    self.pages = [];\n\n    self.FONTS = {};\n    self.IMAGES = {};\n    self.GRAD_COL_FUNCTIONS = {}; // cache for color gradient functions\n    self.GRAD_OPC_FUNCTIONS = {}; // cache for opacity gradient functions\n    self.GRAD_COL = {};     // cache for whole color gradient objects\n    self.GRAD_OPC = {};     // cache for whole opacity gradient objects\n\n    var catalog = self.attach(new PDFCatalog());\n    var pageTree = self.attach(new PDFPageTree());\n    catalog.setPages(pageTree);\n\n    var info = self.attach(new PDFDictionary({\n        Producer     : new PDFString(getOption(\"producer\", \"Kendo UI PDF Generator\")), // XXX: kendo.version?\n        Title        : new PDFString(getOption(\"title\", \"\")),\n        Author       : new PDFString(getOption(\"author\", \"\")),\n        Subject      : new PDFString(getOption(\"subject\", \"\")),\n        Keywords     : new PDFString(getOption(\"keywords\", \"\")),\n        Creator      : new PDFString(getOption(\"creator\", \"Kendo UI PDF Generator\")),\n        CreationDate : getOption(\"date\", new Date())\n    }));\n\n    self.addPage = function(options) {\n        var paperOptions  = getPaperOptions(function(name, defval){\n            return (options && options[name] != null) ? options[name] : defval;\n        });\n        var paperSize     = paperOptions.paperSize;\n        var margin        = paperOptions.margin;\n        var contentWidth  = paperSize[0];\n        var contentHeight = paperSize[1];\n        if (margin) {\n            contentWidth -= margin.left + margin.right;\n            contentHeight -= margin.top + margin.bottom;\n        }\n        var content = new PDFStream(makeOutput(), null, true);\n        var props = {\n            Contents : self.attach(content),\n            Parent   : pageTree,\n            MediaBox : [ 0, 0, paperSize[0], paperSize[1] ]\n        };\n        var page = new PDFPage(self, props);\n        page._content = content;\n        pageTree.addPage(self.attach(page));\n\n        // canvas-like coord. system.  (0,0) is upper-left.\n        // text must be vertically mirorred before drawing.\n        page.transform(1, 0, 0, -1, 0, paperSize[1]);\n\n        if (margin) {\n            page.translate(margin.left, margin.top);\n            // XXX: clip to right/bottom margin.  Make this optional?\n            page.rect(0, 0, contentWidth, contentHeight);\n            page.clip();\n        }\n\n        self.pages.push(page);\n        return page;\n    };\n\n    self.render = function() {\n        var i;\n        /// file header\n        out(\"%PDF-1.4\", NL, \"%\\xc2\\xc1\\xda\\xcf\\xce\", NL, NL);\n\n        /// file body\n        for (i = 0; i < objects.length; ++i) {\n            objects[i].renderFull(out);\n            out(NL, NL);\n        }\n\n        /// cross-reference table\n        var xrefOffset = out.offset();\n        out(\"xref\", NL, 0, \" \", objects.length + 1, NL);\n        out(\"0000000000 65535 f \", NL);\n        for (i = 0; i < objects.length; ++i) {\n            out(zeropad(objects[i]._offset, 10), \" 00000 n \", NL);\n        }\n        out(NL);\n\n        /// trailer\n        out(\"trailer\", NL);\n        out(new PDFDictionary({\n            Size: objects.length + 1,\n            Root: catalog,\n            Info: info\n        }), NL, NL);\n\n        /// end\n        out(\"startxref\", NL, xrefOffset, NL);\n        out(\"%%EOF\", NL);\n\n        return out.stream().offset(0);\n    };\n}\n\nvar FONT_CACHE = {\n    \"Times-Roman\"           : true,\n    \"Times-Bold\"            : true,\n    \"Times-Italic\"          : true,\n    \"Times-BoldItalic\"      : true,\n    \"Helvetica\"             : true,\n    \"Helvetica-Bold\"        : true,\n    \"Helvetica-Oblique\"     : true,\n    \"Helvetica-BoldOblique\" : true,\n    \"Courier\"               : true,\n    \"Courier-Bold\"          : true,\n    \"Courier-Oblique\"       : true,\n    \"Courier-BoldOblique\"   : true,\n    \"Symbol\"                : true,\n    \"ZapfDingbats\"          : true\n};\n\nfunction loadBinary(url, cont) {\n    function error() {\n        if (window.console) {\n            if (window.console.error) {\n                window.console.error(\"Cannot load URL: %s\", url);\n            } else {\n                window.console.log(\"Cannot load URL: %s\", url);\n            }\n        }\n        cont(null);\n    }\n    var req = new XMLHttpRequest();\n    req.open('GET', url, true);\n    if (HAS_TYPED_ARRAYS) {\n        req.responseType = \"arraybuffer\";\n    }\n    req.onload = function() {\n        if (req.status == 200 || req.status == 304) {\n            if (HAS_TYPED_ARRAYS) {\n                cont(new Uint8Array(req.response));\n            } else {\n                cont(new window.VBArray(req.responseBody).toArray()); // IE9 only\n            }\n        } else {\n            error();\n        }\n    };\n    req.onerror = error;\n    req.send(null);\n}\n\nfunction loadFont(url, cont) {\n    var font = FONT_CACHE[url];\n    if (font) {\n        cont(font);\n    } else {\n        loadBinary(url, function(data){\n            if (data == null) {\n                throw new Error(\"Cannot load font from \" + url);\n            } else {\n                var font = new TTFFont(data);\n                FONT_CACHE[url] = font;\n                cont(font);\n            }\n        });\n    }\n}\n\nvar IMAGE_CACHE = {};\n\nfunction clearImageCache() {\n    IMAGE_CACHE = {};\n}\n\nfunction loadImage(url, size, cont) {\n    var img = IMAGE_CACHE[url], bloburl, blob;\n    if (img) {\n        cont(img);\n    } else {\n        img = new Image();\n        if (!(/^data:/i.test(url))) {\n            img.crossOrigin = \"Anonymous\";\n        }\n        if (HAS_TYPED_ARRAYS && !(/^data:/i.test(url))) {\n            // IE10 fails to load images from another domain even when the server sends the\n            // proper CORS headers.  a XHR, however, will be able to load the data.\n            // http://stackoverflow.com/a/19734516/154985\n            //\n            // On the other hand, it's worth doing it this way for all browsers which support\n            // responseType = \"blob\" (HAS_TYPED_ARRAYS will be true), because we can inspect the\n            // mime type and if it's a JPEG (very common case) we can save a lot of time in\n            // _load below.\n            var xhr = new XMLHttpRequest();\n            xhr.onload = function() {\n                blob = xhr.response;\n                bloburl = URL.createObjectURL(blob);\n                _load(bloburl);\n            };\n            xhr.onerror = _onerror;\n            xhr.open(\"GET\", url, true);\n            xhr.responseType = \"blob\";\n            xhr.send();\n        } else {\n            _load(url);\n        }\n    }\n\n    function _load(url) {\n        img.src = url;\n        if (img.complete && !browser.msie) {\n            // IE, bless it's little heart, says img.complete == true even though the image is\n            // not loaded (width=0), therefore we must go the onload route (ticket 929635).\n            _onload();\n        } else {\n            img.onload = _onload;\n            img.onerror = _onerror;\n        }\n    }\n\n    function _onerror() {\n        cont(IMAGE_CACHE[url] = \"TAINTED\");\n    }\n\n    function _onload() {\n        if (size) {\n            // but if requested size is bigger than the image, just use the original image.\n            if (size.width >= img.width || size.height >= img.height) {\n                size = null;\n            }\n        }\n        if (!size && blob && /^image\\/jpe?g$/i.test(blob.type)) {\n            // If we know we got a JPEG, we can skip the process of rendering it to a\n            // canvas, getting the pixel data, searching for transparency we know we won't\n            // find, getting back a data URI and then decoding the BASE64 to finally get the\n            // binary we already have.  Also, we avoid downgrading the image quality, with\n            // the possible drawback of making a bigger PDF; still, seems legit.\n            //\n            // Besides saving a lot of work, this also reuses the buffer memory\n            // (BinaryStream does not create a copy), potentially saving some GC cycles.\n            var reader = new FileReader();\n            reader.onload = function() {\n                var img = new PDFJpegImage(BinaryStream(new Uint8Array(this.result)));\n                URL.revokeObjectURL(bloburl);\n                cont(IMAGE_CACHE[url] = img);\n            };\n            reader.readAsArrayBuffer(blob);\n            return;\n        }\n\n        if (!size) {\n            size = { width: img.width, height: img.height };\n        }\n\n        var canvas = document.createElement(\"canvas\");\n        canvas.width = size.width;\n        canvas.height = size.height;\n\n        var ctx = canvas.getContext(\"2d\");\n        ctx.drawImage(img, 0, 0, size.width, size.height);\n\n        var imgdata;\n        try {\n            imgdata = ctx.getImageData(0, 0, size.width, size.height);\n        } catch (ex) {\n            // it tainted the canvas -- can't draw it.\n            _onerror();\n            return;\n        } finally {\n            if (bloburl) {\n                URL.revokeObjectURL(bloburl);\n            }\n        }\n\n        // in case it contains transparency, we must separate rgb data from the alpha\n        // channel and create a PDFRawImage image with opacity.  otherwise we can use a\n        // PDFJpegImage.\n        //\n        // to do this in one step, we create the rgb and alpha streams anyway, even if\n        // we might end up not using them if hasAlpha remains false.\n\n        var hasAlpha = false, rgb = BinaryStream(), alpha = BinaryStream();\n        var rawbytes = imgdata.data;\n        var i = 0;\n        while (i < rawbytes.length) {\n            rgb.writeByte(rawbytes[i++]);\n            rgb.writeByte(rawbytes[i++]);\n            rgb.writeByte(rawbytes[i++]);\n            var a = rawbytes[i++];\n            if (a < 255) {\n                hasAlpha = true;\n            }\n            alpha.writeByte(a);\n        }\n\n        if (hasAlpha) {\n            img = new PDFRawImage(size.width, size.height, rgb, alpha);\n        } else {\n            // no transparency, encode as JPEG.\n            var data = canvas.toDataURL(\"image/jpeg\");\n            data = data.substr(data.indexOf(\";base64,\") + 8);\n\n            var stream = BinaryStream();\n            stream.writeBase64(data);\n            img = new PDFJpegImage(stream);\n        }\n\n        cont(IMAGE_CACHE[url] = img);\n    }\n}\n\nfunction manyLoader(loadOne) {\n    return function(urls, callback) {\n        var n = urls.length, i = n;\n        if (n === 0) {\n            return callback();\n        }\n        function next() {\n            if (--n === 0) {\n                callback();\n            }\n        }\n        while (i-- > 0) {\n            loadOne(urls[i], next);\n        }\n    };\n}\n\nvar loadFonts = manyLoader(loadFont);\nvar loadImages = function(images, callback) {\n    var urls = Object.keys(images), n = urls.length;\n    if (n === 0) {\n        return callback();\n    }\n    function next() {\n        if (--n === 0) {\n            callback();\n        }\n    }\n    urls.forEach(function(url){\n        loadImage(url, images[url], next);\n    });\n};\n\nPDFDocument.prototype = {\n    loadFonts: loadFonts,\n    loadImages: loadImages,\n\n    getFont: function(url) {\n        var font = this.FONTS[url];\n        if (!font) {\n            font = FONT_CACHE[url];\n            if (!font) {\n                throw new Error(\"Font \" + url + \" has not been loaded\");\n            }\n            if (font === true) {\n                font = this.attach(new PDFStandardFont(url));\n            } else {\n                font = this.attach(new PDFFont(this, font));\n            }\n            this.FONTS[url] = font;\n        }\n        return font;\n    },\n\n    getImage: function(url) {\n        var img = this.IMAGES[url];\n        if (!img) {\n            img = IMAGE_CACHE[url];\n            if (!img) {\n                throw new Error(\"Image \" + url + \" has not been loaded\");\n            }\n            if (img === \"TAINTED\") {\n                return null;\n            }\n            img = this.IMAGES[url] = this.attach(img.asStream(this));\n        }\n        return img;\n    },\n\n    getOpacityGS: function(opacity, forStroke) {\n        var id = parseFloat(opacity).toFixed(3);\n        opacity = parseFloat(id);\n        id += forStroke ? \"S\" : \"F\";\n        var cache = this._opacityGSCache || (this._opacityGSCache = {});\n        var gs = cache[id];\n        if (!gs) {\n            var props = {\n                Type: _(\"ExtGState\")\n            };\n            if (forStroke) {\n                props.CA = opacity;\n            } else {\n                props.ca = opacity;\n            }\n            gs = this.attach(new PDFDictionary(props));\n            gs._resourceName = _(\"GS\" + (++RESOURCE_COUNTER));\n            cache[id] = gs;\n        }\n        return gs;\n    },\n\n    dict: function(props) {\n        return new PDFDictionary(props);\n    },\n\n    name: function(str) {\n        return _(str);\n    },\n\n    stream: function(props, content) {\n        return new PDFStream(content, props);\n    }\n};\n\n/* -----[ utils ]----- */\n\nfunction pad(str, len, ch) {\n    while (str.length < len) {\n        str = ch + str;\n    }\n    return str;\n}\n\nfunction zeropad(n, len) {\n    return pad(String(n), len, \"0\");\n}\n\nfunction hasOwnProperty(obj, key) {\n    return Object.prototype.hasOwnProperty.call(obj, key);\n}\n\nvar isArray = Array.isArray || function(obj) {\n    return obj instanceof Array;\n};\n\nfunction isDate(obj) {\n    return obj instanceof Date;\n}\n\nfunction renderArray(a, out) {\n    out(\"[\");\n    if (a.length > 0) {\n        out.withIndent(function(){\n            for (var i = 0; i < a.length; ++i) {\n                if (i > 0 && i % 8 === 0) {\n                    out.indent(a[i]);\n                } else {\n                    out(\" \", a[i]);\n                }\n            }\n        });\n        //out.indent();\n    }\n    out(\" ]\");\n}\n\nfunction renderDate(date, out) {\n    out(\"(D:\",\n        zeropad(date.getUTCFullYear(), 4),\n        zeropad(date.getUTCMonth() + 1, 2),\n        zeropad(date.getUTCDate(), 2),\n        zeropad(date.getUTCHours(), 2),\n        zeropad(date.getUTCMinutes(), 2),\n        zeropad(date.getUTCSeconds(), 2),\n        \"Z)\");\n}\n\nfunction mm2pt(mm) {\n    return mm * (72/25.4);\n}\n\nfunction cm2pt(cm) {\n    return mm2pt(cm * 10);\n}\n\nfunction in2pt(inch)  {\n    return inch * 72;\n}\n\n\nfunction unitsToPoints(x, def) {\n    if (typeof x == \"number\") {\n        return x;\n    }\n    if (typeof x == \"string\") {\n        var m;\n        m = /^\\s*([0-9.]+)\\s*(mm|cm|in|pt)\\s*$/.exec(x);\n        if (m) {\n            var num = parseFloat(m[1]);\n            if (!isNaN(num)) {\n                if (m[2] == \"pt\") {\n                    return num;\n                }\n                return {\n                    \"mm\": mm2pt,\n                    \"cm\": cm2pt,\n                    \"in\": in2pt\n                }[m[2]](num);\n            }\n        }\n    }\n    if (def != null) {\n        return def;\n    }\n    throw new Error(\"Can't parse unit: \" + x);\n}\n\n/* -----[ PDF basic objects ]----- */\n\nfunction PDFValue(){}\n\nPDFValue.prototype.beforeRender = function(){};\n\nfunction defclass(Ctor, proto, Base) {\n    if (!Base) {\n        Base = PDFValue;\n    }\n    Ctor.prototype = new Base();\n    for (var i in proto) {\n        if (hasOwnProperty(proto, i)) {\n            Ctor.prototype[i] = proto[i];\n        }\n    }\n    return Ctor;\n}\n\n/// strings\n\nvar PDFString = defclass(function PDFString(value){\n    this.value = value;\n}, {\n    render: function(out) {\n        var txt = \"\", val = this.value;\n        for (var i = 0; i < val.length; ++i) {\n            txt += String.fromCharCode(val.charCodeAt(i) & 0xFF);\n        }\n        out(\"(\", txt.replace(/([\\(\\)\\\\])/g, \"\\\\$1\"), \")\");\n    },\n    toString: function() {\n        return this.value;\n    }\n});\n\nvar PDFHexString = defclass(function PDFHexString(value){\n    this.value = value;\n}, {\n    render: function(out) {\n        out(\"<\");\n        for (var i = 0; i < this.value.length; ++i) {\n            out(zeropad(this.value.charCodeAt(i).toString(16), 4));\n        }\n        out(\">\");\n    }\n}, PDFString);\n\n/// names\n\nvar PDFName = defclass(function PDFName(name) {\n    this.name = name;\n}, {\n    render: function(out) {\n        out(\"/\" + this.escape());\n    },\n    escape: function() {\n        return this.name.replace(/[^\\x21-\\x7E]/g, function(c){\n            return \"#\" + zeropad(c.charCodeAt(0).toString(16), 2);\n        });\n    },\n    toString: function() {\n        return this.name;\n    }\n});\n\nvar PDFName_cache = {};\nPDFName.get = _;\n\nfunction _(name) {\n    if (hasOwnProperty(PDFName_cache, name)) {\n        return PDFName_cache[name];\n    }\n    return (PDFName_cache[name] = new PDFName(name));\n}\n\n/// dictionary\n\nvar PDFDictionary = defclass(function PDFDictionary(props) {\n    this.props = props;\n}, {\n    render: function(out) {\n        var props = this.props, empty = true;\n        out(\"<<\");\n        out.withIndent(function(){\n            for (var i in props) {\n                if (hasOwnProperty(props, i) && !/^_/.test(i)) {\n                    empty = false;\n                    out.indent(_(i), \" \", props[i]);\n                }\n            }\n        });\n        if (!empty) {\n            out.indent();\n        }\n        out(\">>\");\n    }\n});\n\n/// streams\n\nvar PDFStream = defclass(function PDFStream(data, props, compress) {\n    if (typeof data == \"string\") {\n        var tmp = BinaryStream();\n        tmp.write(data);\n        data = tmp;\n    }\n    this.data = data;\n    this.props = props || {};\n    this.compress = compress;\n}, {\n    render: function(out) {\n        var data = this.data.get(), props = this.props;\n        if (this.compress && supportsDeflate()) {\n            if (!props.Filter) {\n                props.Filter = [];\n            } else if (!(props.Filter instanceof Array)) {\n                props.Filter = [ props.Filter ];\n            }\n            props.Filter.unshift(_(\"FlateDecode\"));\n            data = deflate(data);\n        }\n        props.Length = data.length;\n        out(new PDFDictionary(props), \" stream\", NL);\n        out.writeData(data);\n        out(NL, \"endstream\");\n    }\n});\n\n/// catalog\n\nvar PDFCatalog = defclass(function PDFCatalog(props){\n    props = this.props = props || {};\n    props.Type = _(\"Catalog\");\n}, {\n    setPages: function(pagesObj) {\n        this.props.Pages = pagesObj;\n    }\n}, PDFDictionary);\n\n/// page tree\n\nvar PDFPageTree = defclass(function PDFPageTree(){\n    this.props = {\n        Type  : _(\"Pages\"),\n        Kids  : [],\n        Count : 0\n    };\n}, {\n    addPage: function(pageObj) {\n        this.props.Kids.push(pageObj);\n        this.props.Count++;\n    }\n}, PDFDictionary);\n\n/// images\n\n// JPEG\n\nvar SOF_CODES = [0xc0, 0xc1, 0xc2, 0xc3, 0xc5, 0xc6, 0xc7, 0xc9, 0xca, 0xcb, 0xcd, 0xce, 0xcf];\n\nfunction PDFJpegImage(data) {\n    // we must determine the correct color space.  we'll parse a bit\n    // of the JPEG stream for this, it's still better than going\n    // through the canvas.\n    // https://github.com/telerik/kendo-ui-core/issues/2845\n    data.offset(0);\n    var width, height, colorSpace, bitsPerComponent;\n    var soi = data.readShort();\n    if (soi != 0xFFD8) {\n        // XXX: do we have some better options here?\n        throw new Error(\"Invalid JPEG image\");\n    }\n    while (!data.eof()) {\n        var ff = data.readByte();\n        if (ff != 0xFF) {\n            throw new Error(\"Invalid JPEG image\");\n        }\n        var marker = data.readByte();\n        var length = data.readShort();\n        if (SOF_CODES.indexOf(marker) >= 0) {\n            // \"start of frame\" marker\n            bitsPerComponent = data.readByte();\n            height = data.readShort();\n            width = data.readShort();\n            colorSpace = data.readByte();\n            break;\n        }\n        data.skip(length - 2);\n    }\n\n    if (colorSpace == null) {\n        throw new Error(\"Invalid JPEG image\");\n    }\n\n    var props = {\n        Type             : _(\"XObject\"),\n        Subtype          : _(\"Image\"),\n        Width            : width,\n        Height           : height,\n        BitsPerComponent : bitsPerComponent,\n        Filter           : _(\"DCTDecode\")\n    };\n\n    switch (colorSpace) {\n      case 1:\n        props.ColorSpace = _(\"DeviceGray\");\n        break;\n      case 3:\n        props.ColorSpace = _(\"DeviceRGB\");\n        break;\n      case 4:\n        props.ColorSpace = _(\"DeviceCMYK\");\n        props.Decode = [ 1, 0, 1, 0, 1, 0, 1, 0 ]; // invert colors\n        break;\n    }\n\n    this.asStream = function() {\n        data.offset(0);\n        var stream = new PDFStream(data, props);\n        stream._resourceName = _(\"I\" + (++RESOURCE_COUNTER));\n        return stream;\n    };\n}\n\n// PDFRawImage will be used for images with transparency (PNG)\n\nfunction PDFRawImage(width, height, rgb, alpha) {\n    this.asStream = function(pdf) {\n        var mask = new PDFStream(alpha, {\n            Type             : _(\"XObject\"),\n            Subtype          : _(\"Image\"),\n            Width            : width,\n            Height           : height,\n            BitsPerComponent : 8,\n            ColorSpace       : _(\"DeviceGray\")\n        }, true);\n        var stream = new PDFStream(rgb, {\n            Type             : _(\"XObject\"),\n            Subtype          : _(\"Image\"),\n            Width            : width,\n            Height           : height,\n            BitsPerComponent : 8,\n            ColorSpace       : _(\"DeviceRGB\"),\n            SMask            : pdf.attach(mask)\n        }, true);\n        stream._resourceName = _(\"I\" + (++RESOURCE_COUNTER));\n        return stream;\n    };\n}\n\n/// standard fonts\n\nvar PDFStandardFont = defclass(function PDFStandardFont(name){\n    this.props = {\n        Type     : _(\"Font\"),\n        Subtype  : _(\"Type1\"),\n        BaseFont : _(name)\n    };\n    this._resourceName = _(\"F\" + (++RESOURCE_COUNTER));\n}, {\n    encodeText: function(str) {\n        return new PDFString(String(str));\n    }\n}, PDFDictionary);\n\n/// TTF fonts\n\nvar PDFFont = defclass(function PDFFont(pdf, font, props){\n    props = this.props = props || {};\n    props.Type = _(\"Font\");\n    props.Subtype = _(\"Type0\");\n    props.Encoding = _(\"Identity-H\");\n\n    this._pdf = pdf;\n    this._font = font;\n    this._sub = font.makeSubset();\n    this._resourceName = _(\"F\" + (++RESOURCE_COUNTER));\n\n    var head = font.head;\n\n    this.name = font.psName;\n    var scale = this.scale = font.scale;\n    this.bbox = [\n        head.xMin * scale,\n        head.yMin * scale,\n        head.xMax * scale,\n        head.yMax * scale\n    ];\n\n    this.italicAngle = font.post.italicAngle;\n    this.ascent = font.ascent * scale;\n    this.descent = font.descent * scale;\n    this.lineGap = font.lineGap * scale;\n    this.capHeight = font.os2.capHeight || this.ascent;\n    this.xHeight = font.os2.xHeight || 0;\n    this.stemV = 0;\n\n    this.familyClass = (font.os2.familyClass || 0) >> 8;\n    this.isSerif = this.familyClass >= 1 && this.familyClass <= 7;\n    this.isScript = this.familyClass == 10;\n\n    this.flags = ((font.post.isFixedPitch ? 1 : 0) |\n                  (this.isSerif ? 1 << 1 : 0) |\n                  (this.isScript ? 1 << 3 : 0) |\n                  (this.italicAngle !== 0 ? 1 << 6 : 0) |\n                  (1 << 5));\n}, {\n    encodeText: function(text) {\n        return new PDFHexString(this._sub.encodeText(String(text)));\n    },\n    getTextWidth: function(fontSize, text) {\n        var width = 0, codeMap = this._font.cmap.codeMap;\n        for (var i = 0; i < text.length; ++i) {\n            var glyphId = codeMap[text.charCodeAt(i)];\n            width += this._font.widthOfGlyph(glyphId || 0);\n        }\n        return width * fontSize / 1000;\n    },\n    beforeRender: function() {\n        var self = this;\n        var sub = self._sub;\n\n        // write the TTF data\n        var data = sub.render();\n        var fontStream = new PDFStream(BinaryStream(data), {\n            Length1: data.length\n        }, true);\n\n        var descriptor = self._pdf.attach(new PDFDictionary({\n            Type         : _(\"FontDescriptor\"),\n            FontName     : _(self._sub.psName),\n            FontBBox     : self.bbox,\n            Flags        : self.flags,\n            StemV        : self.stemV,\n            ItalicAngle  : self.italicAngle,\n            Ascent       : self.ascent,\n            Descent      : self.descent,\n            CapHeight    : self.capHeight,\n            XHeight      : self.xHeight,\n            FontFile2    : self._pdf.attach(fontStream)\n        }));\n\n        var cmap = sub.ncid2ogid;\n        var firstChar = sub.firstChar;\n        var lastChar = sub.lastChar;\n        var charWidths = [];\n        (function loop(i, chunk){\n            if (i <= lastChar) {\n                var gid = cmap[i];\n                if (gid == null) {\n                    loop(i + 1);\n                } else {\n                    if (!chunk) {\n                        charWidths.push(i, chunk = []);\n                    }\n                    chunk.push(self._font.widthOfGlyph(gid));\n                    loop(i + 1, chunk);\n                }\n            }\n        })(firstChar);\n\n        // As if two dictionaries weren't enough, we need another\n        // one, the \"descendant font\".  Only that one can be of\n        // Subtype CIDFontType2.  PDF is the X11 of document\n        // formats: portable but full of legacy that nobody cares\n        // about anymore.\n\n        var descendant = new PDFDictionary({\n            Type: _(\"Font\"),\n            Subtype: _(\"CIDFontType2\"),\n            BaseFont: _(self._sub.psName),\n            CIDSystemInfo: new PDFDictionary({\n                Registry   : new PDFString(\"Adobe\"),\n                Ordering   : new PDFString(\"Identity\"),\n                Supplement : 0\n            }),\n            FontDescriptor: descriptor,\n            FirstChar: firstChar,\n            LastChar: lastChar,\n            DW: Math.round(self._font.widthOfGlyph(0)),\n            W: charWidths,\n            CIDToGIDMap: self._pdf.attach(self._makeCidToGidMap())\n        });\n\n        var dict = self.props;\n        dict.BaseFont = _(self._sub.psName);\n        dict.DescendantFonts = [ self._pdf.attach(descendant) ];\n\n        // Compute the ToUnicode map so that apps can extract\n        // meaningful text from the PDF.\n        var unimap = new PDFToUnicodeCmap(firstChar, lastChar, sub.subset);\n        var unimapStream = new PDFStream(makeOutput(), null, true);\n        unimapStream.data(unimap);\n        dict.ToUnicode = self._pdf.attach(unimapStream);\n    },\n    _makeCidToGidMap: function() {\n        return new PDFStream(BinaryStream(this._sub.cidToGidMap()), null, true);\n    }\n}, PDFDictionary);\n\nvar PDFToUnicodeCmap = defclass(function PDFUnicodeCMap(firstChar, lastChar, map){\n    this.firstChar = firstChar;\n    this.lastChar = lastChar;\n    this.map = map;\n}, {\n    render: function(out) {\n        out.indent(\"/CIDInit /ProcSet findresource begin\");\n        out.indent(\"12 dict begin\");\n        out.indent(\"begincmap\");\n        out.indent(\"/CIDSystemInfo <<\");\n        out.indent(\"  /Registry (Adobe)\");\n        out.indent(\"  /Ordering (UCS)\");\n        out.indent(\"  /Supplement 0\");\n        out.indent(\">> def\");\n        out.indent(\"/CMapName /Adobe-Identity-UCS def\");\n        out.indent(\"/CMapType 2 def\");\n        out.indent(\"1 begincodespacerange\");\n        out.indent(\"  <0000><ffff>\");\n        out.indent(\"endcodespacerange\");\n\n        var self = this;\n        out.indent(self.lastChar - self.firstChar + 1, \" beginbfchar\");\n        out.withIndent(function(){\n            for (var code = self.firstChar; code <= self.lastChar; ++code) {\n                var unicode = self.map[code];\n                var str = ucs2encode([ unicode ]);\n                out.indent(\"<\", zeropad(code.toString(16), 4), \">\", \"<\");\n                for (var i = 0; i < str.length; ++i) {\n                    out(zeropad(str.charCodeAt(i).toString(16), 4));\n                }\n                out(\">\");\n            }\n        });\n        out.indent(\"endbfchar\");\n\n        out.indent(\"endcmap\");\n        out.indent(\"CMapName currentdict /CMap defineresource pop\");\n        out.indent(\"end\");\n        out.indent(\"end\");\n    }\n});\n\n/// gradients\n\nfunction makeHash(a) {\n    return a.map(function(x){\n        return isArray(x) ? makeHash(x)\n            : typeof x == \"number\" ? (Math.round(x * 1000) / 1000).toFixed(3)\n            : x;\n    }).join(\" \");\n}\n\nfunction cacheColorGradientFunction(pdf, r1, g1, b1, r2, g2, b2) {\n    var hash = makeHash([ r1, g1, b1, r2, g2, b2 ]);\n    var func = pdf.GRAD_COL_FUNCTIONS[hash];\n    if (!func) {\n        func = pdf.GRAD_COL_FUNCTIONS[hash] = pdf.attach(new PDFDictionary({\n            FunctionType: 2,\n            Domain: [ 0, 1 ],\n            Range: [ 0, 1, 0, 1, 0, 1 ],\n            N: 1,\n            C0: [ r1 , g1 , b1 ],\n            C1: [ r2 , g2 , b2 ]\n        }));\n    }\n    return func;\n}\n\nfunction cacheOpacityGradientFunction(pdf, a1, a2) {\n    var hash = makeHash([ a1, a2 ]);\n    var func = pdf.GRAD_OPC_FUNCTIONS[hash];\n    if (!func) {\n        func = pdf.GRAD_OPC_FUNCTIONS[hash] = pdf.attach(new PDFDictionary({\n            FunctionType: 2,\n            Domain: [ 0, 1 ],\n            Range: [ 0, 1 ],\n            N: 1,\n            C0: [ a1 ],\n            C1: [ a2 ]\n        }));\n    }\n    return func;\n}\n\nfunction makeGradientFunctions(pdf, stops) {\n    var hasAlpha = false;\n    var opacities = [];\n    var colors = [];\n    var offsets = [];\n    var encode = [];\n    var i, prev, cur, prevColor, curColor;\n    for (i = 1; i < stops.length; ++i) {\n        prev = stops[i - 1];\n        cur = stops[i];\n        prevColor = prev.color;\n        curColor = cur.color;\n        colors.push(cacheColorGradientFunction(\n            pdf,\n            prevColor.r, prevColor.g, prevColor.b,\n            curColor.r,  curColor.g,  curColor.b\n        ));\n        if (prevColor.a < 1 || curColor.a < 1) {\n            hasAlpha = true;\n        }\n        offsets.push(cur.offset);\n        encode.push(0, 1);\n    }\n    if (hasAlpha) {\n        for (i = 1; i < stops.length; ++i) {\n            prev = stops[i - 1];\n            cur = stops[i];\n            prevColor = prev.color;\n            curColor = cur.color;\n            opacities.push(cacheOpacityGradientFunction(\n                pdf, prevColor.a, curColor.a\n            ));\n        }\n    }\n    offsets.pop();\n    return {\n        hasAlpha  : hasAlpha,\n        colors    : assemble(colors),\n        opacities : hasAlpha ? assemble(opacities) : null\n    };\n    function assemble(funcs) {\n        if (funcs.length == 1) {\n            return funcs[0];\n        }\n        return {\n            FunctionType: 3,\n            Functions: funcs,\n            Domain: [ 0, 1 ],\n            Bounds: offsets,\n            Encode: encode\n        };\n    }\n}\n\nfunction cacheColorGradient(pdf, isRadial, stops, coords, funcs, box) {\n    var shading, hash;\n    // if box is given then we have user-space coordinates, which\n    // means the gradient is designed for a certain position/size\n    // on page.  caching won't do any good.\n    if (!box) {\n        var a = [ isRadial ].concat(coords);\n        stops.forEach(function(x){\n            a.push(x.offset, x.color.r, x.color.g, x.color.b);\n        });\n        hash = makeHash(a);\n        shading = pdf.GRAD_COL[hash];\n    }\n    if (!shading) {\n        shading = new PDFDictionary({\n            Type: _(\"Shading\"),\n            ShadingType: isRadial ? 3 : 2,\n            ColorSpace: _(\"DeviceRGB\"),\n            Coords: coords,\n            Domain: [ 0, 1 ],\n            Function: funcs,\n            Extend: [ true, true ]\n        });\n        pdf.attach(shading);\n        shading._resourceName = \"S\" + (++RESOURCE_COUNTER);\n        if (hash) {\n            pdf.GRAD_COL[hash] = shading;\n        }\n    }\n    return shading;\n}\n\nfunction cacheOpacityGradient(pdf, isRadial, stops, coords, funcs, box) {\n    var opacity, hash;\n    // if box is given then we have user-space coordinates, which\n    // means the gradient is designed for a certain position/size\n    // on page.  caching won't do any good.\n    if (!box) {\n        var a = [ isRadial ].concat(coords);\n        stops.forEach(function(x){\n            a.push(x.offset, x.color.a);\n        });\n        hash = makeHash(a);\n        opacity = pdf.GRAD_OPC[hash];\n    }\n    if (!opacity) {\n        opacity = new PDFDictionary({\n            Type: _(\"ExtGState\"),\n            AIS: false,\n            CA: 1,\n            ca: 1,\n            SMask: {\n                Type: _(\"Mask\"),\n                S: _(\"Luminosity\"),\n                G: pdf.attach(new PDFStream(\"/a0 gs /s0 sh\", {\n                    Type: _(\"XObject\"),\n                    Subtype: _(\"Form\"),\n                    FormType: 1,\n                    BBox: (box ? [\n                        box.left, box.top + box.height, box.left + box.width, box.top\n                    ] : [ 0, 1, 1, 0 ]),\n                    Group: {\n                        Type: _(\"Group\"),\n                        S: _(\"Transparency\"),\n                        CS: _(\"DeviceGray\"),\n                        I: true\n                    },\n                    Resources: {\n                        ExtGState: {\n                            a0: { CA: 1, ca: 1 }\n                        },\n                        Shading: {\n                            s0: {\n                                ColorSpace: _(\"DeviceGray\"),\n                                Coords: coords,\n                                Domain: [ 0, 1 ],\n                                ShadingType: isRadial ? 3 : 2,\n                                Function: funcs,\n                                Extend: [ true, true ]\n                            }\n                        }\n                    }\n                }))\n            }\n        });\n        pdf.attach(opacity);\n        opacity._resourceName = \"O\" + (++RESOURCE_COUNTER);\n        if (hash) {\n            pdf.GRAD_OPC[hash] = opacity;\n        }\n    }\n    return opacity;\n}\n\nfunction cacheGradient(pdf, gradient, box) {\n    var isRadial = gradient.type == \"radial\";\n    var funcs = makeGradientFunctions(pdf, gradient.stops);\n    var coords = isRadial ? [\n        gradient.start.x , gradient.start.y , gradient.start.r,\n        gradient.end.x   , gradient.end.y   , gradient.end.r\n    ] : [\n        gradient.start.x , gradient.start.y,\n        gradient.end.x   , gradient.end.y\n    ];\n    var shading = cacheColorGradient(\n        pdf, isRadial, gradient.stops, coords, funcs.colors, gradient.userSpace && box\n    );\n    var opacity = funcs.hasAlpha ? cacheOpacityGradient(\n        pdf, isRadial, gradient.stops, coords, funcs.opacities, gradient.userSpace && box\n    ) : null;\n    return {\n        hasAlpha: funcs.hasAlpha,\n        shading: shading,\n        opacity: opacity\n    };\n}\n\n/// page object\n\nvar PDFPage = defclass(function PDFPage(pdf, props){\n    this._pdf = pdf;\n    this._rcount = 0;\n    this._textMode = false;\n    this._fontResources = {};\n    this._gsResources = {};\n    this._xResources = {};\n    this._patResources = {};\n    this._shResources = {};\n    this._opacity = 1;\n    this._matrix = [ 1, 0, 0, 1, 0, 0 ];\n    this._annotations = [];\n\n    this._font = null;\n    this._fontSize = null;\n\n    this._contextStack = [];\n\n    props = this.props = props || {};\n    props.Type = _(\"Page\");\n    props.ProcSet = [\n        _(\"PDF\"),\n        _(\"Text\"),\n        _(\"ImageB\"),\n        _(\"ImageC\"),\n        _(\"ImageI\")\n    ];\n    props.Resources = new PDFDictionary({\n        Font      : new PDFDictionary(this._fontResources),\n        ExtGState : new PDFDictionary(this._gsResources),\n        XObject   : new PDFDictionary(this._xResources),\n        Pattern   : new PDFDictionary(this._patResources),\n        Shading   : new PDFDictionary(this._shResources)\n    });\n    props.Annots = this._annotations;\n}, {\n    _out: function() {\n        this._content.data.apply(null, arguments);\n    },\n    transform: function(a, b, c, d, e, f) {\n        if (!isIdentityMatrix(arguments)) {\n            this._matrix = mmul(arguments, this._matrix);\n            this._out(a, \" \", b, \" \", c, \" \", d, \" \", e, \" \", f, \" cm\");\n            // XXX: debug\n            // this._out(\" % current matrix: \", this._matrix);\n            this._out(NL);\n        }\n    },\n    translate: function(dx, dy) {\n        this.transform(1, 0, 0, 1, dx, dy);\n    },\n    scale: function(sx, sy) {\n        this.transform(sx, 0, 0, sy, 0, 0);\n    },\n    rotate: function(angle) {\n        var cos = Math.cos(angle), sin = Math.sin(angle);\n        this.transform(cos, sin, -sin, cos, 0, 0);\n    },\n    beginText: function() {\n        this._textMode = true;\n        this._out(\"BT\", NL);\n    },\n    endText: function() {\n        this._textMode = false;\n        this._out(\"ET\", NL);\n    },\n    _requireTextMode: function() {\n        if (!this._textMode) {\n            throw new Error(\"Text mode required; call page.beginText() first\");\n        }\n    },\n    _requireFont: function() {\n        if (!this._font) {\n            throw new Error(\"No font selected; call page.setFont() first\");\n        }\n    },\n    setFont: function(font, size) {\n        this._requireTextMode();\n        if (font == null) {\n            font = this._font;\n        } else if (!(font instanceof PDFFont)) {\n            font = this._pdf.getFont(font);\n        }\n        if (size == null) {\n            size = this._fontSize;\n        }\n        this._fontResources[font._resourceName] = font;\n        this._font = font;\n        this._fontSize = size;\n        this._out(font._resourceName, \" \", size, \" Tf\", NL);\n    },\n    setTextLeading: function(size) {\n        this._requireTextMode();\n        this._out(size, \" TL\", NL);\n    },\n    setTextRenderingMode: function(mode) {\n        this._requireTextMode();\n        this._out(mode, \" Tr\", NL);\n    },\n    showText: function(text, requestedWidth) {\n        this._requireFont();\n        if (text.length > 1 && requestedWidth && this._font instanceof PDFFont) {\n            var outputWidth = this._font.getTextWidth(this._fontSize, text);\n            var scale = requestedWidth / outputWidth * 100;\n            this._out(scale, \" Tz \");\n        }\n        this._out(this._font.encodeText(text), \" Tj\", NL);\n    },\n    showTextNL: function(text) {\n        this._requireFont();\n        this._out(this._font.encodeText(text), \" '\", NL);\n    },\n    addLink: function(uri, box) {\n        var ll = this._toPage({ x: box.left, y: box.bottom });\n        var ur = this._toPage({ x: box.right, y: box.top });\n        this._annotations.push(new PDFDictionary({\n            Type    : _(\"Annot\"),\n            Subtype : _(\"Link\"),\n            Rect    : [ ll.x, ll.y, ur.x, ur.y ],\n            Border  : [ 0, 0, 0 ],\n            A       : new PDFDictionary({\n                Type : _(\"Action\"),\n                S    : _(\"URI\"),\n                URI  : new PDFString(uri)\n            })\n        }));\n    },\n    setStrokeColor: function(r, g, b) {\n        this._out(r, \" \", g, \" \", b, \" RG\", NL);\n    },\n    setOpacity: function(opacity) {\n        this.setFillOpacity(opacity);\n        this.setStrokeOpacity(opacity);\n        this._opacity *= opacity;\n    },\n    setStrokeOpacity: function(opacity) {\n        if (opacity < 1) {\n            var gs = this._pdf.getOpacityGS(this._opacity * opacity, true);\n            this._gsResources[gs._resourceName] = gs;\n            this._out(gs._resourceName, \" gs\", NL);\n        }\n    },\n    setFillColor: function(r, g, b) {\n        this._out(r, \" \", g, \" \", b, \" rg\", NL);\n    },\n    setFillOpacity: function(opacity) {\n        if (opacity < 1) {\n            var gs = this._pdf.getOpacityGS(this._opacity * opacity, false);\n            this._gsResources[gs._resourceName] = gs;\n            this._out(gs._resourceName, \" gs\", NL);\n        }\n    },\n    gradient: function(gradient, box) {\n        this.save();\n        this.rect(box.left, box.top, box.width, box.height);\n        this.clip();\n        if (!gradient.userSpace) {\n            this.transform(box.width, 0, 0, box.height, box.left, box.top);\n        }\n        var g = cacheGradient(this._pdf, gradient, box);\n        var sname = g.shading._resourceName, oname;\n        this._shResources[sname] = g.shading;\n        if (g.hasAlpha) {\n            oname = g.opacity._resourceName;\n            this._gsResources[oname] = g.opacity;\n            this._out(\"/\" + oname + \" gs \");\n        }\n        this._out(\"/\" + sname + \" sh\", NL);\n        this.restore();\n    },\n    setDashPattern: function(dashArray, dashPhase) {\n        this._out(dashArray, \" \", dashPhase, \" d\", NL);\n    },\n    setLineWidth: function(width) {\n        this._out(width, \" w\", NL);\n    },\n    setLineCap: function(lineCap) {\n        this._out(lineCap, \" J\", NL);\n    },\n    setLineJoin: function(lineJoin) {\n        this._out(lineJoin, \" j\", NL);\n    },\n    setMitterLimit: function(mitterLimit) {\n        this._out(mitterLimit, \" M\", NL);\n    },\n    save: function() {\n        this._contextStack.push(this._context());\n        this._out(\"q\", NL);\n    },\n    restore: function() {\n        this._out(\"Q\", NL);\n        this._context(this._contextStack.pop());\n    },\n\n    // paths\n    moveTo: function(x, y) {\n        this._out(x, \" \", y, \" m\", NL);\n    },\n    lineTo: function(x, y) {\n        this._out(x, \" \", y, \" l\", NL);\n    },\n    bezier: function(x1, y1, x2, y2, x3, y3) {\n        this._out(x1, \" \", y1, \" \", x2, \" \", y2, \" \", x3, \" \", y3, \" c\", NL);\n    },\n    bezier1: function(x1, y1, x3, y3) {\n        this._out(x1, \" \", y1, \" \", x3, \" \", y3, \" y\", NL);\n    },\n    bezier2: function(x2, y2, x3, y3) {\n        this._out(x2, \" \", y2, \" \", x3, \" \", y3, \" v\", NL);\n    },\n    close: function() {\n        this._out(\"h\", NL);\n    },\n    rect: function(x, y, w, h) {\n        this._out(x, \" \", y, \" \", w, \" \", h, \" re\", NL);\n    },\n    ellipse: function(x, y, rx, ry) {\n        function _X(v) { return x + v; }\n        function _Y(v) { return y + v; }\n\n        // how to get to the \"magic number\" is explained here:\n        // http://www.whizkidtech.redprince.net/bezier/circle/kappa/\n        var k = 0.5522847498307936;\n\n        this.moveTo(_X(0), _Y(ry));\n        this.bezier(\n            _X(rx * k) , _Y(ry),\n            _X(rx)     , _Y(ry * k),\n            _X(rx)     , _Y(0)\n        );\n        this.bezier(\n            _X(rx)     , _Y(-ry * k),\n            _X(rx * k) , _Y(-ry),\n            _X(0)      , _Y(-ry)\n        );\n        this.bezier(\n            _X(-rx * k) , _Y(-ry),\n            _X(-rx)     , _Y(-ry * k),\n            _X(-rx)     , _Y(0)\n        );\n        this.bezier(\n            _X(-rx)     , _Y(ry * k),\n            _X(-rx * k) , _Y(ry),\n            _X(0)       , _Y(ry)\n        );\n    },\n    circle: function(x, y, r) {\n        this.ellipse(x, y, r, r);\n    },\n    stroke: function() {\n        this._out(\"S\", NL);\n    },\n    nop: function() {\n        this._out(\"n\", NL);\n    },\n    clip: function() {\n        this._out(\"W n\", NL);\n    },\n    clipStroke: function() {\n        this._out(\"W S\", NL);\n    },\n    closeStroke: function() {\n        this._out(\"s\", NL);\n    },\n    fill: function() {\n        this._out(\"f\", NL);\n    },\n    fillStroke: function() {\n        this._out(\"B\", NL);\n    },\n    drawImage: function(url) {\n        var img = this._pdf.getImage(url);\n        if (img) { // the result can be null for a cross-domain image\n            this._xResources[img._resourceName] = img;\n            this._out(img._resourceName, \" Do\", NL);\n        }\n    },\n    comment: function(txt) {\n        var self = this;\n        txt.split(/\\r?\\n/g).forEach(function(line){\n            self._out(\"% \", line, NL);\n        });\n    },\n\n    // internal\n    _context: function(val) {\n        if (val != null) {\n            this._opacity = val.opacity;\n            this._matrix = val.matrix;\n        } else {\n            return {\n                opacity: this._opacity,\n                matrix: this._matrix\n            };\n        }\n    },\n\n    _toPage: function(p) {\n        var m = this._matrix;\n        var a = m[0], b = m[1], c = m[2], d = m[3], e = m[4], f = m[5];\n        return {\n            x: a*p.x + c*p.y + e,\n            y: b*p.x + d*p.y + f\n        };\n    }\n}, PDFDictionary);\n\nfunction unquote(str) {\n    return str.replace(/^\\s*(['\"])(.*)\\1\\s*$/, \"$2\");\n}\n\nfunction parseFontDef(fontdef) {\n    // XXX: this is very crude for now and buggy.  Proper parsing is quite involved.\n    var rx = /^\\s*((normal|italic)\\s+)?((normal|small-caps)\\s+)?((normal|bold|\\d+)\\s+)?(([0-9.]+)(px|pt))(\\/(([0-9.]+)(px|pt)|normal))?\\s+(.*?)\\s*$/i;\n    var m = rx.exec(fontdef);\n    if (!m) {\n        return { fontSize: 12, fontFamily: \"sans-serif\" };\n    }\n    var fontSize = m[8] ? parseInt(m[8], 10) : 12;\n    return {\n        italic     : m[2] && m[2].toLowerCase() == \"italic\",\n        variant    : m[4],\n        bold       : m[6] && /bold|700/i.test(m[6]),\n        fontSize   : fontSize,\n        lineHeight : m[12] ? m[12] == \"normal\" ? fontSize : parseInt(m[12], 10) : null,\n        fontFamily : m[14].split(/\\s*,\\s*/g).map(unquote)\n    };\n}\n\nfunction getFontURL(style) {\n    function mkFamily(name) {\n        if (style.bold) {\n            name += \"|bold\";\n        }\n        if (style.italic) {\n            name += \"|italic\";\n        }\n        return name.toLowerCase();\n    }\n    var fontFamily = style.fontFamily;\n    var name, url;\n    if (fontFamily instanceof Array) {\n        for (var i = 0; i < fontFamily.length; ++i) {\n            name = mkFamily(fontFamily[i]);\n            url = FONT_MAPPINGS[name];\n            if (url) {\n                break;\n            }\n        }\n    } else {\n        url = FONT_MAPPINGS[fontFamily.toLowerCase()];\n    }\n    while (typeof url == \"function\") {\n        url = url();\n    }\n    if (!url) {\n        url = \"Times-Roman\";\n    }\n    return url;\n}\n\nvar FONT_MAPPINGS = {\n    \"serif\"                    : \"Times-Roman\",\n    \"serif|bold\"               : \"Times-Bold\",\n    \"serif|italic\"             : \"Times-Italic\",\n    \"serif|bold|italic\"        : \"Times-BoldItalic\",\n    \"sans-serif\"               : \"Helvetica\",\n    \"sans-serif|bold\"          : \"Helvetica-Bold\",\n    \"sans-serif|italic\"        : \"Helvetica-Oblique\",\n    \"sans-serif|bold|italic\"   : \"Helvetica-BoldOblique\",\n    \"monospace\"                : \"Courier\",\n    \"monospace|bold\"           : \"Courier-Bold\",\n    \"monospace|italic\"         : \"Courier-Oblique\",\n    \"monospace|bold|italic\"    : \"Courier-BoldOblique\",\n    \"zapfdingbats\"             : \"ZapfDingbats\",\n    \"zapfdingbats|bold\"        : \"ZapfDingbats\",\n    \"zapfdingbats|italic\"      : \"ZapfDingbats\",\n    \"zapfdingbats|bold|italic\" : \"ZapfDingbats\"\n};\n\nfunction fontAlias(alias, name) {\n    alias = alias.toLowerCase();\n    FONT_MAPPINGS[alias] = function() {\n        return FONT_MAPPINGS[name];\n    };\n    FONT_MAPPINGS[alias + \"|bold\"] = function() {\n        return FONT_MAPPINGS[name + \"|bold\"];\n    };\n    FONT_MAPPINGS[alias + \"|italic\"] = function() {\n        return FONT_MAPPINGS[name + \"|italic\"];\n    };\n    FONT_MAPPINGS[alias + \"|bold|italic\"] = function() {\n        return FONT_MAPPINGS[name + \"|bold|italic\"];\n    };\n}\n\n// Let's define some common names to an appropriate replacement.\n// These are overridable via pdf.defineFont, should the user want to\n// include the proper versions.\n\nfontAlias(\"Times New Roman\" , \"serif\");\nfontAlias(\"Courier New\"     , \"monospace\");\nfontAlias(\"Arial\"           , \"sans-serif\");\nfontAlias(\"Helvetica\"       , \"sans-serif\");\nfontAlias(\"Verdana\"         , \"sans-serif\");\nfontAlias(\"Tahoma\"          , \"sans-serif\");\nfontAlias(\"Georgia\"         , \"sans-serif\");\nfontAlias(\"Monaco\"          , \"monospace\");\nfontAlias(\"Andale Mono\"     , \"monospace\");\n\nfunction defineFont(name, url) {\n    if (arguments.length == 1) {\n        for (var i in name) {\n            if (hasOwnProperty(name, i)) {\n                defineFont(i, name[i]);\n            }\n        }\n    } else {\n        name = name.toLowerCase();\n        FONT_MAPPINGS[name] = url;\n\n        // special handling for DejaVu fonts: if they get defined,\n        // let them also replace the default families, for good\n        // Unicode support out of the box.\n        switch (name) {\n          case \"dejavu sans\"               : FONT_MAPPINGS[\"sans-serif\"]              = url; break;\n          case \"dejavu sans|bold\"          : FONT_MAPPINGS[\"sans-serif|bold\"]         = url; break;\n          case \"dejavu sans|italic\"        : FONT_MAPPINGS[\"sans-serif|italic\"]       = url; break;\n          case \"dejavu sans|bold|italic\"   : FONT_MAPPINGS[\"sans-serif|bold|italic\"]  = url; break;\n          case \"dejavu serif\"              : FONT_MAPPINGS[\"serif\"]                   = url; break;\n          case \"dejavu serif|bold\"         : FONT_MAPPINGS[\"serif|bold\"]              = url; break;\n          case \"dejavu serif|italic\"       : FONT_MAPPINGS[\"serif|italic\"]            = url; break;\n          case \"dejavu serif|bold|italic\"  : FONT_MAPPINGS[\"serif|bold|italic\"]       = url; break;\n          case \"dejavu mono\"               : FONT_MAPPINGS[\"monospace\"]               = url; break;\n          case \"dejavu mono|bold\"          : FONT_MAPPINGS[\"monospace|bold\"]          = url; break;\n          case \"dejavu mono|italic\"        : FONT_MAPPINGS[\"monospace|italic\"]        = url; break;\n          case \"dejavu mono|bold|italic\"   : FONT_MAPPINGS[\"monospace|bold|italic\"]   = url; break;\n        }\n    }\n}\n\nfunction mmul(a, b) {\n    var a1 = a[0], b1 = a[1], c1 = a[2], d1 = a[3], e1 = a[4], f1 = a[5];\n    var a2 = b[0], b2 = b[1], c2 = b[2], d2 = b[3], e2 = b[4], f2 = b[5];\n    return [\n        a1*a2 + b1*c2,          a1*b2 + b1*d2,\n        c1*a2 + d1*c2,          c1*b2 + d1*d2,\n        e1*a2 + f1*c2 + e2,     e1*b2 + f1*d2 + f2\n    ];\n}\n\nfunction isIdentityMatrix(m) {\n    return m[0] === 1 && m[1] === 0 && m[2] === 0 && m[3] === 1 && m[4] === 0 && m[5] === 0;\n}\n\nconst TEXT_RENDERING_MODE = {\n    fill           : 0,\n    stroke         : 1,\n    fillAndStroke  : 2,\n    invisible      : 3,\n    fillAndClip    : 4,\n    strokeAndClip  : 5,\n    fillStrokeClip : 6,\n    clip           : 7\n};\n\nexport {\n    PDFDocument as Document,\n    BinaryStream,\n    defineFont,\n    parseFontDef,\n    getFontURL,\n    loadFonts,\n    loadImages,\n    getPaperOptions,\n    clearImageCache,\n    TEXT_RENDERING_MODE\n};\n","/* eslint-disable no-multi-spaces, key-spacing, indent, camelcase, space-before-blocks, eqeqeq, brace-style */\n/* eslint-disable space-infix-ops, space-before-function-paren, array-bracket-spacing, object-curly-spacing */\n/* eslint-disable no-nested-ternary, max-params, default-case, no-else-return, no-empty */\n/* eslint-disable no-param-reassign, no-var, block-scoped-var */\n\nimport { createPromise } from \"../util\";\nimport { parseColor as utils_parseColor, saveAs as util_saveAs, support } from \"../common\";\nimport * as PDF from \"./core\";\nimport { Group, MultiPath, Gradient, RadialGradient } from '../drawing';\nimport * as geo from \"../geometry\";\n\nvar TEXT_RENDERING_MODE = PDF.TEXT_RENDERING_MODE;\n\nvar DASH_PATTERNS = {\n    dash           : [ 4 ],\n    dashDot        : [ 4, 2, 1, 2 ],\n    dot            : [ 1, 2 ],\n    longDash       : [ 8, 2 ],\n    longDashDot    : [ 8, 2, 1, 2 ],\n    longDashDotDot : [ 8, 2, 1, 2, 1, 2 ],\n    solid          : []\n};\n\nvar LINE_CAP = {\n    butt   : 0,\n    round  : 1,\n    square : 2\n};\n\nvar LINE_JOIN = {\n    miter : 0,\n    round : 1,\n    bevel : 2\n};\n\nfunction render(group, callback) {\n    var fonts = [], images = {}, options = group.options;\n\n    function getOption(name, defval, hash) {\n        if (!hash) {\n            hash = options;\n        }\n        if (hash.pdf && hash.pdf[name] != null) {\n            return hash.pdf[name];\n        }\n        return defval;\n    }\n\n    var multiPage = getOption(\"multiPage\");\n    var imgDPI = getOption(\"imgDPI\");\n\n    if (imgDPI) {\n        PDF.clearImageCache();\n    }\n\n    group.traverse(function(element){\n        dispatch({\n            Image: function(element) {\n                var url = element.src();\n                if (imgDPI) {\n                    var box = element.bbox().size;\n                    var prev = images[url];\n                    box = {\n                        width: Math.ceil(box.width * imgDPI / 72),\n                        height: Math.ceil(box.height * imgDPI / 72)\n                    };\n                    if (prev) {\n                        box.width = Math.max(prev.width, box.width);\n                        box.height = Math.max(prev.height, box.height);\n                    }\n                    images[url] = box;\n                } else {\n                    images[url] = null;\n                }\n            },\n            Text: function(element) {\n                var style = PDF.parseFontDef(element.options.font);\n                var url = PDF.getFontURL(style);\n                if (fonts.indexOf(url) < 0) {\n                    fonts.push(url);\n                }\n            }\n        }, element);\n    });\n\n    function doIt() {\n        if (--count > 0) {\n            return;\n        }\n\n        var pdf = new (PDF.Document)({\n            producer  : getOption(\"producer\"),\n            title     : getOption(\"title\"),\n            author    : getOption(\"author\"),\n            subject   : getOption(\"subject\"),\n            keywords  : getOption(\"keywords\"),\n            creator   : getOption(\"creator\"),\n            date      : getOption(\"date\")\n        });\n\n        function drawPage(group) {\n            var options = group.options;\n\n            var tmp = optimize(group);\n            var bbox = tmp.bbox;\n            group = tmp.root;\n            // var tmp, bbox;\n\n            var paperSize = getOption(\"paperSize\", getOption(\"paperSize\", \"auto\"), options), addMargin = false;\n            if (paperSize == \"auto\") {\n                if (bbox) {\n                    var size = bbox.getSize();\n                    paperSize = [ size.width, size.height ];\n                    addMargin = true;\n                    var origin = bbox.getOrigin();\n                    tmp = new Group();\n                    tmp.transform(new geo.Matrix(1, 0, 0, 1, -origin.x, -origin.y));\n                    tmp.append(group);\n                    group = tmp;\n                }\n                else {\n                    paperSize = \"A4\";\n                }\n            }\n\n            var page;\n            page = pdf.addPage({\n                paperSize : paperSize,\n                margin    : getOption(\"margin\", getOption(\"margin\"), options),\n                addMargin : addMargin,\n                landscape : getOption(\"landscape\", getOption(\"landscape\", false), options)\n            });\n            drawElement(group, page, pdf);\n        }\n\n        if (multiPage) {\n            group.children.forEach(drawPage);\n        } else {\n            drawPage(group);\n        }\n\n        callback(pdf.render(), pdf);\n    }\n\n    var count = 2;\n    PDF.loadFonts(fonts, doIt);\n    PDF.loadImages(images, doIt);\n}\n\nfunction toDataURL(group, callback) {\n    render(group, function(data){\n        callback(\"data:application/pdf;base64,\" + data.base64());\n    });\n}\n\nfunction toBlob(group, callback) {\n    render(group, function(data){\n        callback(new window.Blob([ data.get() ], { type: \"application/pdf\" }));\n    });\n}\n\nfunction saveAs(group, filename, proxy, callback) {\n    // XXX: Safari has Blob, but does not support the download attribute\n    //      so we'd end up converting to dataURL and using the proxy anyway.\n    if (window.Blob && !support.browser.safari) {\n        toBlob(group, function(blob){\n            util_saveAs({ dataURI: blob, fileName: filename });\n            if (callback) {\n                callback(blob);\n            }\n        });\n    } else {\n        toDataURL(group, function(dataURL){\n            util_saveAs({ dataURI: dataURL, fileName: filename, proxyURL: proxy });\n            if (callback) {\n                callback(dataURL);\n            }\n        });\n    }\n}\n\nfunction dispatch(handlers, element) {\n    var handler = handlers[element.nodeType];\n    if (handler) {\n        return handler.call.apply(handler, arguments);\n    }\n    return element;\n}\n\nfunction drawElement(element, page, pdf) {\n    if (element.options._pdfDebug) {\n        page.comment(\"BEGIN: \" + element.options._pdfDebug);\n    }\n\n    var transform = element.transform();\n    var opacity = element.opacity();\n\n    page.save();\n\n    if (opacity != null && opacity < 1) {\n        page.setOpacity(opacity);\n    }\n\n    setStrokeOptions(element, page, pdf);\n    setFillOptions(element, page, pdf);\n\n    if (transform) {\n        var m = transform.matrix();\n        page.transform(m.a, m.b, m.c, m.d, m.e, m.f);\n    }\n\n    setClipping(element, page, pdf);\n\n    dispatch({\n        Path      : drawPath,\n        MultiPath : drawMultiPath,\n        Circle    : drawCircle,\n        Arc       : drawArc,\n        Text      : drawText,\n        Image     : drawImage,\n        Group     : drawGroup,\n        Rect      : drawRect\n    }, element, page, pdf);\n\n    page.restore();\n\n    if (element.options._pdfDebug) {\n        page.comment(\"END: \" + element.options._pdfDebug);\n    }\n}\n\nfunction setStrokeOptions(element, page) {\n    var stroke = element.stroke && element.stroke();\n    if (!stroke) {\n        return;\n    }\n\n    var color = stroke.color;\n    if (color) {\n        color = parseColor(color);\n        if (color == null) {\n            return; // no stroke\n        }\n        page.setStrokeColor(color.r, color.g, color.b);\n        if (color.a != 1) {\n            page.setStrokeOpacity(color.a);\n        }\n    }\n\n    var width = stroke.width;\n    if (width != null) {\n        if (width === 0) {\n            return; // no stroke\n        }\n        page.setLineWidth(width);\n    }\n\n    var dashType = stroke.dashType;\n    if (dashType) {\n        page.setDashPattern(DASH_PATTERNS[dashType], 0);\n    }\n\n    var lineCap = stroke.lineCap;\n    if (lineCap) {\n        page.setLineCap(LINE_CAP[lineCap]);\n    }\n\n    var lineJoin = stroke.lineJoin;\n    if (lineJoin) {\n        page.setLineJoin(LINE_JOIN[lineJoin]);\n    }\n\n    var opacity = stroke.opacity;\n    if (opacity != null) {\n        page.setStrokeOpacity(opacity);\n    }\n}\n\nfunction setFillOptions(element, page) {\n    var fill = element.fill && element.fill();\n    if (!fill) {\n        return;\n    }\n\n    if (fill instanceof Gradient) {\n        return;\n    }\n\n    var color = fill.color;\n    if (color) {\n        color = parseColor(color);\n        if (color == null) {\n            return; // no fill\n        }\n        page.setFillColor(color.r, color.g, color.b);\n        if (color.a != 1) {\n            page.setFillOpacity(color.a);\n        }\n    }\n\n    var opacity = fill.opacity;\n    if (opacity != null) {\n        page.setFillOpacity(opacity);\n    }\n}\n\nfunction setClipping(element, page, pdf) {\n    // XXX: only Path supported at the moment.\n    var clip = element.clip();\n    if (clip) {\n        _drawPath(clip, page, pdf);\n        page.clip();\n        // page.setStrokeColor(Math.random(), Math.random(), Math.random());\n        // page.setLineWidth(1);\n        // page.stroke();\n    }\n}\n\nfunction shouldDraw(thing) {\n    return (thing &&\n            (thing instanceof Gradient ||\n             (thing.color && !/^(none|transparent)$/i.test(thing.color) &&\n              (thing.width == null || thing.width > 0) &&\n              (thing.opacity == null || thing.opacity > 0))));\n}\n\nfunction maybeGradient(element, page, pdf, stroke) {\n    var fill = element.fill();\n    if (fill instanceof Gradient) {\n        if (stroke) {\n            page.clipStroke();\n        } else {\n            page.clip();\n        }\n        var isRadial = fill instanceof RadialGradient;\n        var start, end;\n        if (isRadial) {\n            start = { x: fill.center().x , y: fill.center().y , r: 0 };\n            end   = { x: fill.center().x , y: fill.center().y , r: fill.radius() };\n        } else {\n            start = { x: fill.start().x , y: fill.start().y };\n            end   = { x: fill.end().x   , y: fill.end().y   };\n        }\n\n        var stops = fill.stops.elements().map(function(stop){\n            var offset = stop.offset();\n            if (/%$/.test(offset)) {\n                offset = parseFloat(offset) / 100;\n            } else {\n                offset = parseFloat(offset);\n            }\n            var color = parseColor(stop.color());\n            color.a *= stop.opacity();\n            return {\n                offset: offset,\n                color: color\n            };\n        });\n\n        // Duplicats first and last stop to fix\n        // https://github.com/telerik/kendo-ui-core/issues/1782\n        stops.unshift(stops[0]);\n        stops.push(stops[stops.length - 1]);\n\n        var gradient = {\n            userSpace : fill.userSpace(),\n            type      : isRadial ? \"radial\" : \"linear\",\n            start     : start,\n            end       : end,\n            stops     : stops\n        };\n        var box = element.rawBBox();\n        var tl = box.topLeft(), size = box.getSize();\n        box = {\n            left   : tl.x,\n            top    : tl.y,\n            width  : size.width,\n            height : size.height\n        };\n        page.gradient(gradient, box);\n        return true;\n    }\n}\n\nfunction maybeFillStroke(element, page, pdf) {\n    if (shouldDraw(element.fill()) && shouldDraw(element.stroke())) {\n        if (!maybeGradient(element, page, pdf, true)) {\n            page.fillStroke();\n        }\n    } else if (shouldDraw(element.fill())) {\n        if (!maybeGradient(element, page, pdf, false)) {\n            page.fill();\n        }\n    } else if (shouldDraw(element.stroke())) {\n        page.stroke();\n    } else {\n        // we should not get here; the path should have been\n        // optimized away.  but let's be prepared.\n        page.nop();\n    }\n}\n\nfunction maybeDrawRect(path, page) {\n    var segments = path.segments;\n    if (segments.length == 4 && path.options.closed) {\n        // detect if this path looks like a rectangle parallel to the axis\n        var a = [];\n        for (var i = 0; i < segments.length; ++i) {\n            if (segments[i].controlIn()) { // has curve?\n                return false;\n            }\n            a[i] = segments[i].anchor();\n        }\n        // it's a rectangle if the y/x/y/x or x/y/x/y coords of\n        // consecutive points are the same.\n        var isRect = (\n            a[0].y == a[1].y && a[1].x == a[2].x && a[2].y == a[3].y && a[3].x == a[0].x\n        ) || (\n            a[0].x == a[1].x && a[1].y == a[2].y && a[2].x == a[3].x && a[3].y == a[0].y\n        );\n        if (isRect) {\n            // this saves a bunch of instructions in PDF:\n            // moveTo, lineTo, lineTo, lineTo, close -> rect.\n            page.rect(a[0].x, a[0].y,\n                      a[2].x - a[0].x /*width*/,\n                      a[2].y - a[0].y /*height*/);\n            return true;\n        }\n    }\n}\n\nfunction _drawPath(element, page, pdf) {\n    var segments = element.segments;\n    if (segments.length === 0) {\n        return;\n    }\n    if (!maybeDrawRect(element, page, pdf)) {\n        for (var prev, i = 0; i < segments.length; ++i) {\n            var seg = segments[i];\n            var anchor = seg.anchor();\n            if (!prev) {\n                page.moveTo(anchor.x, anchor.y);\n            } else {\n                var prevOut = prev.controlOut();\n                var controlIn = seg.controlIn();\n                if (prevOut && controlIn) {\n                    page.bezier(\n                        prevOut.x   , prevOut.y,\n                        controlIn.x , controlIn.y,\n                        anchor.x    , anchor.y\n                    );\n                } else {\n                    page.lineTo(anchor.x, anchor.y);\n                }\n            }\n            prev = seg;\n        }\n        if (element.options.closed) {\n            page.close();\n        }\n    }\n}\n\nfunction drawPath(element, page, pdf) {\n    _drawPath(element, page, pdf);\n    maybeFillStroke(element, page, pdf);\n}\n\nfunction drawMultiPath(element, page, pdf) {\n    var paths = element.paths;\n    for (var i = 0; i < paths.length; ++i) {\n        _drawPath(paths[i], page, pdf);\n    }\n    maybeFillStroke(element, page, pdf);\n}\n\nfunction drawCircle(element, page, pdf) {\n    var g = element.geometry();\n    page.circle(g.center.x, g.center.y, g.radius);\n    maybeFillStroke(element, page, pdf);\n}\n\nfunction drawArc(element, page, pdf) {\n    var points = element.geometry().curvePoints();\n    page.moveTo(points[0].x, points[0].y);\n    for (var i = 1; i < points.length;) {\n        page.bezier(\n            points[i].x, points[i++].y,\n            points[i].x, points[i++].y,\n            points[i].x, points[i++].y\n        );\n    }\n    maybeFillStroke(element, page, pdf);\n}\n\nfunction drawText(element, page) {\n    var style = PDF.parseFontDef(element.options.font);\n    var pos = element._position;\n    var mode;\n    if (element.fill() && element.stroke()) {\n        mode = TEXT_RENDERING_MODE.fillAndStroke;\n    } else if (element.fill()) {\n        mode = TEXT_RENDERING_MODE.fill;\n    } else if (element.stroke()) {\n        mode = TEXT_RENDERING_MODE.stroke;\n    }\n\n    page.transform(1, 0, 0, -1, pos.x, pos.y + style.fontSize);\n    page.beginText();\n    page.setFont(PDF.getFontURL(style), style.fontSize);\n    page.setTextRenderingMode(mode);\n    page.showText(element.content(), element._pdfRect ? element._pdfRect.width() : null);\n    page.endText();\n}\n\nfunction drawGroup(element, page, pdf) {\n    if (element._pdfLink) {\n        page.addLink(element._pdfLink.url, element._pdfLink);\n    }\n    var children = element.children;\n    for (var i = 0; i < children.length; ++i) {\n        drawElement(children[i], page, pdf);\n    }\n}\n\nfunction drawImage(element, page) {\n    var url = element.src();\n    if (!url) {\n        return;\n    }\n\n    var rect = element.rect();\n    var tl = rect.getOrigin();\n    var sz = rect.getSize();\n    page.transform(sz.width, 0, 0, -sz.height, tl.x, tl.y + sz.height);\n    page.drawImage(url);\n}\n\nfunction drawRect(element, page, pdf) {\n    var geometry = element.geometry();\n    page.rect(geometry.origin.x, geometry.origin.y, geometry.size.width, geometry.size.height);\n    maybeFillStroke(element, page, pdf);\n}\n\nfunction parseColor(value) {\n    var color = utils_parseColor(value, true);\n    return color ? color.toRGB() : null;\n}\n\nfunction optimize(root) {\n    var clipbox = false;\n    var matrix = geo.Matrix.unit();\n    var currentBox = null;\n    var changed;\n    do {\n        changed = false;\n        root = opt(root);\n    } while (root && changed);\n    return { root: root, bbox: currentBox };\n\n    function change(newShape) {\n        changed = true;\n        return newShape;\n    }\n\n    function visible(shape) {\n        return (shape.visible() && shape.opacity() > 0 &&\n                ( shouldDraw(shape.fill()) ||\n                  shouldDraw(shape.stroke()) ));\n    }\n\n    function optArray(a) {\n        var b = [];\n        for (var i = 0; i < a.length; ++i) {\n            var el = opt(a[i]);\n            if (el != null) {\n                b.push(el);\n            }\n        }\n        return b;\n    }\n\n    function withClipping(shape, f) {\n        var saveclipbox = clipbox;\n        var savematrix = matrix;\n\n        if (shape.transform()) {\n            matrix = matrix.multiplyCopy(shape.transform().matrix());\n        }\n\n        var clip = shape.clip();\n        if (clip) {\n            clip = clip.bbox();\n            if (clip) {\n                clip = clip.bbox(matrix);\n                clipbox = clipbox ? geo.Rect.intersect(clipbox, clip) : clip;\n            }\n        }\n\n        try {\n            return f();\n        }\n        finally {\n            clipbox = saveclipbox;\n            matrix = savematrix;\n        }\n    }\n\n    function inClipbox(shape) {\n        if (clipbox == null) {\n            return false;\n        }\n        var box = shape.rawBBox().bbox(matrix);\n        if (clipbox && box) {\n            box = geo.Rect.intersect(box, clipbox);\n        }\n        return box;\n    }\n\n    function opt(shape) {\n        return withClipping(shape, function(){\n            if (!(shape instanceof Group || shape instanceof MultiPath)) {\n                var box = inClipbox(shape);\n                if (!box) {\n                    return change(null);\n                }\n                currentBox = currentBox ? geo.Rect.union(currentBox, box) : box;\n            }\n            return dispatch({\n                Path: function(shape) {\n                    if (shape.segments.length === 0 || !visible(shape)) {\n                        return change(null);\n                    }\n                    return shape;\n                },\n                MultiPath: function(shape) {\n                    if (!visible(shape)) {\n                        return change(null);\n                    }\n                    var el = new MultiPath(shape.options);\n                    el.paths = optArray(shape.paths);\n                    if (el.paths.length === 0) {\n                        return change(null);\n                    }\n                    return el;\n                },\n                Circle: function(shape) {\n                    if (!visible(shape)) {\n                        return change(null);\n                    }\n                    return shape;\n                },\n                Arc: function(shape) {\n                    if (!visible(shape)) {\n                        return change(null);\n                    }\n                    return shape;\n                },\n                Text: function(shape) {\n                    if (!/\\S/.test(shape.content()) || !visible(shape)) {\n                        return change(null);\n                    }\n                    return shape;\n                },\n                Image: function(shape) {\n                    if (!(shape.visible() && shape.opacity() > 0)) {\n                        return change(null);\n                    }\n                    return shape;\n                },\n                Group: function(shape) {\n                    var el = new Group(shape.options);\n                    el.children = optArray(shape.children);\n                    el._pdfLink = shape._pdfLink;\n                    if (shape !== root && el.children.length === 0 && !shape._pdfLink) {\n                        return change(null);\n                    }\n                    return el;\n                },\n                Rect: function(shape) {\n                    if (!visible(shape)) {\n                        return change(null);\n                    }\n                    return shape;\n                }\n            }, shape);\n        });\n    }\n}\n\nfunction exportPDF(group, options) {\n    var promise = createPromise();\n\n    for (var i in options) {\n        if (i == \"margin\" && group.options.pdf && group.options.pdf._ignoreMargin) {\n            // This hackish option is set by the page breaking code in drawDOM.  The idea is\n            // that margin is already taken into account there (that's required to do proper\n            // page breaking) and we don't want to set it again here, as it would double the\n            // top-left margin, and truncate the content on bottom/right.\n            continue;\n        }\n        group.options.set(\"pdf.\" + i, options[i]);\n    }\n\n    toDataURL(group, promise.resolve);\n\n    return promise;\n}\n\nexport { exportPDF, saveAs, toDataURL, toBlob, render };\n","/* eslint-disable no-multi-spaces, key-spacing, indent, camelcase, space-before-blocks, eqeqeq, brace-style */\n/* eslint-disable space-infix-ops, space-before-function-paren, array-bracket-spacing, object-curly-spacing */\n/* eslint-disable no-nested-ternary, max-params, default-case, no-else-return, no-empty, yoda */\n/* eslint-disable no-param-reassign, no-var, block-scoped-var */\n\nimport * as geo from \"../geometry\";\nimport * as PDF from \"../pdf\";\nimport { arabicToRoman, createPromise, measureText, mergeSort } from '../util';\nimport { parseColor as utils_parseColor, support, template as compileTemplate } from \"../common\";\nimport { Path, Text, Group, Image, Circle, LinearGradient } from \"../drawing\";\n\nconst browser = support.browser;\n/*\n\n  XXX: to test:\n\n  - cloneNodes function:\n    - drawing document containing canvas with page breaking\n    - drawing document with named radio <input>-s (should not clear selection)\n    - IE9/IE10 don't support el.dataset; do they copy user data?\n\n  - repeating table headers/footers on page breaking\n\n  - forceBreak, keepTogether\n\n  - avoidLinks\n\n */\n\n/* -----[ local vars ]----- */\n\nfunction slice(thing) {\n    return Array.prototype.slice.call(thing);\n}\n\nvar KENDO_PSEUDO_ELEMENT = \"KENDO-PSEUDO-ELEMENT\";\n\nvar IMAGE_CACHE = {};\n\nvar nodeInfo = {};\nnodeInfo._root = nodeInfo;\n\n/* -----[ Custom Text node to speed up rendering in PDF ]----- */\n\nconst inBrowser = typeof window !== 'undefined';\nconst microsoft = inBrowser ? browser.msie || browser.edge : false;\n\nclass TextRect extends Text {\n    constructor(str, rect, options) {\n        super(str, rect.getOrigin(), options);\n        this._pdfRect = rect;\n    }\n    rect() {\n        // this is the crux of it: we can avoid a call to\n        // measure(), which is what the base class does, since we\n        // already know the rect.  measure() is s-l-o-w.\n        return this._pdfRect;\n    }\n    rawBBox() {\n        // also let's avoid creating a new rectangle.\n        return this._pdfRect;\n    }\n}\n\nfunction addClass(el, cls) {\n    if (el.classList) {\n        el.classList.add(cls);\n    } else {\n        el.className += \" \" + cls;\n    }\n}\n\nfunction removeClass(el, cls) {\n    if (el.classList) {\n        el.classList.remove(cls);\n    } else {\n        el.className = el.className.split(/\\s+/).reduce(function(a, word){\n            if (word != cls) {\n                a.push(word);\n            }\n            return a;\n        }, []).join(\" \");\n    }\n}\n\nfunction setCSS(el, styles) {\n    Object.keys(styles).forEach(function(key){\n        el.style[key] = styles[key];\n    });\n}\n\nvar matches = typeof Element !== \"undefined\" && Element.prototype && (function(p){\n    if (p.matches) {\n        return function(el, selector) { return el.matches(selector); };\n    }\n    if (p.webkitMatchesSelector) {\n        return function(el, selector) { return el.webkitMatchesSelector(selector); };\n    }\n    if (p.mozMatchesSelector) {\n        return function(el, selector) { return el.mozMatchesSelector(selector); };\n    }\n    if (p.msMatchesSelector) {\n        return function(el, selector) { return el.msMatchesSelector(selector); };\n    }\n    return function(s) {\n\treturn [].indexOf.call(document.querySelectorAll(s), this) !== -1;\n    };\n})(Element.prototype);\n\nfunction closest(el, selector) {\n    if (el.closest) {\n        return el.closest(selector);\n    }\n    // IE: stringifying rather than simply comparing with `document`,\n    // which is not iframe-proof and fails in editor export —\n    // https://github.com/telerik/kendo/issues/6721\n    while (el && !/^\\[object (?:HTML)?Document\\]$/.test(String(el))) {\n        if (el.nodeType == 1 /* Element */ && matches(el, selector)) {\n            return el;\n        }\n        el = el.parentNode;\n    }\n}\n\n// clone nodes ourselves, so that we redraw <canvas> (DOM or\n// jQuery clone will not)\nvar cloneNodes = (function($){\n    if ($) {\n        // if we have Kendo and jQuery, use this version as it will\n        // maintain proper links between cloned element and Kendo\n        // widgets (i.e. it clones jQuery data(), which isn't the same\n        // as element's data attributes).\n        // https://github.com/telerik/kendo-ui-core/issues/2750\n        return function cloneNodes(el) {\n            var clone = el.cloneNode(false);\n            if (el.nodeType == 1 /* Element */) {\n                var $el = $(el), $clone = $(clone), i;\n                var data = $el.data();\n                for (i in data) {\n                    $clone.data(i, data[i]);\n                }\n                if (/^canvas$/i.test(el.tagName)) {\n                    clone.getContext(\"2d\").drawImage(el, 0, 0);\n                } else if (/^(?:input|select|textarea|option)$/i.test(el.tagName)) {\n                    // drop the name attributes so that we don't affect the selection of the\n                    // original nodes (i.e. checked status of radio buttons) when we insert our copy\n                    // into the DOM.  https://github.com/telerik/kendo/issues/5409\n                    clone.removeAttribute(\"id\");\n                    clone.removeAttribute(\"name\");\n                    clone.value = el.value;\n                    clone.checked = el.checked;\n                    clone.selected = el.selected;\n                }\n                for (i = el.firstChild; i; i = i.nextSibling) {\n                    clone.appendChild(cloneNodes(i));\n                }\n            }\n            return clone;\n        };\n    } else {\n        // the no-jQuery version\n        return function cloneNodes(el) {\n            const clone = (function dive(node){\n                const clone = node.cloneNode(false);\n                if (node._kendoExportVisual) {\n                    clone._kendoExportVisual = node._kendoExportVisual;\n                }\n                for (let i = node.firstChild; i; i = i.nextSibling) {\n                    clone.appendChild(dive(i));\n                }\n                return clone;\n            })(el);\n\n            // re-draw canvases - https://github.com/telerik/kendo/issues/4872\n            const canvases = el.querySelectorAll(\"canvas\");\n            if (canvases.length) {\n                slice(clone.querySelectorAll(\"canvas\")).forEach((canvas, i) => {\n                    canvas.getContext(\"2d\").drawImage(canvases[i], 0, 0);\n                });\n            }\n\n            // remove \"name\" attributes from <input> elements -\n            // https://github.com/telerik/kendo/issues/5409\n            const orig = el.querySelectorAll(\"input, select, textarea, option\");\n            slice(clone.querySelectorAll(\"input, select, textarea, option\")).forEach((el, i) => {\n                el.removeAttribute(\"id\");\n                el.removeAttribute(\"name\");\n                el.value = orig[i].value;\n                el.checked = orig[i].checked;\n                el.selected = orig[i].selected;\n            });\n\n            return clone;\n        };\n    }\n})(typeof window !== \"undefined\" && window.kendo && window.kendo.jQuery);\n\nfunction getXY(thing) {\n    if (typeof thing == \"number\") {\n        return { x: thing, y: thing };\n    }\n    if (Array.isArray(thing)) {\n        return { x: thing[0], y: thing[1] };\n    }\n    return { x: thing.x, y: thing.y };\n}\n\nfunction drawDOM(element, options) {\n    if (!options) {\n        options = {};\n    }\n    var promise = createPromise();\n\n    if (!element) {\n        return promise.reject(\"No element to export\");\n    }\n\n    if (typeof window.getComputedStyle != \"function\") {\n        throw new Error(\"window.getComputedStyle is missing.  You are using an unsupported browser, or running in IE8 compatibility mode.  Drawing HTML is supported in Chrome, Firefox, Safari and IE9+.\");\n    }\n\n    PDF.defineFont(getFontFaces(element.ownerDocument));\n\n    var scale = getXY(options.scale || 1);\n\n    function doOne(element) {\n        var group = new Group();\n\n        // translate to start of page\n        var pos = element.getBoundingClientRect();\n        setTransform(group, [\n            scale.x,\n            0,\n            0,\n            scale.y,\n            (-pos.left * scale.x),\n            (-pos.top * scale.y)\n        ]);\n\n        nodeInfo._clipbox = false;\n        nodeInfo._matrix = geo.Matrix.unit();\n        nodeInfo._stackingContext = {\n            element: element,\n            group: group\n        };\n\n        if (options.avoidLinks === true) {\n            nodeInfo._avoidLinks = \"a\";\n        } else {\n            nodeInfo._avoidLinks = options.avoidLinks;\n        }\n\n        addClass(element, \"k-pdf-export\");\n        renderElement(element, group);\n        removeClass(element, \"k-pdf-export\");\n\n        return group;\n    }\n\n    cacheImages(element, function(){\n        var forceBreak = options && options.forcePageBreak;\n        var hasPaperSize = options && options.paperSize && options.paperSize != \"auto\";\n        var paperOptions = PDF.getPaperOptions(function(key, def){\n            if (key == \"paperSize\") {\n                // PDF.getPaperOptions croaks on \"auto\", just pass dummy A4 as we might\n                // still be interested in margins.\n                return hasPaperSize ? options[key] : \"A4\";\n            }\n            return key in options ? options[key] : def;\n        });\n        var pageWidth = hasPaperSize && paperOptions.paperSize[0];\n        var pageHeight = hasPaperSize && paperOptions.paperSize[1];\n        var margin = options.margin && paperOptions.margin;\n        var hasMargin = Boolean(margin);\n        if (forceBreak || pageHeight) {\n            if (!margin) {\n                margin = { left: 0, top: 0, right: 0, bottom: 0 };\n            }\n\n            // we want paper size and margin to be unaffected by\n            // scaling in the output, so we have to reverse-scale\n            // before our calculations begin.\n            if (pageWidth)  { pageWidth  /= scale.x; }\n            if (pageHeight) { pageHeight /= scale.y; }\n            margin.left   /= scale.x;\n            margin.right  /= scale.x;\n            margin.top    /= scale.y;\n            margin.bottom /= scale.y;\n\n            var group = new Group({\n                pdf: {\n                    multiPage     : true,\n                    paperSize     : hasPaperSize ? paperOptions.paperSize : \"auto\",\n                    _ignoreMargin : hasMargin // HACK!  see exportPDF in pdf/drawing.js\n                }\n            });\n            handlePageBreaks(\n                function(x) {\n                    if (options.progress) {\n                        var canceled = false, pageNum = 0;\n                        (function next(){\n                            if (pageNum < x.pages.length) {\n                                var page = doOne(x.pages[pageNum]);\n                                group.append(page);\n                                options.progress({\n                                    page: page,\n                                    pageNum: ++pageNum,\n                                    totalPages: x.pages.length,\n                                    cancel: function() {\n                                        canceled = true;\n                                    }\n                                });\n                                if (!canceled) {\n                                    setTimeout(next);\n                                } else {\n                                    // XXX: should we also fail() the deferred object?\n                                    x.container.parentNode.removeChild(x.container);\n                                }\n                            } else {\n                                x.container.parentNode.removeChild(x.container);\n                                promise.resolve(group);\n                            }\n                        })();\n                    } else {\n                        x.pages.forEach(function(page){\n                            group.append(doOne(page));\n                        });\n                        x.container.parentNode.removeChild(x.container);\n                        promise.resolve(group);\n                    }\n                },\n                element,\n                forceBreak,\n                pageWidth ? pageWidth - margin.left - margin.right : null,\n                pageHeight ? pageHeight - margin.top - margin.bottom : null,\n                margin,\n                options\n            );\n        } else {\n            promise.resolve(doOne(element));\n        }\n    });\n\n    function makeTemplate(template) {\n        if (template != null) {\n            if (typeof template == \"string\") {\n                template = compileTemplate(template.replace(/^\\s+|\\s+$/g, \"\"));\n            }\n            if (typeof template == \"function\") {\n                return function(data) {\n                    var el = template(data);\n                    if (el && typeof el == \"string\") {\n                        var div = document.createElement(\"div\");\n                        div.innerHTML = el;\n                        el = div.firstElementChild;\n                    }\n                    return el;\n                };\n            }\n            // assumed DOM element\n            return function() {\n                return template.cloneNode(true);\n            };\n        }\n    }\n\n    function handlePageBreaks(callback, element, forceBreak, pageWidth, pageHeight, margin, options) {\n        var template = makeTemplate(options.template);\n        var doc = element.ownerDocument;\n        var pages = [];\n        var copy = options._destructive ? element : cloneNodes(element);\n        var container = doc.createElement(\"KENDO-PDF-DOCUMENT\");\n        var adjust = 0;\n\n        // make sure <tfoot> elements are at the end (Grid widget\n        // places TFOOT before TBODY, tricking our algorithm to\n        // insert a page break right after the header).\n        // https://github.com/telerik/kendo/issues/4699\n        slice(copy.querySelectorAll(\"tfoot\")).forEach(function(tfoot){\n            tfoot.parentNode.appendChild(tfoot);\n        });\n\n        // remember the index of each LI from an ordered list.\n        // we'll use it to reconstruct the proper numbering.\n        slice(copy.querySelectorAll(\"ol\")).forEach(function(ol){\n            slice(ol.children).forEach(function(li, index){\n                li.setAttribute(\"kendo-split-index\", index);\n            });\n        });\n\n        setCSS(container, {\n            display   : \"block\",\n            position  : \"absolute\",\n            boxSizing : \"content-box\",\n            left      : \"-10000px\",\n            top       : \"-10000px\"\n        });\n\n        if (pageWidth) {\n            // subtle: if we don't set the width *and* margins here, the layout in this\n            // container will be different from the one in our final page elements, and we'll\n            // split at the wrong places.\n            setCSS(container, {\n                width        : pageWidth + \"px\",\n                paddingLeft  : margin.left + \"px\",\n                paddingRight : margin.right + \"px\"\n            });\n\n            // when the first element has a margin-top (i.e. a <h1>) the page will be\n            // inadvertently enlarged by that number (the browser will report the container's\n            // bounding box top to start at the element's top, rather than including its\n            // margin).  Adding overflow: hidden seems to fix it.\n            //\n            // to understand the difference, try the following snippets in your browser:\n            //\n            // 1. <div style=\"background: yellow\">\n            //      <h1 style=\"margin: 3em\">Foo</h1>\n            //    </div>\n            //\n            // 2. <div style=\"background: yellow; overflow: hidden\">\n            //      <h1 style=\"margin: 3em\">Foo</h1>\n            //    </div>\n            //\n            // this detail is not important when automatic page breaking is not requested, hence\n            // doing it only if pageWidth is defined.\n            setCSS(copy, { overflow: \"hidden\" });\n        }\n\n        element.parentNode.insertBefore(container, element);\n        container.appendChild(copy);\n\n        // we need the timeouts here, so that images dimensions are\n        // properly computed in DOM when we start our thing.\n        if (options.beforePageBreak) {\n            setTimeout(function(){\n                options.beforePageBreak(container, doPageBreak);\n            }, 15);\n        } else {\n            setTimeout(doPageBreak, 15);\n        }\n\n        function doPageBreak() {\n            if (forceBreak != \"-\" || pageHeight) {\n                splitElement(copy);\n            }\n\n            {\n                let page = makePage();\n                copy.parentNode.insertBefore(page, copy);\n                page.appendChild(copy);\n            }\n\n            if (template) {\n                pages.forEach(function(page, i){\n                    const el = template({\n                        element    : page,\n                        pageNum    : i + 1,\n                        totalPages : pages.length\n                    });\n                    if (el) {\n                        page.appendChild(el);\n                    }\n                });\n            }\n\n            cacheImages(pages, function() {\n                // Even though we already cached images, they simply won't be available\n                // immediately in the newly created DOM.  Previously we'd allow a 10ms timeout,\n                // but that's arbitrary and clearly not working in all cases\n                // (https://github.com/telerik/kendo/issues/5399), so this function will wait\n                // for their .complete attribute.\n                whenImagesAreActuallyLoaded(pages, function(){\n                    callback({ pages: pages, container: container });\n                });\n            });\n        }\n\n        function keepTogether(el) {\n            if (options.keepTogether && matches(el, options.keepTogether) && el.offsetHeight <= pageHeight - adjust) {\n                return true;\n            }\n\n            var tag = el.tagName;\n            if (/^h[1-6]$/i.test(tag) && el.offsetHeight >= pageHeight - adjust) {\n                return false;\n            }\n\n            return (el.getAttribute(\"data-kendo-chart\") ||\n                    /^(?:img|tr|thead|th|tfoot|iframe|svg|object|canvas|input|textarea|select|video|h[1-6])/i.test(el.tagName));\n        }\n\n        function splitElement(element) {\n            if (element.tagName == \"TABLE\") {\n                setCSS(element, { tableLayout: \"fixed\" });\n            }\n            var style = getComputedStyle(element);\n            var bottomPadding = parseFloat(getPropertyValue(style, \"padding-bottom\"));\n            var bottomBorder = parseFloat(getPropertyValue(style, \"border-bottom-width\"));\n            var saveAdjust = adjust;\n            adjust += bottomPadding + bottomBorder;\n            var isFirst = true;\n            for (var el = element.firstChild; el; el = el.nextSibling) {\n                if (el.nodeType == 1 /* Element */) {\n                    isFirst = false;\n                    if (matches(el, forceBreak)) {\n                        breakAtElement(el);\n                        continue;\n                    }\n                    if (!pageHeight) {\n                        // we're in \"manual breaks mode\"\n                        splitElement(el);\n                        continue;\n                    }\n                    if (!/^(?:static|relative)$/.test(getPropertyValue(getComputedStyle(el), \"position\"))) {\n                        continue;\n                    }\n                    var fall = fallsOnMargin(el);\n                    if (fall == 1) {\n                        // element starts on next page, break before anyway.\n                        breakAtElement(el);\n                    }\n                    else if (fall) {\n                        // elements ends up on next page, or possibly doesn't fit on a page at\n                        // all.  break before it anyway if it's an <img> or <tr>, otherwise\n                        // attempt to split.\n                        if (keepTogether(el)) {\n                            breakAtElement(el);\n                        } else {\n                            splitElement(el);\n                        }\n                    }\n                    else {\n                        splitElement(el);\n                    }\n                }\n                else if (el.nodeType == 3 /* Text */ && pageHeight) {\n                    splitText(el, isFirst);\n                    isFirst = false;\n                }\n            }\n            adjust = saveAdjust;\n        }\n\n        function firstInParent(el) {\n            var p = el.parentNode, first = p.firstChild;\n            if (el === first) {\n                return true;\n            }\n            if (el === p.children[0]) {\n                if (first.nodeType == 7 /* comment */ ||\n                    first.nodeType == 8 /* processing instruction */) {\n                    return true;\n                }\n                if (first.nodeType == 3 /* text */) {\n                    // if whitespace only we can probably consider it's first\n                    return !/\\S/.test(first.data);\n                }\n            }\n            return false;\n        }\n\n        function breakAtElement(el) {\n            if (el.nodeType == 1 && el !== copy && firstInParent(el)) {\n                return breakAtElement(el.parentNode);\n            }\n            var table, colgroup, thead, grid, gridHead;\n            table = closest(el, \"table\");\n            colgroup = table && table.querySelector(\"colgroup\");\n            if (options.repeatHeaders) {\n                thead = table && table.querySelector(\"thead\");\n\n                // If we break page in a Kendo Grid, repeat its header.  This ugly hack is\n                // necessary because a scrollable grid will keep the header in a separate\n                // <table> element from its content.\n                //\n                // XXX: This is likely to break as soon as the widget HTML is modified.\n                grid = closest(el, \".k-grid.k-widget\");\n                if (grid && grid.querySelector(\".k-auto-scrollable\")) {\n                    gridHead = grid.querySelector(\".k-grid-header\");\n                }\n            }\n            var page = makePage();\n            var range = doc.createRange();\n            range.setStartBefore(copy);\n            range.setEndBefore(el);\n            page.appendChild(range.extractContents());\n            copy.parentNode.insertBefore(page, copy);\n            preventBulletOnListItem(el.parentNode);\n            if (table) {\n                table = closest(el, \"table\"); // that's the <table> on next page!\n                if (options.repeatHeaders && thead) {\n                    table.insertBefore(thead.cloneNode(true), table.firstChild);\n                }\n                if (colgroup) {\n                    table.insertBefore(colgroup.cloneNode(true), table.firstChild);\n                }\n            }\n            if (options.repeatHeaders && gridHead) {\n                grid = closest(el, \".k-grid.k-widget\");\n                grid.insertBefore(gridHead.cloneNode(true), grid.firstChild);\n            }\n        }\n\n        function makePage() {\n            var page = doc.createElement(\"KENDO-PDF-PAGE\");\n            setCSS(page, {\n                display  : \"block\",\n                boxSizing: \"content-box\",\n                width    : pageWidth ? (pageWidth + \"px\") : \"auto\",\n                padding  : (margin.top + \"px \" +\n                            margin.right + \"px \" +\n                            margin.bottom + \"px \" +\n                            margin.left + \"px\"),\n\n                // allow absolutely positioned elements to be relative to current page\n                position : \"relative\",\n\n                // without the following we might affect layout of subsequent pages\n                height   : pageHeight ? (pageHeight + \"px\") : \"auto\",\n                overflow : pageHeight || pageWidth ? \"hidden\" : \"visible\",\n                clear    : \"both\"\n            });\n\n            // debug\n            // $(\"<div>\").css({\n            //     position  : \"absolute\",\n            //     left      : margin.left,\n            //     top       : margin.top,\n            //     width     : pageWidth,\n            //     height    : pageHeight,\n            //     boxSizing : \"border-box\",\n            //     background: \"rgba(255, 255, 0, 0.5)\"\n            //     //border    : \"1px solid red\"\n            // }).appendTo(page);\n\n            if (options && options.pageClassName) {\n                page.className = options.pageClassName;\n            }\n            pages.push(page);\n            return page;\n        }\n\n        function fallsOnMargin(thing) {\n            var box = thing.getBoundingClientRect();\n            if (box.width === 0 || box.height === 0) {\n                // I'd say an element with dimensions zero fits on current page.\n                return 0;\n            }\n            var top = copy.getBoundingClientRect().top;\n            var available = pageHeight - adjust;\n            return (box.height > available) ? 3\n                : (box.top - top > available) ? 1\n                : (box.bottom - top > available) ? 2\n                : 0;\n        }\n\n        function splitText(node, isFirst) {\n            if (!/\\S/.test(node.data)) {\n                return;\n            }\n\n            var len = node.data.length;\n            var range = doc.createRange();\n            range.selectNodeContents(node);\n            var fall = fallsOnMargin(range);\n            if (!fall) {\n                return;     // the whole text fits on current page\n            }\n\n            var nextnode = node;\n            if (fall == 1) {\n                // starts on next page, break before anyway.\n                if (isFirst) {\n                    // avoid leaving an empty <p>, <li>, etc. on previous page.\n                    breakAtElement(node.parentNode);\n                } else {\n                    breakAtElement(node);\n                }\n            }\n            else {\n                (function findEOP(min, pos, max) {\n                    range.setEnd(node, pos);\n                    if (min == pos || pos == max) {\n                        return pos;\n                    }\n                    if (fallsOnMargin(range)) {\n                        return findEOP(min, (min + pos) >> 1, pos);\n                    } else {\n                        return findEOP(pos, (pos + max) >> 1, max);\n                    }\n                })(0, len >> 1, len);\n\n                if (!/\\S/.test(range.toString()) && isFirst) {\n                    // avoid leaving an empty <p>, <li>, etc. on previous page.\n                    breakAtElement(node.parentNode);\n                } else {\n                    // This is only needed for IE, but it feels cleaner to do it anyway.  Without\n                    // it, IE will truncate a very long text (playground/pdf-long-text-2.html).\n                    nextnode = node.splitText(range.endOffset);\n\n                    var page = makePage();\n                    range.setStartBefore(copy);\n                    page.appendChild(range.extractContents());\n                    copy.parentNode.insertBefore(page, copy);\n                    preventBulletOnListItem(nextnode.parentNode);\n                }\n            }\n\n            splitText(nextnode);\n        }\n\n        function preventBulletOnListItem(el) {\n            // set a hint on continued LI elements, to tell the\n            // renderer not to draw the bullet again.\n            // https://github.com/telerik/kendo-ui-core/issues/2732\n            var li = closest(el, \"li\");\n            if (li) {\n                li.setAttribute(\"kendo-no-bullet\", \"1\");\n                preventBulletOnListItem(li.parentNode);\n            }\n        }\n    }\n\n    return promise;\n}\n\ndrawDOM.getFontFaces = getFontFaces;\n\n// This is needed for the Spreadsheet print functionality.  Since\n// there we only need to draw text, this cuts through the ceremony\n// of drawDOM/renderElement and renders the text node directly.\ndrawDOM.drawText = function(element) {\n    var group = new Group();\n    nodeInfo._clipbox = false;\n    nodeInfo._matrix = geo.Matrix.unit();\n    nodeInfo._stackingContext = {\n        element: element,\n        group: group\n    };\n    pushNodeInfo(element, getComputedStyle(element), group);\n    if (element.firstChild.nodeType == 3 /* Text */) {\n        // avoid the penalty of renderElement\n        renderText(element, element.firstChild, group);\n    } else {\n        _renderElement(element, group);\n    }\n    popNodeInfo();\n    return group;\n};\n\nvar parseBackgroundImage = (function(){\n    var tok_linear_gradient  = /^((-webkit-|-moz-|-o-|-ms-)?linear-gradient\\s*)\\(/;\n    //var tok_radial_gradient  = /^((-webkit-|-moz-|-o-|-ms-)?radial-gradient\\s*)\\(/;\n    var tok_percent          = /^([-0-9.]+%)/;\n    var tok_length           = /^([-0-9.]+px)/;\n    var tok_keyword          = /^(left|right|top|bottom|to|center)\\W/;\n    var tok_angle            = /^([-0-9.]+(deg|grad|rad|turn))/;\n    var tok_whitespace       = /^(\\s+)/;\n    var tok_popen            = /^(\\()/;\n    var tok_pclose           = /^(\\))/;\n    var tok_comma            = /^(,)/;\n    var tok_url              = /^(url)\\(/;\n    var tok_content          = /^(.*?)\\)/;\n\n    var cache1 = {}, cache2 = {};\n\n    function parse(input) {\n        var orig = input;\n        if (hasOwnProperty(cache1, orig)) {\n            return cache1[orig];\n        }\n        function skip_ws() {\n            var m = tok_whitespace.exec(input);\n            if (m) {\n                input = input.substr(m[1].length);\n            }\n        }\n        function read(token) {\n            skip_ws();\n            var m = token.exec(input);\n            if (m) {\n                input = input.substr(m[1].length);\n                return m[1];\n            }\n        }\n\n        function read_stop() {\n            var color = utils_parseColor(input, true);\n            var length, percent;\n            if (color) {\n                let match =\n                    /^#[0-9a-f]+/i.exec(input) ||\n                    /^rgba?\\(.*?\\)/i.exec(input) ||\n                    /^..*?\\b/.exec(input); // maybe named color\n                input = input.substr(match[0].length);\n                color = color.toRGB();\n                if (!(length = read(tok_length))) {\n                    percent = read(tok_percent);\n                }\n                return { color: color, length: length, percent: percent };\n            }\n        }\n\n        function read_linear_gradient(propName) {\n            var angle;\n            var to1, to2;\n            var stops = [];\n            var reverse = false;\n\n            if (read(tok_popen)) {\n                // 1. [ <angle> || to <side-or-corner>, ]?\n                angle = read(tok_angle);\n                if (angle) {\n                    angle = parseAngle(angle);\n                    read(tok_comma);\n                }\n                else {\n                    to1 = read(tok_keyword);\n                    if (to1 == \"to\") {\n                        to1 = read(tok_keyword);\n                    } else if (to1 && /^-/.test(propName)) {\n                        reverse = true;\n                    }\n                    to2 = read(tok_keyword);\n                    read(tok_comma);\n                }\n\n                if (/-moz-/.test(propName) && angle == null && to1 == null) {\n                    var x = read(tok_percent), y = read(tok_percent);\n                    reverse = true;\n                    if (x == \"0%\") {\n                        to1 = \"left\";\n                    } else if (x == \"100%\") {\n                        to1 = \"right\";\n                    }\n                    if (y == \"0%\") {\n                        to2 = \"top\";\n                    } else if (y == \"100%\") {\n                        to2 = \"bottom\";\n                    }\n                    read(tok_comma);\n                }\n\n                // 2. color stops\n                while (input && !read(tok_pclose)) {\n                    var stop = read_stop();\n                    if (!stop) {\n                        break;\n                    }\n                    stops.push(stop);\n                    read(tok_comma);\n                }\n\n                return {\n                    type    : \"linear\",\n                    angle   : angle,\n                    to      : to1 && to2 ? to1 + \" \" + to2 : to1 ? to1 : to2 ? to2 : null,\n                    stops   : stops,\n                    reverse : reverse\n                };\n            }\n        }\n\n        function read_url() {\n            if (read(tok_popen)) {\n                var url = read(tok_content);\n                url = url.replace(/^['\"]+|[\"']+$/g, \"\");\n                read(tok_pclose);\n                return { type: \"url\", url: url };\n            }\n        }\n\n        var tok;\n\n        if ((tok = read(tok_linear_gradient))) {\n            tok = read_linear_gradient(tok);\n        }\n        else if ((tok = read(tok_url))) {\n            tok = read_url();\n        }\n\n        return (cache1[orig] = tok || { type: \"none\" });\n    }\n\n    return function(input) {\n        if (hasOwnProperty(cache2, input)) {\n            return cache2[input];\n        }\n        return (cache2[input] = splitProperty(input).map(parse));\n    };\n})();\n\nvar splitProperty = (function(){\n    var cache = {};\n    return function(input, separator) {\n        if (!separator) {\n            separator = /^\\s*,\\s*/;\n        }\n\n        var cacheKey = input + separator;\n\n        if (hasOwnProperty(cache, cacheKey)) {\n            return cache[cacheKey];\n        }\n\n        var ret = [];\n        var last = 0, pos = 0;\n        var in_paren = 0;\n        var in_string = false;\n        var m;\n\n        function looking_at(rx) {\n            return (m = rx.exec(input.substr(pos)));\n        }\n\n        function trim(str) {\n            return str.replace(/^\\s+|\\s+$/g, \"\");\n        }\n\n        while (pos < input.length) {\n            if (!in_string && looking_at(/^[\\(\\[\\{]/)) {\n                in_paren++;\n                pos++;\n            }\n            else if (!in_string && looking_at(/^[\\)\\]\\}]/)) {\n                in_paren--;\n                pos++;\n            }\n            else if (!in_string && looking_at(/^[\\\"\\']/)) {\n                in_string = m[0];\n                pos++;\n            }\n            else if (in_string == \"'\" && looking_at(/^\\\\\\'/)) {\n                pos += 2;\n            }\n            else if (in_string == '\"' && looking_at(/^\\\\\\\"/)) {\n                pos += 2;\n            }\n            else if (in_string == \"'\" && looking_at(/^\\'/)) {\n                in_string = false;\n                pos++;\n            }\n            else if (in_string == '\"' && looking_at(/^\\\"/)) {\n                in_string = false;\n                pos++;\n            }\n            else if (looking_at(separator)) {\n                if (!in_string && !in_paren && pos > last) {\n                    ret.push(trim(input.substring(last, pos)));\n                    last = pos + m[0].length;\n                }\n                pos += m[0].length;\n            }\n            else {\n                pos++;\n            }\n        }\n        if (last < pos) {\n            ret.push(trim(input.substring(last, pos)));\n        }\n        return (cache[cacheKey] = ret);\n    };\n})();\n\nvar getFontURL = (function(cache){\n    return function(el){\n        // XXX: for IE we get here the whole cssText of the rule,\n        // because the computedStyle.src is empty.  Next time we need\n        // to fix these regexps we better write a CSS parser. :-\\\n        var url = cache[el];\n        if (!url) {\n            var m;\n            if ((m = /url\\((['\"]?)([^'\")]*?)\\1\\)\\s+format\\((['\"]?)truetype\\3\\)/.exec(el))) {\n                url = cache[el] = m[2];\n            } else if ((m = /url\\((['\"]?)([^'\")]*?\\.ttf)\\1\\)/.exec(el))) {\n                url = cache[el] = m[2];\n            }\n        }\n        return url;\n    };\n})(Object.create(null));\n\nvar getFontHeight = (function(cache){\n    return function(font) {\n        var height = cache[font];\n        if (height == null) {\n            height = cache[font] = measureText(\"Mapq\", { font: font }).height;\n        }\n        return height;\n    };\n})(Object.create(null));\n\nfunction getFontFaces(doc) {\n    if (doc == null) {\n        doc = document;\n    }\n    var result = {};\n    for (var i = 0; i < doc.styleSheets.length; ++i) {\n        doStylesheet(doc.styleSheets[i]);\n    }\n    return result;\n    function doStylesheet(ss) {\n        if (ss) {\n            var rules = null;\n            try {\n                rules = ss.cssRules;\n            } catch (ex) {}\n            if (rules) {\n                addRules(ss, rules);\n            }\n        }\n    }\n    function findFonts(rule) {\n        var src = getPropertyValue(rule.style, \"src\");\n        if (src) {\n            return splitProperty(src).reduce(function(a, el){\n                var font = getFontURL(el);\n                if (font) {\n                    a.push(font);\n                }\n                return a;\n            }, []);\n        } else {\n            // Internet Explorer\n            // XXX: this is gross.  should work though for valid CSS.\n            var font = getFontURL(rule.cssText);\n            return font ? [ font ] : [];\n        }\n    }\n    function addRules(styleSheet, rules) {\n        for (var i = 0; i < rules.length; ++i) {\n            var r = rules[i];\n            switch (r.type) {\n              case 3:       // CSSImportRule\n                doStylesheet(r.styleSheet);\n                break;\n              case 5:       // CSSFontFaceRule\n                var style  = r.style;\n                var family = splitProperty(getPropertyValue(style, \"font-family\"));\n                var bold   = /^([56789]00|bold)$/i.test(getPropertyValue(style, \"font-weight\"));\n                var italic = \"italic\" == getPropertyValue(style, \"font-style\");\n                var src    = findFonts(r);\n                if (src.length > 0) {\n                    addRule(styleSheet, family, bold, italic, src[0]);\n                }\n            }\n        }\n    }\n    function addRule(styleSheet, names, bold, italic, url) {\n        // We get full resolved absolute URLs in Chrome, but sadly\n        // not in Firefox.\n        if (!(/^data:/i.test(url))) {\n            if (!(/^[^\\/:]+:\\/\\//.test(url) || /^\\//.test(url))) {\n                url = String(styleSheet.href).replace(/[^\\/]*$/, \"\") + url;\n            }\n        }\n        names.forEach(function(name){\n            name = name.replace(/^(['\"]?)(.*?)\\1$/, \"$2\"); // it's quoted\n            if (bold) {\n                name += \"|bold\";\n            }\n            if (italic) {\n                name += \"|italic\";\n            }\n            result[name] = url;\n        });\n    }\n}\n\nfunction hasOwnProperty(obj, key) {\n    return Object.prototype.hasOwnProperty.call(obj, key);\n}\n\nfunction getCounter(name) {\n    name = \"_counter_\" + name;\n    return nodeInfo[name];\n}\n\nfunction getAllCounters(name) {\n    var values = [], p = nodeInfo;\n    name = \"_counter_\" + name;\n    while (p) {\n        if (hasOwnProperty(p, name)) {\n            values.push(p[name]);\n        }\n        p = Object.getPrototypeOf(p);\n    }\n    return values.reverse();\n}\n\nfunction incCounter(name, inc) {\n    var p = nodeInfo;\n    name = \"_counter_\" + name;\n    while (p && !hasOwnProperty(p, name)) {\n        p = Object.getPrototypeOf(p);\n    }\n    if (!p) {\n        p = nodeInfo._root;\n    }\n    p[name] = (p[name] || 0) + (inc == null ? 1 : inc);\n}\n\nfunction resetCounter(name, val) {\n    name = \"_counter_\" + name;\n    nodeInfo[name] = val == null ? 0 : val;\n}\n\nfunction doCounters(a, f, def) {\n    for (var i = 0; i < a.length;) {\n        var name = a[i++];\n        var val = parseFloat(a[i]);\n        if (isNaN(val)) {\n            f(name, def);\n        } else {\n            f(name, val);\n            ++i;\n        }\n    }\n}\n\nfunction updateCounters(style) {\n    var counterReset = getPropertyValue(style, \"counter-reset\");\n    if (counterReset) {\n        doCounters(splitProperty(counterReset, /^\\s+/), resetCounter, 0);\n    }\n    var counterIncrement = getPropertyValue(style, \"counter-increment\");\n    if (counterIncrement) {\n        doCounters(splitProperty(counterIncrement, /^\\s+/), incCounter, 1);\n    }\n}\n\nfunction parseColor(str, css) {\n    var color = utils_parseColor(str, true);\n    if (color) {\n        color = color.toRGB();\n        if (css) {\n            color = color.toCssRgba();\n        } else if (color.a === 0) {\n            color = null;\n        }\n    }\n    return color;\n}\n\nfunction whenImagesAreActuallyLoaded(elements, callback) {\n    var pending = 0;\n    elements.forEach(function(el){\n        var images = el.querySelectorAll(\"img\");\n        for (var i = 0; i < images.length; ++i) {\n            var img = images[i];\n            if (!img.complete) {\n                pending++;\n                img.onload = img.onerror = next;\n            }\n        }\n    });\n    if (!pending) {\n        next();\n    }\n    function next() {\n        if (--pending <= 0) {\n            callback();\n        }\n    }\n}\n\nfunction cacheImages(element, callback) {\n    var urls = [];\n    function add(url) {\n        if (!IMAGE_CACHE[url]) {\n            IMAGE_CACHE[url] = true;\n            urls.push(url);\n        }\n    }\n    function dive(element){\n        if (/^img$/i.test(element.tagName)) {\n            add(element.src);\n        }\n        parseBackgroundImage(\n            getPropertyValue(\n                getComputedStyle(element), \"background-image\"\n            )\n        ).forEach(function(bg){\n            if (bg.type == \"url\") {\n                add(bg.url);\n            }\n        });\n\n        if (element.children) {\n            slice(element.children).forEach(dive);\n        }\n    }\n\n    if (Array.isArray(element)) {\n        element.forEach(dive);\n    } else {\n        dive(element);\n    }\n\n    var count = urls.length;\n    function next() {\n        if (--count <= 0) {\n            callback();\n        }\n    }\n    if (count === 0) {\n        next();\n    }\n    urls.forEach(function(url){\n        var img = IMAGE_CACHE[url] = new window.Image();\n        if (!(/^data:/i.test(url))) {\n            img.crossOrigin = \"Anonymous\";\n        }\n        img.src = url;\n        if (img.complete) {\n            next();\n        } else {\n            img.onload = next;\n            img.onerror = function() {\n                IMAGE_CACHE[url] = null;\n                next();\n            };\n        }\n    });\n}\n\nfunction alphaNumeral(n) {\n    var result = \"\";\n    do {\n        var r = n % 26;\n        result = String.fromCharCode(97 + r) + result;\n        n = Math.floor(n / 26);\n    } while (n > 0);\n    return result;\n}\n\nfunction pushNodeInfo(element, style, group) {\n    nodeInfo = Object.create(nodeInfo);\n    nodeInfo[element.tagName.toLowerCase()] = {\n        element: element,\n        style: style\n    };\n    var decoration = getPropertyValue(style, \"text-decoration\");\n    if (decoration && decoration != \"none\") {\n        var color = getPropertyValue(style, \"color\");\n        decoration.split(/\\s+/g).forEach(function(name){\n            if (!nodeInfo[name]) {\n                nodeInfo[name] = color;\n            }\n        });\n    }\n\n    if (createsStackingContext(style)) {\n        nodeInfo._stackingContext = {\n            element: element,\n            group: group\n        };\n    }\n}\n\nfunction popNodeInfo() {\n    nodeInfo = Object.getPrototypeOf(nodeInfo);\n}\n\nfunction updateClipbox(path) {\n    if (nodeInfo._clipbox != null) {\n        var box = path.bbox(nodeInfo._matrix);\n        if (nodeInfo._clipbox) {\n            nodeInfo._clipbox = geo.Rect.intersect(nodeInfo._clipbox, box);\n        } else {\n            nodeInfo._clipbox = box;\n        }\n    }\n}\n\nfunction emptyClipbox() {\n    var cb = nodeInfo._clipbox;\n    if (cb == null) {\n        return true;\n    }\n    if (cb) {\n        return cb.width() === 0 || cb.height() === 0;\n    }\n}\n\nfunction createsStackingContext(style) {\n    function prop(name) { return getPropertyValue(style, name); }\n    if (prop(\"transform\") != \"none\" ||\n        prop(\"position\") != \"static\" ||\n        prop(\"z-index\") != \"auto\" ||\n        prop(\"opacity\") < 1) {\n        return true;\n    }\n}\n\nfunction getComputedStyle(element, pseudoElt) {\n    return window.getComputedStyle(element, pseudoElt || null);\n}\n\nfunction getPropertyValue(style, prop, defa) {\n    var val = style.getPropertyValue(prop);\n    if (val == null || val === \"\") {\n        if (browser.webkit) {\n            val = style.getPropertyValue(\"-webkit-\" + prop );\n        } else if (browser.mozilla) {\n            val = style.getPropertyValue(\"-moz-\" + prop );\n        } else if (browser.opera) {\n            val = style.getPropertyValue(\"-o-\" + prop);\n        } else if (microsoft) {\n            val = style.getPropertyValue(\"-ms-\" + prop);\n        }\n    }\n    if (arguments.length > 2 && (val == null || val === \"\")) {\n        return defa;\n    } else {\n        return val;\n    }\n}\n\nfunction pleaseSetPropertyValue(style, prop, value, important) {\n    style.setProperty(prop, value, important);\n    if (browser.webkit) {\n        style.setProperty(\"-webkit-\" + prop, value, important);\n    } else if (browser.mozilla) {\n        style.setProperty(\"-moz-\" + prop, value, important);\n    } else if (browser.opera) {\n        style.setProperty(\"-o-\" + prop, value, important);\n    } else if (microsoft) {\n        style.setProperty(\"-ms-\" + prop, value, important);\n        prop = \"ms\" + prop.replace(/(^|-)([a-z])/g, function(s, p1, p2){\n            return p1 + p2.toUpperCase();\n        });\n        style[prop] = value;\n    }\n}\n\nfunction getBorder(style, side) {\n    side = \"border-\" + side;\n    return {\n        width: parseFloat(getPropertyValue(style, side + \"-width\")),\n        style: getPropertyValue(style, side + \"-style\"),\n        color: parseColor(getPropertyValue(style, side + \"-color\"), true)\n    };\n}\n\nfunction saveStyle(element, func) {\n    var prev = element.style.cssText;\n    var result = func();\n    element.style.cssText = prev;\n    return result;\n}\n\nfunction getBorderRadius(style, side) {\n    var r = getPropertyValue(style, \"border-\" + side + \"-radius\").split(/\\s+/g).map(parseFloat);\n    if (r.length == 1) {\n        r.push(r[0]);\n    }\n    return sanitizeRadius({ x: r[0], y: r[1] });\n}\n\nfunction getContentBox(element) {\n    var box = element.getBoundingClientRect();\n    box = innerBox(box, \"border-*-width\", element);\n    box = innerBox(box, \"padding-*\", element);\n    return box;\n}\n\nfunction innerBox(box, prop, element) {\n    var style, wt, wr, wb, wl;\n    if (typeof prop == \"string\") {\n        style = getComputedStyle(element);\n        wt = parseFloat(getPropertyValue(style, prop.replace(\"*\", \"top\")));\n        wr = parseFloat(getPropertyValue(style, prop.replace(\"*\", \"right\")));\n        wb = parseFloat(getPropertyValue(style, prop.replace(\"*\", \"bottom\")));\n        wl = parseFloat(getPropertyValue(style, prop.replace(\"*\", \"left\")));\n    }\n    else if (typeof prop == \"number\") {\n        wt = wr = wb = wl = prop;\n    }\n    return {\n        top    : box.top + wt,\n        right  : box.right - wr,\n        bottom : box.bottom - wb,\n        left   : box.left + wl,\n        width  : box.right - box.left - wr - wl,\n        height : box.bottom - box.top - wb - wt\n    };\n}\n\nfunction getTransform(style) {\n    var transform = getPropertyValue(style, \"transform\");\n    if (transform == \"none\") {\n        return null;\n    }\n    var matrix = /^\\s*matrix\\(\\s*(.*?)\\s*\\)\\s*$/.exec(transform);\n    if (matrix) {\n        var origin = getPropertyValue(style, \"transform-origin\");\n        matrix = matrix[1].split(/\\s*,\\s*/g).map(parseFloat);\n        origin = origin.split(/\\s+/g).map(parseFloat);\n        return {\n            matrix: matrix,\n            origin: origin\n        };\n    }\n}\n\nfunction radiansToDegrees(radians) {\n    return ((180 * radians) / Math.PI) % 360;\n}\n\nfunction parseAngle(angle) {\n    var num = parseFloat(angle);\n    if (/grad$/.test(angle)) {\n        return Math.PI * num / 200;\n    }\n    else if (/rad$/.test(angle)) {\n        return num;\n    }\n    else if (/turn$/.test(angle)) {\n        return Math.PI * num * 2;\n    }\n    else if (/deg$/.test(angle)) {\n        return Math.PI * num / 180;\n    }\n}\n\nfunction setTransform(shape, m) {\n    m = new geo.Matrix(m[0], m[1], m[2], m[3], m[4], m[5]);\n    shape.transform(m);\n    return m;\n}\n\nfunction setClipping(shape, clipPath) {\n    shape.clip(clipPath);\n}\n\nfunction addArcToPath(path, x, y, options) {\n    var points = new geo.Arc([ x, y ], options).curvePoints(), i = 1;\n    while (i < points.length) {\n        path.curveTo(points[i++], points[i++], points[i++]);\n    }\n}\n\nfunction sanitizeRadius(r) {\n    if (r.x <= 0 || r.y <= 0) {\n        r.x = r.y = 0;\n    }\n    return r;\n}\n\nfunction adjustBorderRadiusForBox(box, rTL, rTR, rBR, rBL) {\n    // adjust border radiuses such that the sum of adjacent\n    // radiuses is not bigger than the length of the side.\n    // seems the correct algorithm is variant (3) from here:\n    // http://www.w3.org/Style/CSS/Tracker/issues/29?changelog\n    var tl_x = Math.max(0, rTL.x), tl_y = Math.max(0, rTL.y);\n    var tr_x = Math.max(0, rTR.x), tr_y = Math.max(0, rTR.y);\n    var br_x = Math.max(0, rBR.x), br_y = Math.max(0, rBR.y);\n    var bl_x = Math.max(0, rBL.x), bl_y = Math.max(0, rBL.y);\n\n    var f = Math.min(\n        box.width / (tl_x + tr_x),\n        box.height / (tr_y + br_y),\n        box.width / (br_x + bl_x),\n        box.height / (bl_y + tl_y)\n    );\n\n    if (f < 1) {\n        tl_x *= f; tl_y *= f;\n        tr_x *= f; tr_y *= f;\n        br_x *= f; br_y *= f;\n        bl_x *= f; bl_y *= f;\n    }\n\n    return {\n        tl: { x: tl_x, y: tl_y },\n        tr: { x: tr_x, y: tr_y },\n        br: { x: br_x, y: br_y },\n        bl: { x: bl_x, y: bl_y }\n    };\n}\n\nfunction elementRoundBox(element, box, type) {\n    var style = getComputedStyle(element);\n\n    var rTL = getBorderRadius(style, \"top-left\");\n    var rTR = getBorderRadius(style, \"top-right\");\n    var rBL = getBorderRadius(style, \"bottom-left\");\n    var rBR = getBorderRadius(style, \"bottom-right\");\n\n    if (type == \"padding\" || type == \"content\") {\n        var bt = getBorder(style, \"top\");\n        var br = getBorder(style, \"right\");\n        var bb = getBorder(style, \"bottom\");\n        var bl = getBorder(style, \"left\");\n        rTL.x -= bl.width; rTL.y -= bt.width;\n        rTR.x -= br.width; rTR.y -= bt.width;\n        rBR.x -= br.width; rBR.y -= bb.width;\n        rBL.x -= bl.width; rBL.y -= bb.width;\n        if (type == \"content\") {\n            var pt = parseFloat(getPropertyValue(style, \"padding-top\"));\n            var pr = parseFloat(getPropertyValue(style, \"padding-right\"));\n            var pb = parseFloat(getPropertyValue(style, \"padding-bottom\"));\n            var pl = parseFloat(getPropertyValue(style, \"padding-left\"));\n            rTL.x -= pl; rTL.y -= pt;\n            rTR.x -= pr; rTR.y -= pt;\n            rBR.x -= pr; rBR.y -= pb;\n            rBL.x -= pl; rBL.y -= pb;\n        }\n    }\n\n    if (typeof type == \"number\") {\n        rTL.x -= type; rTL.y -= type;\n        rTR.x -= type; rTR.y -= type;\n        rBR.x -= type; rBR.y -= type;\n        rBL.x -= type; rBL.y -= type;\n    }\n\n    return roundBox(box, rTL, rTR, rBR, rBL);\n}\n\n// Create a drawing.Path for a rounded rectangle.  Receives the\n// bounding box and the border-radiuses in CSS order (top-left,\n// top-right, bottom-right, bottom-left).  The radiuses must be\n// objects containing x (horiz. radius) and y (vertical radius).\nfunction roundBox(box, rTL0, rTR0, rBR0, rBL0) {\n    var tmp = adjustBorderRadiusForBox(box, rTL0, rTR0, rBR0, rBL0);\n    var rTL = tmp.tl;\n    var rTR = tmp.tr;\n    var rBR = tmp.br;\n    var rBL = tmp.bl;\n    var path = new Path({ fill: null, stroke: null });\n    path.moveTo(box.left, box.top + rTL.y);\n    if (rTL.x) {\n        addArcToPath(path, box.left + rTL.x, box.top + rTL.y, {\n            startAngle: -180,\n            endAngle: -90,\n            radiusX: rTL.x,\n            radiusY: rTL.y\n        });\n    }\n    path.lineTo(box.right - rTR.x, box.top);\n    if (rTR.x) {\n        addArcToPath(path, box.right - rTR.x, box.top + rTR.y, {\n            startAngle: -90,\n            endAngle: 0,\n            radiusX: rTR.x,\n            radiusY: rTR.y\n        });\n    }\n    path.lineTo(box.right, box.bottom - rBR.y);\n    if (rBR.x) {\n        addArcToPath(path, box.right - rBR.x, box.bottom - rBR.y, {\n            startAngle: 0,\n            endAngle: 90,\n            radiusX: rBR.x,\n            radiusY: rBR.y\n        });\n    }\n    path.lineTo(box.left + rBL.x, box.bottom);\n    if (rBL.x) {\n        addArcToPath(path, box.left + rBL.x, box.bottom - rBL.y, {\n            startAngle: 90,\n            endAngle: 180,\n            radiusX: rBL.x,\n            radiusY: rBL.y\n        });\n    }\n    return path.close();\n}\n\nfunction formatCounter(val, style) {\n    var str = String(parseFloat(val));\n    switch (style) {\n      case \"decimal-leading-zero\":\n        if (str.length < 2) {\n            str = \"0\" + str;\n        }\n        return str;\n      case \"lower-roman\":\n        return arabicToRoman(val).toLowerCase();\n      case \"upper-roman\":\n        return arabicToRoman(val).toUpperCase();\n      case \"lower-latin\":\n      case \"lower-alpha\":\n        return alphaNumeral(val - 1);\n      case \"upper-latin\":\n      case \"upper-alpha\":\n        return alphaNumeral(val - 1).toUpperCase();\n      default:\n        return str;\n    }\n}\n\nfunction evalPseudoElementContent(element, content) {\n    function displayCounter(name, style, separator) {\n        if (!separator) {\n            return formatCounter(getCounter(name) || 0, style);\n        }\n        separator = separator.replace(/^\\s*([\"'])(.*)\\1\\s*$/, \"$2\");\n        return getAllCounters(name).map(function(val){\n            return formatCounter(val, style);\n        }).join(separator);\n    }\n    var a = splitProperty(content, /^\\s+/);\n    var result = [], m;\n    a.forEach(function(el){\n        var tmp;\n        if ((m = /^\\s*([\"'])(.*)\\1\\s*$/.exec(el))) {\n            result.push(m[2].replace(/\\\\([0-9a-f]{4})/gi, function(s, p){\n                return String.fromCharCode(parseInt(p, 16));\n            }));\n        }\n        else if ((m = /^\\s*counter\\((.*?)\\)\\s*$/.exec(el))) {\n            tmp = splitProperty(m[1]);\n            result.push(displayCounter(tmp[0], tmp[1]));\n        }\n        else if ((m = /^\\s*counters\\((.*?)\\)\\s*$/.exec(el))) {\n            tmp = splitProperty(m[1]);\n            result.push(displayCounter(tmp[0], tmp[2], tmp[1]));\n        }\n        else if ((m = /^\\s*attr\\((.*?)\\)\\s*$/.exec(el))) {\n            result.push(element.getAttribute(m[1]) || \"\");\n        }\n        else {\n            result.push(el);\n        }\n    });\n    return result.join(\"\");\n}\n\nfunction getCssText(style) {\n    if (style.cssText) {\n        return style.cssText;\n    }\n    // Status: NEW.  Report year: 2002.  Current year: 2014.\n    // Nice played, Mozillians.\n    // https://bugzilla.mozilla.org/show_bug.cgi?id=137687\n    var result = [];\n    for (var i = 0; i < style.length; ++i) {\n        result.push(style[i] + \": \" + getPropertyValue(style, style[i]));\n    }\n    return result.join(\";\\n\");\n}\n\nfunction _renderWithPseudoElements(element, group) {\n    if (element.tagName == KENDO_PSEUDO_ELEMENT) {\n        _renderElement(element, group);\n        return;\n    }\n    let fake = [];\n    function pseudo(kind, place) {\n        let style = getComputedStyle(element, kind), content = style.content;\n        updateCounters(style);\n        if (content && content != \"normal\" && content != \"none\" && style.width != \"0px\") {\n            let psel = element.ownerDocument.createElement(KENDO_PSEUDO_ELEMENT);\n            psel.style.cssText = getCssText(style);\n            psel.textContent = evalPseudoElementContent(element, content);\n            element.insertBefore(psel, place);\n            fake.push(psel);\n        }\n    }\n    pseudo(\":before\", element.firstChild);\n    pseudo(\":after\", null);\n    if (fake.length > 0) {\n        let saveClass = element.className;\n        element.className += \" kendo-pdf-hide-pseudo-elements\";\n        _renderElement(element, group);\n        element.className = saveClass;\n        fake.forEach(function(el){ element.removeChild(el); });\n    } else {\n        _renderElement(element, group);\n    }\n}\n\nfunction _renderElement(element, group) {\n    var style = getComputedStyle(element);\n\n    var top = getBorder(style, \"top\");\n    var right = getBorder(style, \"right\");\n    var bottom = getBorder(style, \"bottom\");\n    var left = getBorder(style, \"left\");\n\n    var rTL0 = getBorderRadius(style, \"top-left\");\n    var rTR0 = getBorderRadius(style, \"top-right\");\n    var rBL0 = getBorderRadius(style, \"bottom-left\");\n    var rBR0 = getBorderRadius(style, \"bottom-right\");\n\n    var dir = getPropertyValue(style, \"direction\");\n\n    var backgroundColor = getPropertyValue(style, \"background-color\");\n    backgroundColor = parseColor(backgroundColor);\n\n    var backgroundImage = parseBackgroundImage( getPropertyValue(style, \"background-image\") );\n    var backgroundRepeat = splitProperty( getPropertyValue(style, \"background-repeat\") );\n    var backgroundPosition = splitProperty( getPropertyValue(style, \"background-position\") );\n    var backgroundOrigin = splitProperty( getPropertyValue(style, \"background-origin\") );\n    var backgroundSize = splitProperty( getPropertyValue(style, \"background-size\") );\n\n    if (browser.msie && browser.version < 10) {\n        // IE9 hacks.  getPropertyValue won't return the correct\n        // value.  Sucks that we have to do it here, I'd prefer to\n        // move it in getPropertyValue, but we don't have the\n        // element.\n        backgroundPosition = splitProperty(element.currentStyle.backgroundPosition);\n    }\n\n    var innerbox = innerBox(element.getBoundingClientRect(), \"border-*-width\", element);\n\n    // CSS \"clip\" property - if present, replace the group with a\n    // new one which is clipped.  This must happen before drawing\n    // the borders and background.\n    (function(){\n        var clip = getPropertyValue(style, \"clip\");\n        var m = /^\\s*rect\\((.*)\\)\\s*$/.exec(clip);\n        if (m) {\n            var a = m[1].split(/[ ,]+/g);\n            var top = a[0] == \"auto\" ? innerbox.top : parseFloat(a[0]) + innerbox.top;\n            var right = a[1] == \"auto\" ? innerbox.right : parseFloat(a[1]) + innerbox.left;\n            var bottom = a[2] == \"auto\" ? innerbox.bottom : parseFloat(a[2]) + innerbox.top;\n            var left = a[3] == \"auto\" ? innerbox.left : parseFloat(a[3]) + innerbox.left;\n            var tmp = new Group();\n            var clipPath = new Path()\n                .moveTo(left, top)\n                .lineTo(right, top)\n                .lineTo(right, bottom)\n                .lineTo(left, bottom)\n                .close();\n            setClipping(tmp, clipPath);\n            group.append(tmp);\n            group = tmp;\n            updateClipbox(clipPath);\n        }\n    })();\n\n    var boxes, i, cells;\n    var display = getPropertyValue(style, \"display\");\n\n    if (display == \"table-row\") {\n        // because of rowspan/colspan, we shouldn't draw background of table row elements on the\n        // box given by its getBoundingClientRect, because if we do we risk overwritting a\n        // previously rendered cell.  https://github.com/telerik/kendo/issues/4881\n        boxes = [];\n        for (i = 0, cells = element.children; i < cells.length; ++i) {\n            boxes.push(cells[i].getBoundingClientRect());\n        }\n    } else {\n        boxes = element.getClientRects();\n        if (boxes.length == 1) {\n            // Workaround the missing borders in Chrome!  getClientRects() boxes contains values\n            // rounded to integer.  getBoundingClientRect() appears to work fine.  We still need\n            // getClientRects() to support cases where there are more boxes (continued inline\n            // elements that might have border/background).\n            boxes = [ element.getBoundingClientRect() ];\n        }\n    }\n\n    // This function workarounds another Chrome bug, where boxes returned for a table with\n    // border-collapse: collapse will overlap the table border.  Our rendering is not perfect in\n    // such case anyway, but with this is better than without it.\n    boxes = adjustBoxes(boxes);\n\n    for (i = 0; i < boxes.length; ++i) {\n        drawOneBox(boxes[i], i === 0, i == boxes.length - 1);\n    }\n\n    // Render links as separate groups.  We can't use boxes returned by element's getClientRects\n    // because if display type is \"inline\" (default for <a>), boxes will not include the height of\n    // images inside.  https://github.com/telerik/kendo-ui-core/issues/3359\n    if (element.tagName == \"A\" && element.href && !/^#?$/.test(element.getAttribute(\"href\"))) {\n        if (!nodeInfo._avoidLinks || !matches(element, nodeInfo._avoidLinks)) {\n            const r = document.createRange();\n            r.selectNodeContents(element);\n            slice(r.getClientRects()).forEach(function(box){\n                const g = new Group();\n                g._pdfLink = {\n                    url    : element.href,\n                    top    : box.top,\n                    right  : box.right,\n                    bottom : box.bottom,\n                    left   : box.left\n                };\n                group.append(g);\n            });\n        }\n    }\n\n    if (boxes.length > 0 && display == \"list-item\" && !element.getAttribute(\"kendo-no-bullet\")) {\n        drawBullet(boxes[0]);\n    }\n\n    // overflow: hidden/auto - if present, replace the group with\n    // a new one clipped by the inner box.\n    (function(){\n        function clipit() {\n            var clipPath = elementRoundBox(element, innerbox, \"padding\");\n            var tmp = new Group();\n            setClipping(tmp, clipPath);\n            group.append(tmp);\n            group = tmp;\n            updateClipbox(clipPath);\n        }\n        if (isFormField(element)) {\n            clipit();\n        } else if (/^(hidden|auto|scroll)/.test(getPropertyValue(style, \"overflow\"))) {\n            clipit();\n        } else if (/^(hidden|auto|scroll)/.test(getPropertyValue(style, \"overflow-x\"))) {\n            clipit();\n        } else if (/^(hidden|auto|scroll)/.test(getPropertyValue(style, \"overflow-y\"))) {\n            clipit();\n        }\n    })();\n\n    if (!maybeRenderWidget(element, group)) {\n        renderContents(element, group);\n    }\n\n    return group; // only utility functions after this line.\n\n    function adjustBoxes(boxes) {\n        if (/^td$/i.test(element.tagName)) {\n            var table = nodeInfo.table;\n            if (table && getPropertyValue(table.style, \"border-collapse\") == \"collapse\") {\n                var tableBorderLeft = getBorder(table.style, \"left\").width;\n                var tableBorderTop = getBorder(table.style, \"top\").width;\n                // check if we need to adjust\n                if (tableBorderLeft === 0 && tableBorderTop === 0) {\n                    return boxes; // nope\n                }\n                var tableBox = table.element.getBoundingClientRect();\n                var firstCell = table.element.rows[0].cells[0];\n                var firstCellBox = firstCell.getBoundingClientRect();\n                if (firstCellBox.top == tableBox.top || firstCellBox.left == tableBox.left) {\n                    return slice(boxes).map(function(box){\n                        return {\n                            left   : box.left + tableBorderLeft,\n                            top    : box.top + tableBorderTop,\n                            right  : box.right + tableBorderLeft,\n                            bottom : box.bottom + tableBorderTop,\n                            height : box.height,\n                            width  : box.width\n                        };\n                    });\n                }\n            }\n        }\n        return boxes;\n    }\n\n    // this function will be called to draw each border.  it\n    // draws starting at origin and the resulted path must be\n    // translated/rotated to be placed in the proper position.\n    //\n    // arguments are named as if it draws the top border:\n    //\n    //    - `len` the length of the edge\n    //    - `Wtop` the width of the edge (i.e. border-top-width)\n    //    - `Wleft` the width of the left edge (border-left-width)\n    //    - `Wright` the width of the right edge\n    //    - `rl` and `rl` -- the border radius on the left and right\n    //      (objects containing x and y, for horiz/vertical radius)\n    //    - `transform` -- transformation to apply\n    //\n    function drawEdge(color, len, Wtop, Wleft, Wright, rl, rr, transform) {\n        if (Wtop <= 0) {\n            return;\n        }\n\n        var path, edge = new Group();\n        setTransform(edge, transform);\n        group.append(edge);\n\n        sanitizeRadius(rl);\n        sanitizeRadius(rr);\n\n        // draw main border.  this is the area without the rounded corners\n        path = new Path({\n            fill: { color: color },\n            stroke: null\n        });\n        edge.append(path);\n        path.moveTo(rl.x ? Math.max(rl.x, Wleft) : 0, 0)\n            .lineTo(len - (rr.x ? Math.max(rr.x, Wright) : 0), 0)\n            .lineTo(len - Math.max(rr.x, Wright), Wtop)\n            .lineTo(Math.max(rl.x, Wleft), Wtop)\n            .close();\n\n        if (rl.x) {\n            drawRoundCorner(Wleft, rl, [ -1, 0, 0, 1, rl.x, 0 ]);\n        }\n\n        if (rr.x) {\n            drawRoundCorner(Wright, rr, [ 1, 0, 0, 1, len - rr.x, 0 ]);\n        }\n\n        // draws one round corner, starting at origin (needs to be\n        // translated/rotated to be placed properly).\n        function drawRoundCorner(Wright, r, transform) {\n            var angle = Math.PI/2 * Wright / (Wright + Wtop);\n\n            // not sanitizing this one, because negative values\n            // are useful to fill the box correctly.\n            var ri = {\n                x: r.x - Wright,\n                y: r.y - Wtop\n            };\n\n            var path = new Path({\n                fill: { color: color },\n                stroke: null\n            }).moveTo(0, 0);\n\n            setTransform(path, transform);\n\n            addArcToPath(path, 0, r.y, {\n                startAngle: -90,\n                endAngle: -radiansToDegrees(angle),\n                radiusX: r.x,\n                radiusY: r.y\n            });\n\n            if (ri.x > 0 && ri.y > 0) {\n                path.lineTo(ri.x * Math.cos(angle), r.y - ri.y * Math.sin(angle));\n                addArcToPath(path, 0, r.y, {\n                    startAngle: -radiansToDegrees(angle),\n                    endAngle: -90,\n                    radiusX: ri.x,\n                    radiusY: ri.y,\n                    anticlockwise: true\n                });\n            }\n            else if (ri.x > 0) {\n                path.lineTo(ri.x, Wtop)\n                    .lineTo(0, Wtop);\n            }\n            else {\n                path.lineTo(ri.x, Wtop)\n                    .lineTo(ri.x, 0);\n            }\n\n            edge.append(path.close());\n        }\n    }\n\n    function drawBackground(box) {\n        var background = new Group();\n        setClipping(background, roundBox(box, rTL0, rTR0, rBR0, rBL0));\n        group.append(background);\n\n        if (backgroundColor) {\n            var path = new Path({\n                fill: { color: backgroundColor.toCssRgba() },\n                stroke: null\n            });\n            path.moveTo(box.left, box.top)\n                .lineTo(box.right, box.top)\n                .lineTo(box.right, box.bottom)\n                .lineTo(box.left, box.bottom)\n                .close();\n            background.append(path);\n        }\n\n        for (var i = backgroundImage.length; --i >= 0;) {\n            drawOneBackground(\n                background, box,\n                backgroundImage[i],\n                backgroundRepeat[i % backgroundRepeat.length],\n                backgroundPosition[i % backgroundPosition.length],\n                backgroundOrigin[i % backgroundOrigin.length],\n                backgroundSize[i % backgroundSize.length]\n            );\n        }\n    }\n\n    function drawOneBackground(group, box, background, backgroundRepeat, backgroundPosition, backgroundOrigin, backgroundSize) {\n        if (!background || (background == \"none\")) {\n            return;\n        }\n\n        if (background.type == \"url\") {\n            // SVG taints the canvas, can't draw it.\n            if (/^url\\(\\\"data:image\\/svg/i.test(background.url)) {\n                return;\n            }\n            var img = IMAGE_CACHE[background.url];\n            if (img && img.width > 0 && img.height > 0) {\n                drawBackgroundImage(group, box, img.width, img.height, function(group, rect){\n                    group.append(new Image(background.url, rect));\n                });\n            }\n        } else if (background.type == \"linear\") {\n            drawBackgroundImage(group, box, box.width, box.height, gradientRenderer(background));\n        } else {\n            return;\n        }\n\n        function drawBackgroundImage(group, box, img_width, img_height, renderBG) {\n            var aspect_ratio = img_width / img_height, f;\n\n            // for background-origin: border-box the box is already appropriate\n            var orgBox = box;\n            if (backgroundOrigin == \"content-box\") {\n                orgBox = innerBox(orgBox, \"border-*-width\", element);\n                orgBox = innerBox(orgBox, \"padding-*\", element);\n            } else if (backgroundOrigin == \"padding-box\") {\n                orgBox = innerBox(orgBox, \"border-*-width\", element);\n            }\n\n            if (!/^\\s*auto(\\s+auto)?\\s*$/.test(backgroundSize)) {\n                if (backgroundSize == \"contain\") {\n                    f = Math.min(orgBox.width / img_width,\n                                 orgBox.height / img_height);\n                    img_width *= f;\n                    img_height *= f;\n                }\n                else if (backgroundSize == \"cover\") {\n                    f = Math.max(orgBox.width / img_width,\n                                 orgBox.height / img_height);\n                    img_width *= f;\n                    img_height *= f;\n                }\n                else {\n                    var size = backgroundSize.split(/\\s+/g);\n                    // compute width\n                    if (/%$/.test(size[0])) {\n                        img_width = orgBox.width * parseFloat(size[0]) / 100;\n                    } else {\n                        img_width = parseFloat(size[0]);\n                    }\n                    // compute height\n                    if (size.length == 1 || size[1] == \"auto\") {\n                        img_height = img_width / aspect_ratio;\n                    } else if (/%$/.test(size[1])) {\n                        img_height = orgBox.height * parseFloat(size[1]) / 100;\n                    } else {\n                        img_height = parseFloat(size[1]);\n                    }\n                }\n            }\n\n            var pos = String(backgroundPosition);\n\n            // IE sometimes reports single-word positions\n            // https://github.com/telerik/kendo-ui-core/issues/2786\n            //\n            // it seems to switch to percentages when the horizontal\n            // position is not \"center\", therefore we don't handle\n            // multi-word cases here.  All other browsers return\n            // percentages or pixels instead of keywords.  At least\n            // for now...\n            switch (pos) {\n              case \"bottom\" : pos = \"50% 100%\"; break;\n              case \"top\"    : pos = \"50% 0\"; break;\n              case \"left\"   : pos = \"0 50%\"; break;\n              case \"right\"  : pos = \"100% 50%\"; break;\n              case \"center\" : pos = \"50% 50%\"; break;\n            }\n\n            pos = pos.split(/\\s+/);\n            if (pos.length == 1) {\n                pos[1] = \"50%\";\n            }\n\n            if (/%$/.test(pos[0])) {\n                pos[0] = parseFloat(pos[0]) / 100 * (orgBox.width - img_width);\n            } else {\n                pos[0] = parseFloat(pos[0]);\n            }\n            if (/%$/.test(pos[1])) {\n                pos[1] = parseFloat(pos[1]) / 100 * (orgBox.height - img_height);\n            } else {\n                pos[1] = parseFloat(pos[1]);\n            }\n\n            var rect = new geo.Rect([ orgBox.left + pos[0], orgBox.top + pos[1] ], [ img_width, img_height ]);\n\n            // XXX: background-repeat could be implemented more\n            //      efficiently as a fill pattern (at least for PDF\n            //      output, probably SVG too).\n\n            function rewX() {\n                while (rect.origin.x > box.left) {\n                    rect.origin.x -= img_width;\n                }\n            }\n\n            function rewY() {\n                while (rect.origin.y > box.top) {\n                    rect.origin.y -= img_height;\n                }\n            }\n\n            function repeatX() {\n                while (rect.origin.x < box.right) {\n                    renderBG(group, rect.clone());\n                    rect.origin.x += img_width;\n                }\n            }\n\n            if (backgroundRepeat == \"no-repeat\") {\n                renderBG(group, rect);\n            }\n            else if (backgroundRepeat == \"repeat-x\") {\n                rewX();\n                repeatX();\n            }\n            else if (backgroundRepeat == \"repeat-y\") {\n                rewY();\n                while (rect.origin.y < box.bottom) {\n                    renderBG(group, rect.clone());\n                    rect.origin.y += img_height;\n                }\n            }\n            else if (backgroundRepeat == \"repeat\") {\n                rewX();\n                rewY();\n                var origin = rect.origin.clone();\n                while (rect.origin.y < box.bottom) {\n                    rect.origin.x = origin.x;\n                    repeatX();\n                    rect.origin.y += img_height;\n                }\n            }\n        }\n    }\n\n    function drawBullet() {\n        var listStyleType = getPropertyValue(style, \"list-style-type\");\n        if (listStyleType == \"none\") {\n            return;\n        }\n        var listStylePosition = getPropertyValue(style, \"list-style-position\");\n\n        function _drawBullet(f) {\n            saveStyle(element, function(){\n                element.style.position = \"relative\";\n                var bullet = element.ownerDocument.createElement(KENDO_PSEUDO_ELEMENT);\n                bullet.style.position = \"absolute\";\n                bullet.style.boxSizing = \"border-box\";\n                if (listStylePosition == \"outside\") {\n                    bullet.style.width = \"6em\";\n                    bullet.style.left = \"-6.8em\";\n                    bullet.style.textAlign = \"right\";\n                } else {\n                    bullet.style.left = \"0px\";\n                }\n                f(bullet);\n                element.insertBefore(bullet, element.firstChild);\n                renderElement(bullet, group);\n                element.removeChild(bullet);\n            });\n        }\n\n        function elementIndex(f) {\n            var a = element.parentNode.children;\n            var k = element.getAttribute(\"kendo-split-index\");\n            if (k != null) {\n                return f(k|0, a.length);\n            }\n            for (var i = 0; i < a.length; ++i) {\n                if (a[i] === element) {\n                    return f(i, a.length);\n                }\n            }\n        }\n\n        switch (listStyleType) {\n          case \"circle\":\n          case \"disc\":\n          case \"square\":\n            _drawBullet(function(bullet){\n                // XXX: the science behind these values is called \"trial and error\".\n                bullet.style.fontSize = \"60%\";\n                bullet.style.lineHeight = \"200%\";\n                bullet.style.paddingRight = \"0.5em\";\n                bullet.style.fontFamily = \"DejaVu Serif\";\n                bullet.innerHTML = {\n                    \"disc\"   : \"\\u25cf\",\n                    \"circle\" : \"\\u25ef\",\n                    \"square\" : \"\\u25a0\"\n                }[listStyleType];\n            });\n            break;\n\n          case \"decimal\":\n          case \"decimal-leading-zero\":\n            _drawBullet(function(bullet){\n                elementIndex(function(idx){\n                    ++idx;\n                    if (listStyleType == \"decimal-leading-zero\" && idx < 10) {\n                        idx = \"0\" + idx;\n                    }\n                    bullet.innerHTML = idx + \".\";\n                });\n            });\n            break;\n\n          case \"lower-roman\":\n          case \"upper-roman\":\n            _drawBullet(function(bullet){\n                elementIndex(function(idx){\n                    idx = arabicToRoman(idx + 1);\n                    if (listStyleType == \"upper-roman\") {\n                        idx = idx.toUpperCase();\n                    }\n                    bullet.innerHTML = idx + \".\";\n                });\n            });\n            break;\n\n          case \"lower-latin\":\n          case \"lower-alpha\":\n          case \"upper-latin\":\n          case \"upper-alpha\":\n            _drawBullet(function(bullet){\n                elementIndex(function(idx){\n                    idx = alphaNumeral(idx);\n                    if (/^upper/i.test(listStyleType)) {\n                        idx = idx.toUpperCase();\n                    }\n                    bullet.innerHTML = idx + \".\";\n                });\n            });\n            break;\n        }\n    }\n\n    // draws a single border box\n    function drawOneBox(box, isFirst, isLast) {\n        if (box.width === 0 || box.height === 0) {\n            return;\n        }\n\n        drawBackground(box);\n\n        var shouldDrawLeft = (left.width > 0 && ((isFirst && dir == \"ltr\") || (isLast && dir == \"rtl\")));\n        var shouldDrawRight = (right.width > 0 && ((isLast && dir == \"ltr\") || (isFirst && dir == \"rtl\")));\n\n        // The most general case is that the 4 borders have different widths and border\n        // radiuses.  The way that is handled is by drawing 3 Paths for each border: the\n        // straight line, and two round corners which represent half of the entire rounded\n        // corner.  To simplify code those shapes are drawed at origin (by the drawEdge\n        // function), then translated/rotated into the right position.\n        //\n        // However, this leads to poor results due to rounding in the simpler cases where\n        // borders are straight lines.  Therefore we handle a few such cases separately with\n        // straight lines. C^wC^wC^w -- nope, scratch that.  poor rendering was because of a bug\n        // in Chrome (getClientRects() returns rounded integer values rather than exact floats.\n        // web dev is still a ghetto.)\n\n        // first, just in case there is no border...\n        if (top.width === 0 && left.width === 0 && right.width === 0 && bottom.width === 0) {\n            return;\n        }\n\n        // START paint borders\n        // if all borders have equal colors...\n        if (top.color == right.color && top.color == bottom.color && top.color == left.color) {\n\n            // if same widths too, we can draw the whole border by stroking a single path.\n            if (top.width == right.width && top.width == bottom.width && top.width == left.width)\n            {\n                if (shouldDrawLeft && shouldDrawRight) {\n                    // reduce box by half the border width, so we can draw it by stroking.\n                    box = innerBox(box, top.width/2);\n\n                    // adjust the border radiuses, again by top.width/2, and make the path element.\n                    var path = elementRoundBox(element, box, top.width/2);\n                    path.options.stroke = {\n                        color: top.color,\n                        width: top.width\n                    };\n                    group.append(path);\n                    return;\n                }\n            }\n        }\n\n        // if border radiuses are zero and widths are at most one pixel, we can again use simple\n        // paths.\n        if (rTL0.x === 0 && rTR0.x === 0 && rBR0.x === 0 && rBL0.x === 0) {\n            // alright, 1.9px will do as well.  the difference in color blending should not be\n            // noticeable.\n            if (top.width < 2 && left.width < 2 && right.width < 2 && bottom.width < 2) {\n                // top border\n                if (top.width > 0) {\n                    group.append(\n                        new Path({\n                            stroke: { width: top.width, color: top.color }\n                        })\n                            .moveTo(box.left, box.top + top.width/2)\n                            .lineTo(box.right, box.top + top.width/2)\n                    );\n                }\n\n                // bottom border\n                if (bottom.width > 0) {\n                    group.append(\n                        new Path({\n                            stroke: { width: bottom.width, color: bottom.color }\n                        })\n                            .moveTo(box.left, box.bottom - bottom.width/2)\n                            .lineTo(box.right, box.bottom - bottom.width/2)\n                    );\n                }\n\n                // left border\n                if (shouldDrawLeft) {\n                    group.append(\n                        new Path({\n                            stroke: { width: left.width, color: left.color }\n                        })\n                            .moveTo(box.left + left.width/2, box.top)\n                            .lineTo(box.left + left.width/2, box.bottom)\n                    );\n                }\n\n                // right border\n                if (shouldDrawRight) {\n                    group.append(\n                        new Path({\n                            stroke: { width: right.width, color: right.color }\n                        })\n                            .moveTo(box.right - right.width/2, box.top)\n                            .lineTo(box.right - right.width/2, box.bottom)\n                    );\n                }\n\n                return;\n            }\n        }\n        // END paint borders\n\n        var tmp = adjustBorderRadiusForBox(box, rTL0, rTR0, rBR0, rBL0);\n        var rTL = tmp.tl;\n        var rTR = tmp.tr;\n        var rBR = tmp.br;\n        var rBL = tmp.bl;\n\n        // top border\n        drawEdge(top.color,\n                 box.width, top.width, left.width, right.width,\n                 rTL, rTR,\n                 [ 1, 0, 0, 1, box.left, box.top ]);\n\n        // bottom border\n        drawEdge(bottom.color,\n                 box.width, bottom.width, right.width, left.width,\n                 rBR, rBL,\n                 [ -1, 0, 0, -1, box.right, box.bottom ]);\n\n        // for left/right borders we need to invert the border-radiuses\n        function inv(p) {\n            return { x: p.y, y: p.x };\n        }\n\n        // left border\n        drawEdge(left.color,\n                 box.height, left.width, bottom.width, top.width,\n                 inv(rBL), inv(rTL),\n                 [ 0, -1, 1, 0, box.left, box.bottom ]);\n\n        // right border\n        drawEdge(right.color,\n                 box.height, right.width, top.width, bottom.width,\n                 inv(rTR), inv(rBR),\n                 [ 0, 1, -1, 0, box.right, box.top ]);\n    }\n}\n\nfunction gradientRenderer(gradient) {\n    return function(group, rect) {\n        var width = rect.width(), height = rect.height();\n\n        switch (gradient.type) {\n          case \"linear\":\n\n            // figure out the angle.\n            var angle = gradient.angle != null ? gradient.angle : Math.PI;\n            switch (gradient.to) {\n              case \"top\":\n                angle = 0;\n                break;\n              case \"left\":\n                angle = -Math.PI / 2;\n                break;\n              case \"bottom\":\n                angle = Math.PI;\n                break;\n              case \"right\":\n                angle = Math.PI / 2;\n                break;\n              case \"top left\": case \"left top\":\n                angle = -Math.atan2(height, width);\n                break;\n              case \"top right\": case \"right top\":\n                angle = Math.atan2(height, width);\n                break;\n              case \"bottom left\": case \"left bottom\":\n                angle = Math.PI + Math.atan2(height, width);\n                break;\n              case \"bottom right\": case \"right bottom\":\n                angle = Math.PI - Math.atan2(height, width);\n                break;\n            }\n\n            if (gradient.reverse) {\n                angle -= Math.PI;\n            }\n\n            // limit the angle between 0..2PI\n            angle %= 2 * Math.PI;\n            if (angle < 0) {\n                angle += 2 * Math.PI;\n            }\n\n            // compute gradient's start/end points.  here len is the length of the gradient line\n            // and x,y is the end point relative to the center of the rectangle in conventional\n            // (math) axis direction.\n\n            // this is the original (unscaled) length of the gradient line.  needed to deal with\n            // absolutely positioned color stops.  formula from the CSS spec:\n            // http://dev.w3.org/csswg/css-images-3/#linear-gradient-syntax\n            var pxlen = Math.abs(width * Math.sin(angle)) + Math.abs(height * Math.cos(angle));\n\n            // The math below is pretty simple, but it took a while to figure out.  We compute x\n            // and y, the *end* of the gradient line.  However, we want to transform them into\n            // element-based coordinates (SVG's gradientUnits=\"objectBoundingBox\").  That means,\n            // x=0 is the left edge, x=1 is the right edge, y=0 is the top edge and y=1 is the\n            // bottom edge.\n            //\n            // A naive approach would use the original angle for these calculations.  Say we'd\n            // like to draw a gradient angled at 45deg in a 100x400 box.  When we use\n            // objectBoundingBox, the renderer will draw it in a 1x1 *square* box, and then\n            // scale that to the desired dimensions.  The 45deg angle will look more like 70deg\n            // after scaling.  SVG (http://www.w3.org/TR/SVG/pservers.html#LinearGradients) says\n            // the following:\n            //\n            //     When gradientUnits=\"objectBoundingBox\" and 'gradientTransform' is the\n            //     identity matrix, the normal of the linear gradient is perpendicular to the\n            //     gradient vector in object bounding box space (i.e., the abstract coordinate\n            //     system where (0,0) is at the top/left of the object bounding box and (1,1) is\n            //     at the bottom/right of the object bounding box). When the object's bounding\n            //     box is not square, the gradient normal which is initially perpendicular to\n            //     the gradient vector within object bounding box space may render\n            //     non-perpendicular relative to the gradient vector in user space. If the\n            //     gradient vector is parallel to one of the axes of the bounding box, the\n            //     gradient normal will remain perpendicular. This transformation is due to\n            //     application of the non-uniform scaling transformation from bounding box space\n            //     to user space.\n            //\n            // which is an extremely long and confusing way to tell what I just said above.\n            //\n            // For this reason we need to apply the reverse scaling to the original angle, so\n            // that when it'll finally be rendered it'll actually be at the desired slope.  Now\n            // I'll let you figure out the math yourself.\n\n            var scaledAngle = Math.atan(width * Math.tan(angle) / height);\n            var sin = Math.sin(scaledAngle), cos = Math.cos(scaledAngle);\n            var len = Math.abs(sin) + Math.abs(cos);\n            var x = len/2 * sin;\n            var y = len/2 * cos;\n\n            // Because of the arctangent, our scaledAngle ends up between -PI/2..PI/2, possibly\n            // losing the intended direction of the gradient.  The following fixes it.\n            if (angle > Math.PI/2 && angle <= 3*Math.PI/2) {\n                x = -x;\n                y = -y;\n            }\n\n            // compute the color stops.\n            var implicit = [], right = 0;\n            var stops = gradient.stops.map(function(s, i){\n                var offset = s.percent;\n                if (offset) {\n                    offset = parseFloat(offset) / 100;\n                } else if (s.length) {\n                    offset = parseFloat(s.length) / pxlen;\n                } else if (i === 0) {\n                    offset = 0;\n                } else if (i == gradient.stops.length - 1) {\n                    offset = 1;\n                }\n                var stop = {\n                    color: s.color.toCssRgba(),\n                    offset: offset\n                };\n                if (offset != null) {\n                    right = offset;\n                    // fix implicit offsets\n                    implicit.forEach(function(s, i){\n                        var stop = s.stop;\n                        stop.offset = s.left + (right - s.left) * (i + 1) / (implicit.length + 1);\n                    });\n                    implicit = [];\n                } else {\n                    implicit.push({ left: right, stop: stop });\n                }\n                return stop;\n            });\n\n            var start = [ 0.5 - x, 0.5 + y ];\n            var end = [ 0.5 + x, 0.5 - y ];\n\n            // finally, draw it.\n            group.append(\n                Path.fromRect(rect)\n                    .stroke(null)\n                    .fill(new LinearGradient({\n                        start     : start,\n                        end       : end,\n                        stops     : stops,\n                        userSpace : false\n                    }))\n            );\n            break;\n          case \"radial\":\n            // XXX:\n            if (window.console && window.console.log) {\n                window.console.log(\"Radial gradients are not yet supported in HTML renderer\");\n            }\n            break;\n        }\n    };\n}\n\nfunction maybeRenderWidget(element, group) {\n    var visual;\n\n    if (element._kendoExportVisual) {\n        visual = element._kendoExportVisual();\n    } else if (window.kendo && window.kendo.jQuery && element.getAttribute(window.kendo.attr(\"role\"))) {\n        var widget = window.kendo.widgetInstance(window.kendo.jQuery(element));\n        if (widget && (widget.exportDOMVisual || widget.exportVisual)) {\n            if (widget.exportDOMVisual) {\n                visual = widget.exportDOMVisual();\n            } else {\n                visual = widget.exportVisual();\n            }\n        }\n    }\n\n    if (!visual) {\n        return false;\n    }\n\n    var wrap = new Group();\n    wrap.children.push(visual);\n\n    var bbox = element.getBoundingClientRect();\n    wrap.transform(geo.transform().translate(bbox.left, bbox.top));\n\n    group.append(wrap);\n\n    return true;\n}\n\nfunction renderImage(element, url, group) {\n    var box = getContentBox(element);\n    var rect = new geo.Rect([ box.left, box.top ], [ box.width, box.height ]);\n    var image = new Image(url, rect);\n    setClipping(image, elementRoundBox(element, box, \"content\"));\n    group.append(image);\n}\n\nfunction zIndexSort(a, b) {\n    var sa = getComputedStyle(a);\n    var sb = getComputedStyle(b);\n    var za = parseFloat(getPropertyValue(sa, \"z-index\"));\n    var zb = parseFloat(getPropertyValue(sb, \"z-index\"));\n    var pa = getPropertyValue(sa, \"position\");\n    var pb = getPropertyValue(sb, \"position\");\n    if (isNaN(za) && isNaN(zb)) {\n        if ((/static|absolute/.test(pa)) && (/static|absolute/.test(pb))) {\n            return 0;\n        }\n        if (pa == \"static\") {\n            return -1;\n        }\n        if (pb == \"static\") {\n            return 1;\n        }\n        return 0;\n    }\n    if (isNaN(za)) {\n        return zb === 0 ? 0 : zb > 0 ? -1 : 1;\n    }\n    if (isNaN(zb)) {\n        return za === 0 ? 0 : za > 0 ? 1 : -1;\n    }\n    return parseFloat(za) - parseFloat(zb);\n}\n\nfunction isFormField(element) {\n    return /^(?:textarea|select|input)$/i.test(element.tagName);\n}\n\nfunction getSelectedOption(element) {\n    if (element.selectedOptions && element.selectedOptions.length > 0) {\n        return element.selectedOptions[0];\n    }\n    return element.options[element.selectedIndex];\n}\n\nfunction renderCheckbox(element, group) {\n    var style = getComputedStyle(element);\n    var color = getPropertyValue(style, \"color\");\n    var box = element.getBoundingClientRect();\n    if (element.type == \"checkbox\") {\n        group.append(\n            Path.fromRect(\n                new geo.Rect([ box.left+1, box.top+1 ],\n                             [ box.width-2, box.height-2 ])\n            ).stroke(color, 1)\n        );\n        if (element.checked) {\n            // fill a rectangle inside?  looks kinda ugly.\n            // group.append(\n            //     Path.fromRect(\n            //         new geo.Rect([ box.left+4, box.top+4 ],\n            //                      [ box.width-8, box.height-8])\n            //     ).fill(color).stroke(null)\n            // );\n\n            // let's draw a checkmark instead.  artistic, eh?\n            group.append(\n                new Path()\n                    .stroke(color, 1.2)\n                    .moveTo(box.left + 0.22 * box.width,\n                            box.top + 0.55 * box.height)\n                    .lineTo(box.left + 0.45 * box.width,\n                            box.top + 0.75 * box.height)\n                    .lineTo(box.left + 0.78 * box.width,\n                            box.top + 0.22 * box.width)\n            );\n        }\n    } else {\n        group.append(\n            new Circle(\n                new geo.Circle([\n                    (box.left + box.right) / 2,\n                    (box.top + box.bottom) / 2\n                ], Math.min(box.width-2, box.height-2) / 2)\n            ).stroke(color, 1)\n        );\n        if (element.checked) {\n            group.append(\n                new Circle(\n                    new geo.Circle([\n                        (box.left + box.right) / 2,\n                        (box.top + box.bottom) / 2\n                    ], Math.min(box.width-8, box.height-8) / 2)\n                ).fill(color).stroke(null)\n            );\n        }\n    }\n}\n\nfunction renderFormField(element, group) {\n    var tag = element.tagName.toLowerCase();\n    if (tag == \"input\" && (element.type == \"checkbox\" || element.type == \"radio\")) {\n        return renderCheckbox(element, group);\n    }\n    var p = element.parentNode;\n    var doc = element.ownerDocument;\n    var el = doc.createElement(KENDO_PSEUDO_ELEMENT);\n    var option;\n    el.style.cssText = getCssText(getComputedStyle(element));\n    if (tag == \"input\") {\n        el.style.whiteSpace = \"pre\";\n    }\n    if (tag == \"select\" || tag == \"textarea\") {\n        el.style.overflow = \"auto\";\n    }\n    if (tag == \"select\") {\n        if (element.multiple) {\n            for (var i = 0; i < element.options.length; ++i) {\n                option = doc.createElement(KENDO_PSEUDO_ELEMENT);\n                option.style.cssText = getCssText(getComputedStyle(element.options[i]));\n                option.style.display = \"block\"; // IE9 messes up without this\n                option.textContent = element.options[i].textContent;\n                el.appendChild(option);\n            }\n        } else {\n            option = getSelectedOption(element);\n            if (option) {\n                el.textContent = option.textContent;\n            }\n        }\n    } else {\n        el.textContent = element.value;\n    }\n    p.insertBefore(el, element);\n    el.scrollLeft = element.scrollLeft;\n    el.scrollTop = element.scrollTop;\n\n    // must temporarily hide the original element, otherwise it\n    // may affect layout of the fake element we want to render.\n    element.style.display = \"none\";\n\n    renderContents(el, group);\n    element.style.display = \"\";\n    p.removeChild(el);\n}\n\nfunction renderContents(element, group) {\n    if (nodeInfo._stackingContext.element === element) {\n        // the group that was set in pushNodeInfo might have\n        // changed due to clipping/transforms, update it here.\n        nodeInfo._stackingContext.group = group;\n    }\n    switch (element.tagName.toLowerCase()) {\n      case \"img\":\n        renderImage(element, element.src, group);\n        break;\n\n      case \"canvas\":\n        try {\n            renderImage(element, element.toDataURL(\"image/png\"), group);\n        } catch (ex) {\n            // tainted; can't draw it, ignore.\n        }\n        break;\n\n      case \"textarea\":\n      case \"input\":\n      case \"select\":\n        renderFormField(element, group);\n        break;\n\n      default:\n        var children = [], floats = [], positioned = [];\n        for (var i = element.firstChild; i; i = i.nextSibling) {\n            switch (i.nodeType) {\n              case 3:         // Text\n                if (/\\S/.test(i.data)) {\n                    renderText(element, i, group);\n                }\n                break;\n              case 1:         // Element\n                var style = getComputedStyle(i);\n                var floating = getPropertyValue(style, \"float\");\n                var position = getPropertyValue(style, \"position\");\n                if (position != \"static\") {\n                    positioned.push(i);\n                }\n                else if (floating != \"none\") {\n                    floats.push(i);\n                } else {\n                    children.push(i);\n                }\n                break;\n            }\n        }\n\n        mergeSort(children, zIndexSort).forEach(function(el){ renderElement(el, group); });\n        mergeSort(floats, zIndexSort).forEach(function(el){ renderElement(el, group); });\n        mergeSort(positioned, zIndexSort).forEach(function(el){ renderElement(el, group); });\n    }\n}\n\nfunction renderText(element, node, group) {\n    if (emptyClipbox()) {\n        return;\n    }\n    var style = getComputedStyle(element);\n\n    if (parseFloat(getPropertyValue(style, \"text-indent\")) < -500) {\n        // assume it should not be displayed.  the slider's\n        // draggable handle displays a Drag text for some reason,\n        // having text-indent: -3333px.\n        return;\n    }\n\n    var text = node.data;\n    var start = 0;\n    var end = text.search(/\\S\\s*$/) + 1;\n\n    if (!end) {\n        return; // whitespace-only node\n    }\n\n    var fontSize = getPropertyValue(style, \"font-size\");\n    var lineHeight = getPropertyValue(style, \"line-height\");\n\n    // simply getPropertyValue(\"font\") doesn't work in Firefox :-\\\n    var font = [\n        getPropertyValue(style, \"font-style\"),\n        getPropertyValue(style, \"font-variant\"),\n        getPropertyValue(style, \"font-weight\"),\n        fontSize, // no need for line height here; it breaks layout in FF\n        getPropertyValue(style, \"font-family\")\n    ].join(\" \");\n\n    fontSize = parseFloat(fontSize);\n    lineHeight = parseFloat(lineHeight);\n\n    if (fontSize === 0) {\n        return;\n    }\n\n    var color = getPropertyValue(style, \"color\");\n    var range = element.ownerDocument.createRange();\n    var align = getPropertyValue(style, \"text-align\");\n    var isJustified = align == \"justify\";\n    var columnCount = getPropertyValue(style, \"column-count\", 1);\n    var whiteSpace = getPropertyValue(style, \"white-space\");\n    var textTransform = getPropertyValue(style, \"text-transform\");\n\n    // IE shrinks the text with text-overflow: ellipsis,\n    // apparently because the returned bounding box for the range\n    // is limited to the visible area minus space for the dots,\n    // instead of being the full width of the text.\n    //\n    // https://github.com/telerik/kendo/issues/5232\n    var textOverflow, saveTextOverflow;\n    if (microsoft) {\n        textOverflow = style.textOverflow;             // computed style\n        if (textOverflow == \"ellipsis\") {\n            saveTextOverflow = element.style.textOverflow; // own style.\n            element.style.textOverflow = \"clip\";\n        }\n    }\n\n    // A line of 500px, with a font of 12px, contains an average of 80 characters, but since we\n    // err, we'd like to guess a bigger number rather than a smaller one.  Multiplying by 5\n    // seems to be a good option.\n    var estimateLineLength = element.getBoundingClientRect().width / fontSize * 5;\n    if (estimateLineLength === 0) {\n        estimateLineLength = 500;\n    }\n\n    // we'll maintain this so we can workaround bugs in Chrome's Range.getClientRects\n    // https://github.com/telerik/kendo/issues/5740\n    var prevLineBottom = null;\n\n    var underline = nodeInfo[\"underline\"];\n    var lineThrough = nodeInfo[\"line-through\"];\n    var overline = nodeInfo[\"overline\"];\n    var hasDecoration = underline || lineThrough || overline;\n\n    // doChunk returns true when all text has been rendered\n    while (!doChunk()) {}\n\n    if (microsoft && textOverflow == \"ellipsis\") {\n        element.style.textOverflow = saveTextOverflow;\n    }\n\n    if (hasDecoration) {\n        range.selectNode(node);\n        slice(range.getClientRects()).forEach(decorate);\n    }\n\n    return;                 // only function declarations after this line\n\n    function actuallyGetRangeBoundingRect(range) {\n        // XXX: to be revised when this Chrome bug is fixed:\n        // https://bugs.chromium.org/p/chromium/issues/detail?id=612459\n        if (microsoft || browser.chrome) {\n            // Workaround browser bugs: IE and Chrome would sometimes\n            // return 0 or 1-width rectangles before or after the main\n            // one.  https://github.com/telerik/kendo/issues/4674\n\n            // Actually Chrome 50 got worse, since the rectangles can now have the width of a\n            // full character, making it hard to tell whether it's a bogus rectangle or valid\n            // selection location.  The workaround is to ignore rectangles that fall on the\n            // previous line.  https://github.com/telerik/kendo/issues/5740\n            var rectangles = range.getClientRects(), box = {\n                top    :  Infinity,\n                right  : -Infinity,\n                bottom : -Infinity,\n                left   :  Infinity\n            };\n            for (var i = 0; i < rectangles.length; ++i) {\n                var b = rectangles[i];\n                if (b.width <= 1 || b.bottom === prevLineBottom) {\n                    continue;   // bogus rectangle\n                }\n                box.left   = Math.min(b.left   , box.left);\n                box.top    = Math.min(b.top    , box.top);\n                box.right  = Math.max(b.right  , box.right);\n                box.bottom = Math.max(b.bottom , box.bottom);\n            }\n            box.width = box.right - box.left;\n            box.height = box.bottom - box.top;\n            return box;\n        }\n        return range.getBoundingClientRect();\n    }\n\n    // Render a chunk of text, typically one line (but for justified text we render each word as\n    // a separate Text object, because spacing is variable).  Returns true when it finished the\n    // current node.  After each chunk it updates `start` to just after the last rendered\n    // character.\n    function doChunk() {\n        var origStart = start;\n        var box, pos = text.substr(start).search(/\\S/);\n        start += pos;\n        if (pos < 0 || start >= end) {\n            return true;\n        }\n\n        // Select a single character to determine the height of a line of text.  The box.bottom\n        // will be essential for us to figure out where the next line begins.\n        range.setStart(node, start);\n        range.setEnd(node, start + 1);\n        box = actuallyGetRangeBoundingRect(range);\n\n        // for justified text we must split at each space, because space has variable width.\n        var found = false;\n        if (isJustified || columnCount > 1) {\n            pos = text.substr(start).search(/\\s/);\n            if (pos >= 0) {\n                // we can only split there if it's on the same line, otherwise we'll fall back\n                // to the default mechanism (see findEOL below).\n                range.setEnd(node, start + pos);\n                var r = actuallyGetRangeBoundingRect(range);\n                if (r.bottom == box.bottom) {\n                    box = r;\n                    found = true;\n                    start += pos;\n                }\n            }\n        }\n\n        if (!found) {\n            // This code does three things: (1) it selects one line of text in `range`, (2) it\n            // leaves the bounding rect of that line in `box` and (3) it returns the position\n            // just after the EOL.  We know where the line starts (`start`) but we don't know\n            // where it ends.  To figure this out, we select a piece of text and look at the\n            // bottom of the bounding box.  If it changes, we have more than one line selected\n            // and should retry with a smaller selection.\n            //\n            // To speed things up, we first try to select all text in the node (`start` ->\n            // `end`).  If there's more than one line there, then select only half of it.  And\n            // so on.  When we find a value for `end` that fits in one line, we try increasing\n            // it (also in halves) until we get to the next line.  The algorithm stops when the\n            // right side of the bounding box does not change.\n            //\n            // One more thing to note is that everything happens in a single Text DOM node.\n            // There's no other tags inside it, therefore the left/top coordinates of the\n            // bounding box will not change.\n            pos = (function findEOL(min, eol, max){\n                range.setEnd(node, eol);\n                var r = actuallyGetRangeBoundingRect(range);\n                if (r.bottom != box.bottom && min < eol) {\n                    return findEOL(min, (min + eol) >> 1, eol);\n                } else if (r.right != box.right) {\n                    box = r;\n                    if (eol < max) {\n                        return findEOL(eol, (eol + max) >> 1, max);\n                    } else {\n                        return eol;\n                    }\n                } else {\n                    return eol;\n                }\n            })(start, Math.min(end, start + estimateLineLength), end);\n\n            if (pos == start) {\n                // if EOL is at the start, then no more text fits on this line.  Skip the\n                // remainder of this node entirely to avoid a stack overflow.\n                return true;\n            }\n            start = pos;\n\n            pos = range.toString().search(/\\s+$/);\n            if (pos === 0) {\n                return false; // whitespace only; we should not get here.\n            }\n            if (pos > 0) {\n                // eliminate trailing whitespace\n                range.setEnd(node, range.startOffset + pos);\n                box = actuallyGetRangeBoundingRect(range);\n            }\n        }\n\n        // another workaround for IE: if we rely on getBoundingClientRect() we'll overlap with the bullet for LI\n        // elements.  Calling getClientRects() and using the *first* rect appears to give us the correct location.\n        // Note: not to be used in Chrome as it randomly returns a zero-width rectangle from the previous line.\n        if (microsoft) {\n            box = range.getClientRects()[0];\n        }\n\n        var str = range.toString();\n        if (!/^(?:pre|pre-wrap)$/i.test(whiteSpace)) {\n            // node with non-significant space -- collapse whitespace.\n            str = str.replace(/\\s+/g, \" \");\n        }\n        else if (/\\t/.test(str)) {\n            // with significant whitespace we need to do something about literal TAB characters.\n            // There's no TAB glyph in a font so they would be rendered in PDF as an empty box,\n            // and the whole text will stretch to fill the original width.  The core PDF lib\n            // does not have sufficient context to deal with it.\n\n            // calculate the starting column here, since we initially discarded any whitespace.\n            var cc = 0;\n            for (pos = origStart; pos < range.startOffset; ++pos) {\n                var code = text.charCodeAt(pos);\n                if (code == 9) {\n                    // when we meet a TAB we must round up to the next tab stop.\n                    // in all browsers TABs seem to be 8 characters.\n                    cc += 8 - cc % 8;\n                } else if (code == 10 || code == 13) {\n                    // just in case we meet a newline we must restart.\n                    cc = 0;\n                } else {\n                    // ordinary character --> advance one column\n                    cc++;\n                }\n            }\n\n            // based on starting column, replace any TAB characters in the string we actually\n            // have to display with spaces so that they align to columns multiple of 8.\n            while ((pos = str.search(\"\\t\")) >= 0) {\n                var indent = \"        \".substr(0, 8 - (cc + pos) % 8);\n                str = str.substr(0, pos) + indent + str.substr(pos + 1);\n            }\n        }\n\n        if (!found) {\n            prevLineBottom = box.bottom;\n        }\n        drawText(str, box);\n    }\n\n    function drawText(str, box) {\n        // In IE the box height will be approximately lineHeight, while in\n        // other browsers it'll (correctly) be the height of the bounding\n        // box for the current text/font.  Which is to say, IE sucks again.\n        // The only good solution I can think of is to measure the text\n        // ourselves and center the bounding box.\n        if (microsoft && !isNaN(lineHeight)) {\n            var height = getFontHeight(font);\n            var top = (box.top + box.bottom - height) / 2;\n            box = {\n                top    : top,\n                right  : box.right,\n                bottom : top + height,\n                left   : box.left,\n                height : height,\n                width  : box.right - box.left\n            };\n        }\n\n        // var path = new Path({ stroke: { color: \"red\" }});\n        // path.moveTo(box.left, box.top)\n        //     .lineTo(box.right, box.top)\n        //     .lineTo(box.right, box.bottom)\n        //     .lineTo(box.left, box.bottom)\n        //     .close();\n        // group.append(path);\n\n        switch (textTransform) {\n          case \"uppercase\":\n            str = str.toUpperCase();\n            break;\n          case \"lowercase\":\n            str = str.toLowerCase();\n            break;\n          case \"capitalize\":\n            str = str.replace(/(?:^|\\s)\\S/g, l => l.toUpperCase());\n            break;\n        }\n\n        var text = new TextRect(\n            str, new geo.Rect([ box.left, box.top ],\n                              [ box.width, box.height ]),\n            {\n                font: font,\n                fill: { color: color }\n            }\n        );\n        group.append(text);\n    }\n\n    function decorate(box) {\n        line(underline, box.bottom);\n        line(lineThrough, box.bottom - box.height / 2.7);\n        line(overline, box.top);\n        function line(color, ypos) {\n            if (color) {\n                var width = fontSize / 12;\n                var path = new Path({ stroke: {\n                    width: width,\n                    color: color\n                }});\n\n                ypos -= width;\n                path.moveTo(box.left, ypos)\n                    .lineTo(box.right, ypos);\n                group.append(path);\n            }\n        }\n    }\n}\n\nfunction groupInStackingContext(element, group, zIndex) {\n    var main;\n    if (zIndex != \"auto\") {\n        // use the current stacking context\n        main = nodeInfo._stackingContext.group;\n        zIndex = parseFloat(zIndex);\n    } else {\n        // normal flow — use given container.  we still have to\n        // figure out where should we insert this element with the\n        // assumption that its z-index is zero, as the group might\n        // already contain elements with higher z-index.\n        main = group;\n        zIndex = 0;\n    }\n    var a = main.children;\n    for (var i = 0; i < a.length; ++i) {\n        if (a[i]._dom_zIndex != null && a[i]._dom_zIndex > zIndex) {\n            break;\n        }\n    }\n\n    var tmp = new Group();\n    main.insert(i, tmp);\n    tmp._dom_zIndex = zIndex;\n\n    if (main !== group) {\n        // console.log(\"Placing\", element, \"in\", nodeInfo._stackingContext.element, \"at position\", i, \" / \", a.length);\n        // console.log(a.slice(i+1));\n\n        // if (nodeInfo._matrix) {\n        //     tmp.transform(nodeInfo._matrix);\n        // }\n        if (nodeInfo._clipbox) {\n            var m = nodeInfo._matrix.invert();\n            var r = nodeInfo._clipbox.transformCopy(m);\n            setClipping(tmp, Path.fromRect(r));\n            // console.log(r);\n            // tmp.append(Path.fromRect(r));\n            // tmp.append(new Text(element.className || element.id, r.topLeft()));\n        }\n    }\n\n    return tmp;\n}\n\nfunction renderElement(element, container) {\n    var style = getComputedStyle(element);\n\n    updateCounters(style);\n\n    if (/^(style|script|link|meta|iframe|svg|col|colgroup)$/i.test(element.tagName)) {\n        return;\n    }\n\n    if (nodeInfo._clipbox == null) {\n        return;\n    }\n\n    var opacity = parseFloat(getPropertyValue(style, \"opacity\"));\n    var visibility = getPropertyValue(style, \"visibility\");\n    var display = getPropertyValue(style, \"display\");\n\n    if (opacity === 0 || visibility == \"hidden\" || display == \"none\") {\n        return;\n    }\n\n    var tr = getTransform(style);\n    var group;\n\n    var zIndex = getPropertyValue(style, \"z-index\");\n    if ((tr || opacity < 1) && zIndex == \"auto\") {\n        zIndex = 0;\n    }\n    group = groupInStackingContext(element, container, zIndex);\n\n    // XXX: remove at some point\n    // group._pdfElement = element;\n    // group.options._pdfDebug = \"\";\n    // if (element.id) {\n    //     group.options._pdfDebug = \"#\" + element.id;\n    // }\n    // if (element.className) {\n    //     group.options._pdfDebug += \".\" + element.className.split(\" \").join(\".\");\n    // }\n\n    if (opacity < 1) {\n        group.opacity(opacity * group.opacity());\n    }\n\n    pushNodeInfo(element, style, group);\n\n    if (!tr) {\n        _renderWithPseudoElements(element, group);\n    }\n    else {\n        saveStyle(element, function(){\n            // must clear transform, so getBoundingClientRect returns correct values.\n            pleaseSetPropertyValue(element.style, \"transform\", \"none\", \"important\");\n\n            // must also clear transitions, so correct values are returned *immediately*\n            pleaseSetPropertyValue(element.style, \"transition\", \"none\", \"important\");\n\n            // the presence of any transform makes it behave like it had position: relative,\n            // because why not.\n            // http://meyerweb.com/eric/thoughts/2011/09/12/un-fixing-fixed-elements-with-css-transforms/\n            if (getPropertyValue(style, \"position\") == \"static\") {\n                // but only if it's not already positioned. :-/\n                pleaseSetPropertyValue(element.style, \"position\", \"relative\", \"important\");\n            }\n\n            // must translate to origin before applying the CSS\n            // transformation, then translate back.\n            var bbox = element.getBoundingClientRect();\n            var x = bbox.left + tr.origin[0];\n            var y = bbox.top + tr.origin[1];\n            var m = [ 1, 0, 0, 1, -x, -y ];\n            m = mmul(m, tr.matrix);\n            m = mmul(m, [ 1, 0, 0, 1, x, y ]);\n            m = setTransform(group, m);\n\n            nodeInfo._matrix = nodeInfo._matrix.multiplyCopy(m);\n\n            _renderWithPseudoElements(element, group);\n        });\n    }\n\n    popNodeInfo();\n\n    //drawDebugBox(element.getBoundingClientRect(), container);\n}\n\n// function drawDebugBox(box, group, color) {\n//     var path = Path.fromRect(new geo.Rect([ box.left, box.top ], [ box.width, box.height ]));\n//     if (color) {\n//         path.stroke(color);\n//     }\n//     group.append(path);\n// }\n\n// function dumpTextNode(node) {\n//     var txt = node.data.replace(/^\\s+/, \"\");\n//     if (txt.length < 100) {\n//         console.log(node.data.length + \": |\" + txt);\n//     } else {\n//         console.log(node.data.length + \": |\" + txt.substr(0, 50) + \"|...|\" + txt.substr(-50));\n//     }\n// }\n\nfunction mmul(a, b) {\n    var a1 = a[0], b1 = a[1], c1 = a[2], d1 = a[3], e1 = a[4], f1 = a[5];\n    var a2 = b[0], b2 = b[1], c2 = b[2], d2 = b[3], e2 = b[4], f2 = b[5];\n    return [\n        a1*a2 + b1*c2,          a1*b2 + b1*d2,\n        c1*a2 + d1*c2,          c1*b2 + d1*d2,\n        e1*a2 + f1*c2 + e2,     e1*b2 + f1*d2 + f2\n    ];\n}\n\nexport { drawDOM };\n\n"],"names":["const","let","this","super","eventName","arguments","idx","template","append","size","toString","Class","transform","Element","createTransform","Circle","GeometryCircle","close","pow","Arc","rad","DEFAULT_STROKE","GeometryArc","Image","DEFAULT_OPTIONS","Rect","GeometryRect","now","animationFrame","renderSVG","Surface","BaseSurface","SPACE","NODE_MAP","Node","GroupNode","RootNode","PathNode","ArcNode","CircleNode","RectNode","ImageNode","TextNode","MultiPathNode","HAS_TYPED_ARRAYS","hasOwnProperty","deflate","pakoDeflate","browser","TEXT_RENDERING_MODE","PDF.TEXT_RENDERING_MODE","render","PDF.clearImageCache","PDF.parseFontDef","PDF.getFontURL","PDF.Document","geo.Matrix","PDF.loadFonts","PDF.loadImages","saveAs","util_saveAs","drawImage","parseColor","utils_parseColor","geo.Rect","slice","IMAGE_CACHE","canvas","PDF.defineFont","setTransform","PDF.getPaperOptions","compileTemplate","last","getFontURL","setClipping","geo.Arc","wrap","geo.transform","geo.Circle","align","mmul"],"mappings":"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"}