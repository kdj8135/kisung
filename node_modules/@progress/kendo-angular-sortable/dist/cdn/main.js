!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("tslib"),require("@angular/core"),require("@progress/kendo-angular-l10n"),require("@angular/common")):"function"==typeof define&&define.amd?define(["tslib","@angular/core","@progress/kendo-angular-l10n","@angular/common"],e):"object"==typeof exports?exports.KendoAngularSortable=e(require("tslib"),require("@angular/core"),require("@progress/kendo-angular-l10n"),require("@angular/common")):t.KendoAngularSortable=e(t.tslib,t["@angular/core"],t["@progress/kendo-angular-l10n"],t["@angular/common"])}(this,function(t,e,n,i){return function(t){function e(i){if(n[i])return n[i].exports;var a=n[i]={exports:{},id:i,loaded:!1};return t[i].call(a.exports,a,a.exports,e),a.loaded=!0,a.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1);e.SortableComponent=i.SortableComponent;var a=n(7);e.SortableModule=a.SortableModule;var r=n(5);e.PreventableEvent=r.PreventableEvent;var o=n(5);e.DataEvent=o.DataEvent},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),a=n(3),r=n(4),o=n(5),s=n(6),d=function(){function t(t,e){this.tabIndex=null,this.data=[],this.navigatable=!1,this.animation=!1,this.disabledIndexes=[],this.zone=void 0,this.acceptZones=void 0,this.itemStyle={},this.emptyItemStyle=void 0,this.activeItemStyle=void 0,this.disabledItemStyle=void 0,this.itemClass="",this.activeItemClass=null,this.emptyItemClass=null,this.disabledItemClass=null,this.emptyText="Empty",this.itemTemplateRef=null,this.itemWrappers=null,this.dragStart=new a.EventEmitter,this.dragEnd=new a.EventEmitter,this.dragOver=new a.EventEmitter,this.dataAdd=new a.EventEmitter,this.dataRemove=new a.EventEmitter,this.activeIndex=-1,this.hintLocation=null,this.afterKeyPress=!1,this.transferService=null,this._hideActiveItem=!1,this.animating=!1,this.direction=e?"rtl":"ltr",this.transferService=t}return t.prototype.ngOnInit=function(){this.data||(this.data=[]),this.id=this.transferService.registerComponent(this),this.dragIndex=-1;var t="display";this.activeItemStyle&&!this.activeItemStyle[t]&&(this.activeItemStyle[t]=""),this.itemStyle[t]||(this.itemStyle[t]="")},t.prototype.ngOnDestroy=function(){this.transferService.unregisterComponent(this.id),this.transferService=null},t.prototype.ngAfterViewChecked=function(){if(this.afterKeyPress){if(this.itemWrappers){var t=this.itemWrappers.toArray();t&&t.length>0&&this.activeIndex>-1&&t[this.activeIndex].nativeElement.focus()}this.afterKeyPress=!1}},t.prototype.currentItemStyle=function(t){if(t===-1)return this.emptyItemStyle?this.emptyItemStyle:this.itemStyle;if(!this.itemEnabled(t)&&this.disabledItemStyle)return this.disabledItemStyle;if(t===this.dragIndex||this.dragIndex===-1&&t===this.activeIndex){if(this.hideActiveItem)return{display:"none"};if(this.activeItemStyle)return this.activeItemStyle}return this.itemStyle},t.prototype.currentItemClass=function(t){return t===-1?this.emptyItemClass?this.emptyItemClass:this.itemClass:!this.itemEnabled(t)&&this.disabledItemClass?this.disabledItemClass:(t===this.dragIndex||this.dragIndex===-1&&t===this.activeIndex)&&this.activeItemClass?this.activeItemClass:this.itemClass},t.prototype.hintStyle=function(){var t={left:this.hintLocation.x+10+"px",position:"absolute",top:this.hintLocation.y+10+"px"};return t},t.prototype.itemEnabled=function(t){return this.disabledIndexes.indexOf(t)===-1},t.prototype.acceptDragFrom=function(t){return!(void 0===this.zone||!t)&&(void 0===this.acceptZones?this.zone===t.zone:void 0!==t.zone&&this.acceptZones.indexOf(t.zone)!==-1)},t.prototype.ariaDropEffect=function(t){return this.itemEnabled(t)?"move":"none"},t.prototype.dragStartHandler=function(t,e){this.itemEnabled(e)&&t.dataTransfer.setData("text",""),this.touchStart(t,e)},t.prototype.focusHandler=function(t){this.navigatable&&(this.activeIndex=t)},t.prototype.blurHandler=function(){this.navigatable&&!this.afterKeyPress&&(this.activeIndex=-1)},t.prototype.keydownHandler=function(t){var e=t.keyCode,n=this.navigatable&&e>=37&&e<=40,i=this.activeIndex!==-1;if(n&&i){for(var a="rtl"===this.direction?39:37,r=38===e||e===a?-1:1,o=this.data.length-1,s=this.activeIndex+r;!this.itemEnabled(s)&&s<=o;)s+=r;if(s=Math.min(Math.max(s,0),o),this.itemEnabled(s)){var d=t.ctrlKey||t.metaKey,p=d&&n;p?(this.dragIndex=this.activeIndex,this.moveCurrentItemTo(s),this.activeIndex=this.dragIndex,this.dragIndex=-1):this.activeIndex=s,t.stopPropagation(),t.preventDefault(),this.afterKeyPress=!0}}},t.prototype.touchStart=function(t,e){this.itemEnabled(e)?(t.stopPropagation(),this.dragIndex=e,this.dragStart.emit({index:e}),this.transferService.setSource(this)):t.preventDefault()},t.prototype.dragStartPrevent=function(t){t.dataTransfer.setData("text",""),this.touchStartPrevent(t)},t.prototype.touchStartPrevent=function(t){t.stopPropagation(),t.preventDefault()},t.prototype.dragOverHandler=function(t,e){this.handleMove(t,e)},t.prototype.touchMove=function(t){var e=t.changedTouches[0];this.hintLocation={x:e.pageX,y:e.pageY};var n=this.transferService.getSortableComponentFromTouch(e);n&&n.component&&n.component.handleMove(t,n.index)},Object.defineProperty(t.prototype,"dir",{get:function(){return this.direction},enumerable:!0,configurable:!0}),t.prototype.removeActiveItem=function(){if(this.dragIndex>=0){var t=new o.DataEvent(this.dragIndex,this.data[this.dragIndex]);this.dataRemove.emit(t);var e=this.dragIndex+1;if(this.dragIndex=-1,!t.isDefaultPrevented()){for(;e<this.data.length;e++)this.data[e-1]=this.data[e];this.data.pop()}}},Object.defineProperty(t.prototype,"hideActiveItem",{get:function(){return this._hideActiveItem},set:function(t){this.activeIndex=-1,this._hideActiveItem=t},enumerable:!0,configurable:!0}),t.prototype.clearActiveItem=function(){this.navigatable&&this.fixFocus(),this.dragIndex=-1},t.prototype.getActiveItem=function(){if(this.data&&this.dragIndex>=0&&this.dragIndex<this.data.length)return this.data[this.dragIndex]},t.prototype.addDataItem=function(t,e){var n=new o.DataEvent(e,t);this.dataAdd.emit(n),n.isDefaultPrevented()||(this.data.push(t),this.dragIndex=this.data.length-1,this.moveCurrentItemTo(e))},t.prototype.moveCurrentItemTo=function(t){var e=this;if(t!==this.dragIndex&&this.itemEnabled(t)){var n=this.dragIndex;this.dragIndex=-1;for(var i=t>n?1:-1,a=this.data,r=a[n],o=n,s=[],d=n;n!==t;)n+=i,this.itemEnabled(n)&&(a[d]=a[n],this.animation&&s.push({next:n,prev:d}),d=n);a[n]=r,this.animation&&(s.push({next:o,prev:n}),setTimeout(function(){return e.animate(s)})),this.dragIndex=n}},t.prototype.animate=function(t){var e=this.itemWrappers.toArray(),n=[],i=[],a=this;this.animating=!0;for(var r=0;r<t.length;r++)n.push(e[t[r].prev].nativeElement.getBoundingClientRect()),i.push(e[t[r].next].nativeElement.getBoundingClientRect());for(var r=0;r<t.length;r++){var o=t[r].prev,s=i[r],d=n[r],p=e[o].nativeElement;this.applyAnimationStyle(p,"transition","none"),this.applyAnimationStyle(p,"transform","translate3d("+(s.left-d.left).toString()+"px,"+(s.top-d.top).toString()+"px,0)"),this.reflow(p)}for(var l=function(n){var i=t[n].prev,r=e[i].nativeElement;h.applyAnimationStyle(r,"transition","all 300ms"),h.applyAnimationStyle(r,"transform","translate3d(0,0,0)"),clearTimeout(r.animated),r.animated=setTimeout(function(){a.applyAnimationStyle(r,"transition",""),a.applyAnimationStyle(r,"transform",""),r.animated=!1},300)},h=this,r=0;r<t.length;r++)l(r);setTimeout(function(){a.animating=!1},150)},t.prototype.reflow=function(t){return t.offsetWidth},t.prototype.applyAnimationStyle=function(t,e,n){var i=t&&t.style;i&&(e in i||(e="-webkit-"+e),i[e]=n)},t.prototype.dragFinishHandler=function(t){"dragend"===t.type&&this.dragEnd.emit({index:this.dragIndex}),this.handleDrop()},t.prototype.touchFinish=function(t){this.hintLocation=null;var e=this.transferService.getSortableComponentFromTouch(t.changedTouches[0]);e&&e.component?(e.component.dragEnd.emit({index:e.index}),e.component.handleDrop()):this.dragEnd.emit({index:this.dragIndex}),this.handleDrop()},t.prototype.handleMove=function(t,e){this.itemEnabled(e)&&!this.animating&&(this.acceptDragFrom(this.transferService.getSource())&&this.transferService.initMove(this,e),this.dragIndex>=0&&(this.dragOver.emit({newIndex:e,oldIndex:this.dragIndex}),this.moveCurrentItemTo(e),t.preventDefault()))},t.prototype.handleDrop=function(){this.transferService.finishMove(),this.navigatable&&this.fixFocus(),this.dragIndex=-1},t.prototype.fixFocus=function(){if(this.itemWrappers){var t=this.itemWrappers.toArray();this.dragIndex>-1&&t&&t.length>0&&(t[this.dragIndex].nativeElement.focus(),this.activeIndex=this.dragIndex)}},i.__decorate([a.Input(),i.__metadata("design:type",Number)],t.prototype,"tabIndex",void 0),i.__decorate([a.Input(),i.__metadata("design:type",Array)],t.prototype,"data",void 0),i.__decorate([a.Input(),i.__metadata("design:type",Boolean)],t.prototype,"navigatable",void 0),i.__decorate([a.Input(),i.__metadata("design:type",Boolean)],t.prototype,"animation",void 0),i.__decorate([a.Input(),i.__metadata("design:type",Array)],t.prototype,"disabledIndexes",void 0),i.__decorate([a.Input(),i.__metadata("design:type",String)],t.prototype,"zone",void 0),i.__decorate([a.Input(),i.__metadata("design:type",Array)],t.prototype,"acceptZones",void 0),i.__decorate([a.Input(),i.__metadata("design:type",Object)],t.prototype,"itemStyle",void 0),i.__decorate([a.Input(),i.__metadata("design:type",Object)],t.prototype,"emptyItemStyle",void 0),i.__decorate([a.Input(),i.__metadata("design:type",Object)],t.prototype,"activeItemStyle",void 0),i.__decorate([a.Input(),i.__metadata("design:type",Object)],t.prototype,"disabledItemStyle",void 0),i.__decorate([a.Input(),i.__metadata("design:type",Object)],t.prototype,"itemClass",void 0),i.__decorate([a.Input(),i.__metadata("design:type",Object)],t.prototype,"activeItemClass",void 0),i.__decorate([a.Input(),i.__metadata("design:type",Object)],t.prototype,"emptyItemClass",void 0),i.__decorate([a.Input(),i.__metadata("design:type",Object)],t.prototype,"disabledItemClass",void 0),i.__decorate([a.Input(),i.__metadata("design:type",String)],t.prototype,"emptyText",void 0),i.__decorate([a.ContentChild(a.TemplateRef),i.__metadata("design:type",a.TemplateRef)],t.prototype,"itemTemplateRef",void 0),i.__decorate([a.ViewChildren("itemWrapper"),i.__metadata("design:type",a.QueryList)],t.prototype,"itemWrappers",void 0),i.__decorate([a.Output(),i.__metadata("design:type",a.EventEmitter)],t.prototype,"dragStart",void 0),i.__decorate([a.Output(),i.__metadata("design:type",a.EventEmitter)],t.prototype,"dragEnd",void 0),i.__decorate([a.Output(),i.__metadata("design:type",a.EventEmitter)],t.prototype,"dragOver",void 0),i.__decorate([a.Output(),i.__metadata("design:type",a.EventEmitter)],t.prototype,"dataAdd",void 0),i.__decorate([a.Output(),i.__metadata("design:type",a.EventEmitter)],t.prototype,"dataRemove",void 0),i.__decorate([a.Input(),i.__metadata("design:type",Number)],t.prototype,"activeIndex",void 0),i.__decorate([a.HostBinding("attr.dir"),i.__metadata("design:type",String),i.__metadata("design:paramtypes",[])],t.prototype,"dir",null),t=i.__decorate([a.Component({exportAs:"kendoSortable",selector:"kendo-sortable",template:'<div #itemWrapper *ngFor="let item of data;let i=index"\n    [ngStyle]="currentItemStyle(i)"\n    [ngClass] = "currentItemClass(i)"\n    [draggable]="itemEnabled(i)"\n    [attr.aria-disabled]="!itemEnabled(i)"\n    [attr.aria-grabbed]="i===dragIndex"\n    [attr.aria-dropeffect]="ariaDropEffect(i)"\n    [attr.tabIndex]="itemEnabled(i)?(navigatable?tabIndex||0:tabIndex):null"\n    (focus)="focusHandler(i)"\n    (blur)="blurHandler()"\n    (keydown)="keydownHandler($event)"\n    (dragstart)="dragStartHandler($event,i)"\n    (dragover)="dragOverHandler($event,i)"\n    (dragend)="dragFinishHandler($event)"\n    (drop)="dragFinishHandler($event)"\n\n    (touchstart)="touchStart($event , i)"\n    (touchmove)="touchMove($event)"\n    (touchend)="touchFinish($event)"\n    (touchcancel)="touchFinish($event)"\n    [attr.data-sortable-index]="i"\n    [attr.data-sortable-id]="id">\n\n      <ng-template [ngIf]="itemTemplateRef"\n        [ngTemplateOutlet]="itemTemplateRef"\n        [ngTemplateOutletContext]="{item: item, index: i, active: i===dragIndex, disabled: !itemEnabled(i)}">\n      </ng-template>\n      <ng-template [ngIf]="!itemTemplateRef">{{item}}</ng-template>\n    </div>\n\n    <ng-template [ngIf]="!data.length || data.length === 1 && hideActiveItem">\n        <div [ngStyle]="currentItemStyle(-1)"\n        [ngClass] = "currentItemClass(-1)"\n        [draggable]="true"\n        [attr.data-sortable-index]="0"\n        [attr.data-sortable-id]="id"\n        (dragstart)="dragStartPrevent($event)"\n        (touchstart)="touchStartPrevent($event)"\n        (dragover)="dragOverHandler($event,0)">{{emptyText}}</div>\n    </ng-template>\n    <div *ngIf="dragIndex>=0 && hintLocation" [ngStyle] = "hintStyle()">\n        <div [ngStyle]="currentItemStyle(dragIndex)" [ngClass]="currentItemClass(dragIndex)">\n            <ng-template [ngIf]="itemTemplateRef"\n                [ngTemplateOutlet]="itemTemplateRef"\n                [ngTemplateOutletContext]="{item: data[dragIndex]}">\n            </ng-template>\n            <ng-template [ngIf]="!itemTemplateRef">{{data[dragIndex]}}</ng-template>\n        </div>\n    </div>\n  '}),i.__param(1,a.Optional()),i.__param(1,a.Inject(r.RTL)),i.__metadata("design:paramtypes",[s.SortableService,Boolean])],t)}();e.SortableComponent=d},function(e,n){e.exports=t},function(t,n){t.exports=e},function(t,e){t.exports=n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),a=function(){function t(){this.prevented=!1}return t.prototype.preventDefault=function(){this.prevented=!0},t.prototype.isDefaultPrevented=function(){return this.prevented},t}();e.PreventableEvent=a;var r=function(t){function e(e,n){var i=t.call(this)||this;return i.index=e,i.dataItem=n,i}return i.__extends(e,t),e}(a);e.DataEvent=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),a=n(3),r=function(){function t(){this.source=null,this.previous=null,this.sortableCounter=0,this.sortableRegister={}}return t.prototype.registerComponent=function(t){var e=this.sortableCounter.toString();return this.sortableRegister[e]=t,this.sortableCounter++,e},t.prototype.unregisterComponent=function(t){this.sortableRegister[t]=null},t.prototype.setSource=function(t){this.source=t},t.prototype.getSource=function(){return this.source},t.prototype.initMove=function(t,e){t!==this.previous&&(this.previous&&(this.previous.removeActiveItem(),this.previous=null),t===this.source?this.source.hideActiveItem=!1:(t.addDataItem(this.source.getActiveItem(),e),this.source.hideActiveItem=!0,this.previous=t))},t.prototype.finishMove=function(){this.previous&&this.source&&(this.previous.clearActiveItem(),this.source.hideActiveItem=!1,this.source.removeActiveItem()),this.previous=null,this.source=null},t.prototype.getSortableComponentFromTouch=function(t){for(var e=document.elementFromPoint(t.clientX,t.clientY);e;){var n=e.getAttribute("data-sortable-id"),i=e.getAttribute("data-sortable-index");if(n){var a=this.sortableRegister[n];if(a)return{component:a,index:parseInt(i,10)}}e=e.parentElement}},t=i.__decorate([a.Injectable()],t)}();e.SortableService=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),a=n(3),r=n(8),o=n(1),s=n(6),d=[o.SortableComponent],p=function(){function t(){}return t=i.__decorate([a.NgModule({declarations:[d],exports:[d],imports:[r.CommonModule],providers:[s.SortableService]})],t)}();e.SortableModule=p},function(t,e){t.exports=i}])});